/*! For license information please see main.js.LICENSE.txt */
(()=>{var e,t,n={9058:(e,t,n)=>{"use strict";var r=n(3279),a=n(4485),i=n(7361),o=n(6968),l=n(84);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=s(r),c=s(a),d=s(i),f=s(o),p=s(l);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x="undefined"==typeof window?null:window,E=x?x.navigator:null;x&&x.document;var S=h(""),k=h({}),P=h((function(){})),C="undefined"==typeof HTMLElement?"undefined":h(HTMLElement),_=function(e){return e&&e.instanceString&&R(e.instanceString)?e.instanceString():null},D=function(e){return null!=e&&h(e)==S},R=function(e){return null!=e&&h(e)===P},O=function(e){return!A(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},T=function(e){return null!=e&&h(e)===k&&!O(e)&&e.constructor===Object},M=function(e){return null!=e&&h(e)===h(1)&&!isNaN(e)},B=function(e){return"undefined"===C?void 0:null!=e&&e instanceof HTMLElement},A=function(e){return I(e)||N(e)},I=function(e){return"collection"===_(e)&&e._private.single},N=function(e){return"collection"===_(e)&&!e._private.single},L=function(e){return"core"===_(e)},j=function(e){return"stylesheet"===_(e)},z=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},F=function(e){return function(e){return null!=e&&h(e)===k}(e)&&R(e.then)},V=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var r,a=this,i=arguments,o=t.apply(a,i),l=n.cache;return(r=l[o])||(r=l[o]=e.apply(a,i)),r};return n.cache={},n},H=V((function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))})),W=V((function(e){return e.replace(/(-\w)/g,(function(e){return e[1].toUpperCase()}))})),q=V((function(e,t){return e+t[0].toUpperCase()+t.substring(1)}),(function(e,t){return e+"$"+t})),U=function(e){return z(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},K="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",G=function(e,t){return e<t?-1:e>t?1:0},Y=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var a=Object.keys(r),i=0;i<a.length;i++){var o=a[i];e[o]=r[o]}}return e},X={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},$=function(e){for(var t=e.map,n=e.keys,r=n.length,a=0;a<r;a++){var i=n[a];if(T(i))throw Error("Tried to set map with object key");a<n.length-1?(null==t[i]&&(t[i]={}),t=t[i]):t[i]=e.value}},Q=function(e){for(var t=e.map,n=e.keys,r=n.length,a=0;a<r;a++){var i=n[a];if(T(i))throw Error("Tried to get map with object key");if(null==(t=t[i]))return t}return t},Z=x?x.performance:null,J=Z&&Z.now?function(){return Z.now()}:function(){return Date.now()},ee=function(){if(x){if(x.requestAnimationFrame)return function(e){x.requestAnimationFrame(e)};if(x.mozRequestAnimationFrame)return function(e){x.mozRequestAnimationFrame(e)};if(x.webkitRequestAnimationFrame)return function(e){x.webkitRequestAnimationFrame(e)};if(x.msRequestAnimationFrame)return function(e){x.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout((function(){e(J())}),1e3/60)}}(),te=function(e){return ee(e)},ne=J,re=9261,ae=65599,ie=5381,oe=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re,r=n;!(t=e.next()).done;)r=r*ae+t.value|0;return r},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return t*ae+e|0},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie;return(t<<5)+t+e|0},ue=function(e){return 2097152*e[0]+e[1]},ce=function(e,t){return[le(e[0],t[0]),se(e[1],t[1])]},de=function(e,t){var n={value:0,done:!1},r=0,a=e.length;return oe({next:function(){return r<a?n.value=e.charCodeAt(r++):n.done=!0,n}},t)},fe=function(){return pe(arguments)},pe=function(e){for(var t,n=0;n<e.length;n++){var r=e[n];t=0===n?de(r):de(r,t)}return t},he=!0,ge=null!=console.warn,ve=null!=console.trace,ye=Number.MAX_SAFE_INTEGER||9007199254740991,me=function(){return!0},be=function(){return!1},we=function(){return 0},xe=function(){},Ee=function(e){throw new Error(e)},Se=function(e){if(void 0===e)return he;he=!!e},ke=function(e){Se()&&(ge?console.warn(e):(console.log(e),ve&&console.trace()))},Pe=function(e){return null==e?e:O(e)?e.slice():T(e)?function(e){return Y({},e)}(e):e},Ce=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},_e={},De=function(){return _e},Re=function(e){var t=Object.keys(e);return function(n){for(var r={},a=0;a<t.length;a++){var i=t[a],o=null==n?void 0:n[i];r[i]=void 0===o?e[i]:o}return r}},Oe=function(e,t,n){for(var r=e.length-1;r>=0&&(e[r]!==t||(e.splice(r,1),!n));r--);},Te=function(e){e.splice(0,e.length)},Me=function(e,t,n){return n&&(t=q(n,t)),e[t]},Be=function(e,t,n,r){n&&(t=q(n,t)),e[t]=r},Ae="undefined"!=typeof Map?Map:function(){function e(){g(this,e),this._obj={}}return y(e,[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}]),e}(),Ie=function(){function e(t){if(g(this,e),this._obj=Object.create(null),this.size=0,null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var r=0;r<n.length;r++)this.add(n[r])}}return y(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter((function(t){return e.has(t)}))}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}]),e}(),Ne="undefined"!==("undefined"==typeof Set?"undefined":h(Set))?Set:Ie,Le=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&L(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===r:!!t.pannable,active:!1,classes:new Ne,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==a.position.x&&(a.position.x=0),null==a.position.y&&(a.position.y=0),t.renderedPosition){var i=t.renderedPosition,o=e.pan(),l=e.zoom();a.position={x:(i.x-o.x)/l,y:(i.y-o.y)/l}}var s=[];O(t.classes)?s=t.classes:D(t.classes)&&(s=t.classes.split(/\s+/));for(var u=0,c=s.length;u<c;u++){var d=s[u];d&&""!==d&&a.classes.add(d)}this.createEmitter();var f=t.style||t.css;f&&(ke("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(f)),(void 0===n||n)&&this.restore()}else Ee("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else Ee("An element must have a core reference and parameters set")},je=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,r){var a;T(t)&&!A(t)&&(t=(a=t).roots||a.root,n=a.visit,r=a.directed),r=2!==arguments.length||R(n)?r:n,n=R(n)?n:function(){};for(var i,o=this._private.cy,l=t=D(t)?this.filter(t):t,s=[],u=[],c={},d={},f={},p=0,h=this.byGroup(),g=h.nodes,v=h.edges,y=0;y<l.length;y++){var m=l[y],b=m.id();m.isNode()&&(s.unshift(m),e.bfs&&(f[b]=!0,u.push(m)),d[b]=0)}for(var w=function(){var t=e.bfs?s.shift():s.pop(),a=t.id();if(e.dfs){if(f[a])return"continue";f[a]=!0,u.push(t)}var o,l=d[a],h=c[a],y=null!=h?h.source():null,m=null!=h?h.target():null,b=null==h?void 0:t.same(y)?m[0]:y[0];if(!0===(o=n(t,h,b,p++,l)))return i=t,"break";if(!1===o)return"break";for(var w=t.connectedEdges().filter((function(e){return(!r||e.source().same(t))&&v.has(e)})),x=0;x<w.length;x++){var E=w[x],S=E.connectedNodes().filter((function(e){return!e.same(t)&&g.has(e)})),k=S.id();0===S.length||f[k]||(S=S[0],s.push(S),e.bfs&&(f[k]=!0,u.push(S)),c[k]=E,d[k]=d[a]+1)}};0!==s.length;){var x=w();if("continue"!==x&&"break"===x)break}for(var E=o.collection(),S=0;S<u.length;S++){var k=u[S],P=c[k.id()];null!=P&&E.push(P),E.push(k)}return{path:o.collection(E),found:o.collection(i)}}},ze={breadthFirstSearch:je({bfs:!0}),depthFirstSearch:je({dfs:!0})};ze.bfs=ze.breadthFirstSearch,ze.dfs=ze.depthFirstSearch;var Fe=Re({root:null,weight:function(e){return 1},directed:!1}),Ve={dijkstra:function(e){if(!T(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=Fe(e),r=n.root,a=n.weight,i=n.directed,o=this,l=a,s=D(r)?this.filter(r)[0]:r[0],u={},d={},f={},p=this.byGroup(),h=p.nodes,g=p.edges;g.unmergeBy((function(e){return e.isLoop()}));for(var v=function(e){return u[e.id()]},y=function(e,t){u[e.id()]=t,m.updateItem(e)},m=new c.default((function(e,t){return v(e)-v(t)})),b=0;b<h.length;b++){var w=h[b];u[w.id()]=w.same(s)?0:1/0,m.push(w)}for(var x=function(e,t){for(var n,r=(i?e.edgesTo(t):e.edgesWith(t)).intersect(g),a=1/0,o=0;o<r.length;o++){var s=r[o],u=l(s);(u<a||!n)&&(a=u,n=s)}return{edge:n,dist:a}};m.size()>0;){var E=m.pop(),S=v(E),k=E.id();if(f[k]=S,S!==1/0)for(var P=E.neighborhood().intersect(h),C=0;C<P.length;C++){var _=P[C],R=_.id(),O=x(E,_),M=S+O.dist;M<v(_)&&(y(_,M),d[R]={node:E,edge:O.edge})}}return{distanceTo:function(e){var t=D(e)?h.filter(e)[0]:e[0];return f[t.id()]},pathTo:function(e){var t=D(e)?h.filter(e)[0]:e[0],n=[],r=t,a=r.id();if(t.length>0)for(n.unshift(t);d[a];){var i=d[a];n.unshift(i.edge),n.unshift(i.node),a=(r=i.node).id()}return o.spawn(n)}}}},He={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,r=t.edges,a=n.length,i=new Array(a),o=n,l=function(e){for(var t=0;t<i.length;t++)if(i[t].has(e))return t},s=0;s<a;s++)i[s]=this.spawn(n[s]);for(var u=r.sort((function(t,n){return e(t)-e(n)})),c=0;c<u.length;c++){var d=u[c],f=d.source()[0],p=d.target()[0],h=l(f),g=l(p),v=i[h],y=i[g];h!==g&&(o.merge(d),v.merge(y),i.splice(g,1))}return o}},We=Re({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),qe={aStar:function(e){var t=this.cy(),n=We(e),r=n.root,a=n.goal,i=n.heuristic,o=n.directed,l=n.weight;r=t.collection(r)[0],a=t.collection(a)[0];var s,u,d=r.id(),f=a.id(),p={},h={},g={},v=new c.default((function(e,t){return h[e.id()]-h[t.id()]})),y=new Ne,m={},b={},w=function(e,t){v.push(e),y.add(t)};w(r,d),p[d]=0,h[d]=i(r);for(var x,E=0;v.size()>0;){if(u=(s=v.pop()).id(),y.delete(u),E++,u===f){for(var S=[],k=a,P=f,C=b[P];S.unshift(k),null!=C&&S.unshift(C),null!=(k=m[P]);)C=b[P=k.id()];return{found:!0,distance:p[u],path:this.spawn(S),steps:E}}g[u]=!0;for(var _=s._private.edges,D=0;D<_.length;D++){var R=_[D];if(this.hasElementWithId(R.id())&&(!o||R.data("source")===u)){var O=R.source(),T=R.target(),M=O.id()!==u?O:T,B=M.id();if(this.hasElementWithId(B)&&!g[B]){var A=p[u]+l(R);x=B,y.has(x)?A<p[B]&&(p[B]=A,h[B]=A+i(M),m[B]=s,b[B]=R):(p[B]=A,h[B]=A+i(M),w(M,B),m[B]=s,b[B]=R)}}}}return{found:!1,distance:void 0,path:void 0,steps:E}}},Ue=Re({weight:function(e){return 1},directed:!1}),Ke={floydWarshall:function(e){for(var t=this.cy(),n=Ue(e),r=n.weight,a=n.directed,i=r,o=this.byGroup(),l=o.nodes,s=o.edges,u=l.length,c=u*u,d=function(e){return l.indexOf(e)},f=function(e){return l[e]},p=new Array(c),h=0;h<c;h++){var g=h%u,v=(h-g)/u;p[h]=v===g?0:1/0}for(var y=new Array(c),m=new Array(c),b=0;b<s.length;b++){var w=s[b],x=w.source()[0],E=w.target()[0];if(x!==E){var S=d(x),k=d(E),P=S*u+k,C=i(w);if(p[P]>C&&(p[P]=C,y[P]=k,m[P]=w),!a){var _=k*u+S;!a&&p[_]>C&&(p[_]=C,y[_]=S,m[_]=w)}}}for(var R=0;R<u;R++)for(var O=0;O<u;O++)for(var T=O*u+R,M=0;M<u;M++){var B=O*u+M,A=R*u+M;p[T]+p[A]<p[B]&&(p[B]=p[T]+p[A],y[B]=y[T])}var I=function(e){return d(function(e){return(D(e)?t.filter(e):e)[0]}(e))};return{distance:function(e,t){var n=I(e),r=I(t);return p[n*u+r]},path:function(e,n){var r=I(e),a=I(n),i=f(r);if(r===a)return i.collection();if(null==y[r*u+a])return t.collection();var o,l=t.collection(),s=r;for(l.merge(i);r!==a;)s=r,r=y[r*u+a],o=m[s*u+r],l.merge(o),l.merge(f(r));return l}}}},Ge=Re({weight:function(e){return 1},directed:!1,root:null}),Ye={bellmanFord:function(e){var t=this,n=Ge(e),r=n.weight,a=n.directed,i=n.root,o=r,l=this,s=this.cy(),u=this.byGroup(),c=u.edges,d=u.nodes,f=d.length,p=new Ae,h=!1,g=[];i=s.collection(i)[0],c.unmergeBy((function(e){return e.isLoop()}));for(var v=c.length,y=function(e){var t=p.get(e.id());return t||(t={},p.set(e.id(),t)),t},m=function(e){return(D(e)?s.$(e):e)[0]},b=0;b<f;b++){var w=d[b],x=y(w);w.same(i)?x.dist=0:x.dist=1/0,x.pred=null,x.edge=null}for(var E=!1,S=function(e,t,n,r,a,i){var o=r.dist+i;o<a.dist&&!n.same(r.edge)&&(a.dist=o,a.pred=e,a.edge=n,E=!0)},k=1;k<f;k++){E=!1;for(var P=0;P<v;P++){var C=c[P],_=C.source(),R=C.target(),O=o(C),T=y(_),M=y(R);S(_,0,C,T,M,O),a||S(R,0,C,M,T,O)}if(!E)break}if(E)for(var B=[],A=0;A<v;A++){var I=c[A],N=I.source(),L=I.target(),j=o(I),z=y(N).dist,F=y(L).dist;if(z+j<F||!a&&F+j<z){if(h||(ke("Graph contains a negative weight cycle for Bellman-Ford"),h=!0),!1===e.findNegativeWeightCycles)break;var V=[];z+j<F&&V.push(N),!a&&F+j<z&&V.push(L);for(var H=V.length,W=0;W<H;W++){var q=V[W],U=[q];U.push(y(q).edge);for(var K=y(q).pred;-1===U.indexOf(K);)U.push(K),U.push(y(K).edge),K=y(K).pred;for(var G=(U=U.slice(U.indexOf(K)))[0].id(),Y=0,X=2;X<U.length;X+=2)U[X].id()<G&&(G=U[X].id(),Y=X);(U=U.slice(Y).concat(U.slice(0,Y))).push(U[0]);var $=U.map((function(e){return e.id()})).join(",");-1===B.indexOf($)&&(g.push(l.spawn(U)),B.push($))}}}return{distanceTo:function(e){return y(m(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=m(e),a=[],o=r;;){if(null==o)return t.spawn();var s=y(o),u=s.edge,c=s.pred;if(a.unshift(o[0]),o.same(n)&&a.length>0)break;null!=u&&a.unshift(u),o=c}return l.spawn(a)},hasNegativeWeightCycle:h,negativeWeightCycles:g}}},Xe=Math.sqrt(2),$e=function(e,t,n){0===n.length&&Ee("Karger-Stein must be run on a connected (sub)graph");for(var r=n[e],a=r[1],i=r[2],o=t[a],l=t[i],s=n,u=s.length-1;u>=0;u--){var c=s[u],d=c[1],f=c[2];(t[d]===o&&t[f]===l||t[d]===l&&t[f]===o)&&s.splice(u,1)}for(var p=0;p<s.length;p++){var h=s[p];h[1]===l?(s[p]=h.slice(),s[p][1]=o):h[2]===l&&(s[p]=h.slice(),s[p][2]=o)}for(var g=0;g<t.length;g++)t[g]===l&&(t[g]=o);return s},Qe=function(e,t,n,r){for(;n>r;){var a=Math.floor(Math.random()*t.length);t=$e(a,e,t),n--}return t},Ze={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,r=t.edges;r.unmergeBy((function(e){return e.isLoop()}));var a=n.length,i=r.length,o=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/Xe);if(!(a<2)){for(var s=[],u=0;u<i;u++){var c=r[u];s.push([u,n.indexOf(c.source()),n.indexOf(c.target())])}for(var d=1/0,f=[],p=new Array(a),h=new Array(a),g=new Array(a),v=function(e,t){for(var n=0;n<a;n++)t[n]=e[n]},y=0;y<=o;y++){for(var m=0;m<a;m++)h[m]=m;var b=Qe(h,s.slice(),a,l),w=b.slice();v(h,g);var x=Qe(h,b,l,2),E=Qe(g,w,l,2);x.length<=E.length&&x.length<d?(d=x.length,f=x,v(h,p)):E.length<=x.length&&E.length<d&&(d=E.length,f=E,v(g,p))}for(var S=this.spawn(f.map((function(e){return r[e[0]]}))),k=this.spawn(),P=this.spawn(),C=p[0],_=0;_<p.length;_++){var D=p[_],R=n[_];D===C?k.merge(R):P.merge(R)}var O=function(t){var n=e.spawn();return t.forEach((function(t){n.merge(t),t.connectedEdges().forEach((function(t){e.contains(t)&&!S.contains(t)&&n.merge(t)}))})),n},T=[O(k),O(P)];return{cut:S,components:T,partition1:k,partition2:P}}Ee("At least 2 nodes are required for Karger-Stein algorithm")}},Je=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},et=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},tt=function(e){return{x:e[0],y:e[1]}},nt=function(e,t){return Math.atan2(t,e)-Math.PI/2},rt=Math.log2||function(e){return Math.log(e)/Math.log(2)},at=function(e){return e>0?1:e<0?-1:0},it=function(e,t){return Math.sqrt(ot(e,t))},ot=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},lt=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var a=0;a<t;a++)e[a]=e[a]/n;return e},st=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},ut=function(e,t,n,r){return{x:st(e.x,t.x,n.x,r),y:st(e.y,t.y,n.y,r)}},ct=function(e,t,n){return Math.max(e,Math.min(n,t))},dt=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},ft=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},ht=function(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===i.length)t=n=r=a=i[0];else if(2===i.length)t=r=i[0],a=n=i[1];else if(4===i.length){var o=b(i,4);t=o[0],n=o[1],r=o[2],a=o[3]}return e.x1-=a,e.x2+=n,e.y1-=t,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},gt=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},vt=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},yt=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},mt=function(e,t){return yt(e,t.x1,t.y1)&&yt(e,t.x2,t.y2)},bt=function(e,t,n,r,a,i,o){var l,s=Lt(a,i),u=a/2,c=i/2,d=r-c-o;if((l=Tt(e,t,n,r,n-u+s-o,d,n+u-s+o,d,!1)).length>0)return l;var f=n+u+o;if((l=Tt(e,t,n,r,f,r-c+s-o,f,r+c-s+o,!1)).length>0)return l;var p=r+c+o;if((l=Tt(e,t,n,r,n-u+s-o,p,n+u-s+o,p,!1)).length>0)return l;var h,g=n-u-o;if((l=Tt(e,t,n,r,g,r-c+s-o,g,r+c-s+o,!1)).length>0)return l;var v=n-u+s,y=r-c+s;if((h=Rt(e,t,n,r,v,y,s+o)).length>0&&h[0]<=v&&h[1]<=y)return[h[0],h[1]];var m=n+u-s,b=r-c+s;if((h=Rt(e,t,n,r,m,b,s+o)).length>0&&h[0]>=m&&h[1]<=b)return[h[0],h[1]];var w=n+u-s,x=r+c-s;if((h=Rt(e,t,n,r,w,x,s+o)).length>0&&h[0]>=w&&h[1]>=x)return[h[0],h[1]];var E=n-u+s,S=r+c-s;return(h=Rt(e,t,n,r,E,S,s+o)).length>0&&h[0]<=E&&h[1]>=S?[h[0],h[1]]:[]},wt=function(e,t,n,r,a,i,o){var l=o,s=Math.min(n,a),u=Math.max(n,a),c=Math.min(r,i),d=Math.max(r,i);return s-l<=e&&e<=u+l&&c-l<=t&&t<=d+l},xt=function(e,t,n,r,a,i,o,l,s){var u=Math.min(n,o,a)-s,c=Math.max(n,o,a)+s,d=Math.min(r,l,i)-s,f=Math.max(r,l,i)+s;return!(e<u||e>c||t<d||t>f)},Et=function(e,t,n,r,a,i,o,l){var s,u,c,d,f,p,h,g,v,y,m,b,w,x=[];u=9*n*a-3*n*n-3*n*o-6*a*a+3*a*o+9*r*i-3*r*r-3*r*l-6*i*i+3*i*l,c=3*n*n-6*n*a+n*o-n*e+2*a*a+2*a*e-o*e+3*r*r-6*r*i+r*l-r*t+2*i*i+2*i*t-l*t,d=1*n*a-n*n+n*e-a*e+r*i-r*r+r*t-i*t,0===(s=1*n*n-4*n*a+2*n*o+4*a*a-4*a*o+o*o+r*r-4*r*i+2*r*l+4*i*i-4*i*l+l*l)&&(s=1e-5),g=-27*(d/=s)+(u/=s)*(9*(c/=s)-u*u*2),p=(h=(3*c-u*u)/9)*h*h+(g/=54)*g,(f=x)[1]=0,b=u/3,p>0?(y=(y=g+Math.sqrt(p))<0?-Math.pow(-y,1/3):Math.pow(y,1/3),m=(m=g-Math.sqrt(p))<0?-Math.pow(-m,1/3):Math.pow(m,1/3),f[0]=-b+y+m,b+=(y+m)/2,f[4]=f[2]=-b,b=Math.sqrt(3)*(-m+y)/2,f[3]=b,f[5]=-b):(f[5]=f[3]=0,0===p?(w=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),f[0]=2*w-b,f[4]=f[2]=-(w+b)):(v=(h=-h)*h*h,v=Math.acos(g/Math.sqrt(v)),w=2*Math.sqrt(h),f[0]=-b+w*Math.cos(v/3),f[2]=-b+w*Math.cos((v+2*Math.PI)/3),f[4]=-b+w*Math.cos((v+4*Math.PI)/3)));for(var E=[],S=0;S<6;S+=2)Math.abs(x[S+1])<1e-7&&x[S]>=0&&x[S]<=1&&E.push(x[S]);E.push(1),E.push(0);for(var k,P,C,_=-1,D=0;D<E.length;D++)k=Math.pow(1-E[D],2)*n+2*(1-E[D])*E[D]*a+E[D]*E[D]*o,P=Math.pow(1-E[D],2)*r+2*(1-E[D])*E[D]*i+E[D]*E[D]*l,C=Math.pow(k-e,2)+Math.pow(P-t,2),_>=0?C<_&&(_=C):_=C;return _},St=function(e,t,n,r,a,i){var o=[e-n,t-r],l=[a-n,i-r],s=l[0]*l[0]+l[1]*l[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*l[0]+o[1]*l[1],d=c*c/s;return c<0?u:d>s?(e-a)*(e-a)+(t-i)*(t-i):u-d},kt=function(e,t,n){for(var r,a,i,o,l=0,s=0;s<n.length/2;s++)if(r=n[2*s],a=n[2*s+1],s+1<n.length/2?(i=n[2*(s+1)],o=n[2*(s+1)+1]):(i=n[2*(s+1-n.length/2)],o=n[2*(s+1-n.length/2)+1]),r==e&&i==e);else{if(!(r>=e&&e>=i||r<=e&&e<=i))continue;(e-r)/(i-r)*(o-a)+a>t&&l++}return l%2!=0},Pt=function(e,t,n,r,a,i,o,l,s){var u,c=new Array(n.length);null!=l[0]?(u=Math.atan(l[1]/l[0]),l[0]<0?u+=Math.PI/2:u=-u-Math.PI/2):u=l;for(var d,f=Math.cos(-u),p=Math.sin(-u),h=0;h<c.length/2;h++)c[2*h]=i/2*(n[2*h]*f-n[2*h+1]*p),c[2*h+1]=o/2*(n[2*h+1]*f+n[2*h]*p),c[2*h]+=r,c[2*h+1]+=a;if(s>0){var g=_t(c,-s);d=Ct(g)}else d=c;return kt(e,t,d)},Ct=function(e){for(var t,n,r,a,i,o,l,s,u=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],n=e[4*c+1],r=e[4*c+2],a=e[4*c+3],c<e.length/4-1?(i=e[4*(c+1)],o=e[4*(c+1)+1],l=e[4*(c+1)+2],s=e[4*(c+1)+3]):(i=e[0],o=e[1],l=e[2],s=e[3]);var d=Tt(t,n,r,a,i,o,l,s,!0);u[2*c]=d[0],u[2*c+1]=d[1]}return u},_t=function(e,t){for(var n,r,a,i,o=new Array(2*e.length),l=0;l<e.length/2;l++){n=e[2*l],r=e[2*l+1],l<e.length/2-1?(a=e[2*(l+1)],i=e[2*(l+1)+1]):(a=e[0],i=e[1]);var s=i-r,u=-(a-n),c=Math.sqrt(s*s+u*u),d=s/c,f=u/c;o[4*l]=n+d*t,o[4*l+1]=r+f*t,o[4*l+2]=a+d*t,o[4*l+3]=i+f*t}return o},Dt=function(e,t,n,r,a,i,o){return e-=a,t-=i,(e/=n/2+o)*e+(t/=r/2+o)*t<=1},Rt=function(e,t,n,r,a,i,o){var l=[n-e,r-t],s=[e-a,t-i],u=l[0]*l[0]+l[1]*l[1],c=2*(s[0]*l[0]+s[1]*l[1]),d=c*c-4*u*(s[0]*s[0]+s[1]*s[1]-o*o);if(d<0)return[];var f=(-c+Math.sqrt(d))/(2*u),p=(-c-Math.sqrt(d))/(2*u),h=Math.min(f,p),g=Math.max(f,p),v=[];if(h>=0&&h<=1&&v.push(h),g>=0&&g<=1&&v.push(g),0===v.length)return[];var y=v[0]*l[0]+e,m=v[0]*l[1]+t;return v.length>1?v[0]==v[1]?[y,m]:[y,m,v[1]*l[0]+e,v[1]*l[1]+t]:[y,m]},Ot=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Tt=function(e,t,n,r,a,i,o,l,s){var u=e-a,c=n-e,d=o-a,f=t-i,p=r-t,h=l-i,g=d*f-h*u,v=c*f-p*u,y=h*c-d*p;if(0!==y){var m=g/y,b=v/y,w=-.001;return w<=m&&m<=1.001&&w<=b&&b<=1.001||s?[e+m*c,t+m*p]:[]}return 0===g||0===v?Ot(e,n,o)===o?[o,l]:Ot(e,n,a)===a?[a,i]:Ot(a,o,n)===n?[n,r]:[]:[]},Mt=function(e,t,n,r,a,i,o,l){var s,u,c,d,f,p,h=[],g=new Array(n.length),v=!0;if(null==i&&(v=!1),v){for(var y=0;y<g.length/2;y++)g[2*y]=n[2*y]*i+r,g[2*y+1]=n[2*y+1]*o+a;if(l>0){var m=_t(g,-l);u=Ct(m)}else u=g}else u=n;for(var b=0;b<u.length/2;b++)c=u[2*b],d=u[2*b+1],b<u.length/2-1?(f=u[2*(b+1)],p=u[2*(b+1)+1]):(f=u[0],p=u[1]),0!==(s=Tt(e,t,r,a,c,d,f,p)).length&&h.push(s[0],s[1]);return h},Bt=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],a=Math.sqrt(r[0]*r[0]+r[1]*r[1]),i=(a-n)/a;return i<0&&(i=1e-5),[t[0]+i*r[0],t[1]+i*r[1]]},At=function(e,t){var n=Nt(e,t);return It(n)},It=function(e){for(var t,n,r=e.length/2,a=1/0,i=1/0,o=-1/0,l=-1/0,s=0;s<r;s++)t=e[2*s],n=e[2*s+1],a=Math.min(a,t),o=Math.max(o,t),i=Math.min(i,n),l=Math.max(l,n);for(var u=2/(o-a),c=2/(l-i),d=0;d<r;d++)t=e[2*d]=e[2*d]*u,n=e[2*d+1]=e[2*d+1]*c,a=Math.min(a,t),o=Math.max(o,t),i=Math.min(i,n),l=Math.max(l,n);if(i<-1)for(var f=0;f<r;f++)n=e[2*f+1]=e[2*f+1]+(-1-i);return e},Nt=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var a,i=new Array(2*e),o=0;o<e;o++)a=o*n+r,i[2*o]=Math.cos(a),i[2*o+1]=Math.sin(-a);return i},Lt=function(e,t){return Math.min(e/4,t/4,8)},jt=function(e,t){return Math.min(e/10,t/10,8)},zt=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Ft=Re({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Vt={pageRank:function(e){for(var t=Ft(e),n=t.dampingFactor,r=t.precision,a=t.iterations,i=t.weight,o=this._private.cy,l=this.byGroup(),s=l.nodes,u=l.edges,c=s.length,d=c*c,f=u.length,p=new Array(d),h=new Array(c),g=(1-n)/c,v=0;v<c;v++){for(var y=0;y<c;y++)p[v*c+y]=0;h[v]=0}for(var m=0;m<f;m++){var b=u[m],w=b.data("source"),x=b.data("target");if(w!==x){var E=s.indexOfId(w),S=s.indexOfId(x),k=i(b);p[S*c+E]+=k,h[E]+=k}}for(var P=1/c+g,C=0;C<c;C++)if(0===h[C])for(var _=0;_<c;_++)p[_*c+C]=P;else for(var D=0;D<c;D++){var R=D*c+C;p[R]=p[R]/h[C]+g}for(var O,T=new Array(c),M=new Array(c),B=0;B<c;B++)T[B]=1;for(var A=0;A<a;A++){for(var I=0;I<c;I++)M[I]=0;for(var N=0;N<c;N++)for(var L=0;L<c;L++){var j=N*c+L;M[N]+=p[j]*T[L]}lt(M),O=T,T=M,M=O;for(var z=0,F=0;F<c;F++){var V=O[F]-T[F];z+=V*V}if(z<r)break}return{rank:function(e){return e=o.collection(e)[0],T[s.indexOf(e)]}}}},Ht=Re({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Wt={degreeCentralityNormalized:function(e){e=Ht(e);var t=this.cy(),n=this.nodes(),r=n.length;if(e.directed){for(var a={},i={},o=0,l=0,s=0;s<r;s++){var u=n[s],c=u.id();e.root=u;var d=this.degreeCentrality(e);o<d.indegree&&(o=d.indegree),l<d.outdegree&&(l=d.outdegree),a[c]=d.indegree,i[c]=d.outdegree}return{indegree:function(e){return 0==o?0:(D(e)&&(e=t.filter(e)),a[e.id()]/o)},outdegree:function(e){return 0===l?0:(D(e)&&(e=t.filter(e)),i[e.id()]/l)}}}for(var f={},p=0,h=0;h<r;h++){var g=n[h];e.root=g;var v=this.degreeCentrality(e);p<v.degree&&(p=v.degree),f[g.id()]=v.degree}return{degree:function(e){return 0===p?0:(D(e)&&(e=t.filter(e)),f[e.id()]/p)}}},degreeCentrality:function(e){e=Ht(e);var t=this.cy(),n=this,r=e,a=r.root,i=r.weight,o=r.directed,l=r.alpha;if(a=t.collection(a)[0],o){for(var s=a.connectedEdges(),u=s.filter((function(e){return e.target().same(a)&&n.has(e)})),c=s.filter((function(e){return e.source().same(a)&&n.has(e)})),d=u.length,f=c.length,p=0,h=0,g=0;g<u.length;g++)p+=i(u[g]);for(var v=0;v<c.length;v++)h+=i(c[v]);return{indegree:Math.pow(d,1-l)*Math.pow(p,l),outdegree:Math.pow(f,1-l)*Math.pow(h,l)}}for(var y=a.connectedEdges().intersection(n),m=y.length,b=0,w=0;w<y.length;w++)b+=i(y[w]);return{degree:Math.pow(m,1-l)*Math.pow(b,l)}}};Wt.dc=Wt.degreeCentrality,Wt.dcn=Wt.degreeCentralityNormalised=Wt.degreeCentralityNormalized;var qt=Re({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ut={closenessCentralityNormalized:function(e){for(var t=qt(e),n=t.harmonic,r=t.weight,a=t.directed,i=this.cy(),o={},l=0,s=this.nodes(),u=this.floydWarshall({weight:r,directed:a}),c=0;c<s.length;c++){for(var d=0,f=s[c],p=0;p<s.length;p++)if(c!==p){var h=u.distance(f,s[p]);d+=n?1/h:h}n||(d=1/d),l<d&&(l=d),o[f.id()]=d}return{closeness:function(e){return 0==l?0:(e=D(e)?i.filter(e)[0].id():e.id(),o[e]/l)}}},closenessCentrality:function(e){var t=qt(e),n=t.root,r=t.weight,a=t.directed,i=t.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:r,directed:a}),l=0,s=this.nodes(),u=0;u<s.length;u++){var c=s[u];if(!c.same(n)){var d=o.distanceTo(c);l+=i?1/d:d}}return i?l:1/l}};Ut.cc=Ut.closenessCentrality,Ut.ccn=Ut.closenessCentralityNormalised=Ut.closenessCentralityNormalized;var Kt=Re({weight:null,directed:!1}),Gt={betweennessCentrality:function(e){for(var t=Kt(e),n=t.directed,r=t.weight,a=null!=r,i=this.cy(),o=this.nodes(),l={},s={},u=0,d=function(e,t){s[e]=t,t>u&&(u=t)},f=function(e){return s[e]},p=0;p<o.length;p++){var h=o[p],g=h.id();l[g]=n?h.outgoers().nodes():h.openNeighborhood().nodes(),d(g,0)}for(var v=function(e){for(var t=o[e].id(),n=[],s={},u={},p={},h=new c.default((function(e,t){return p[e]-p[t]})),g=0;g<o.length;g++){var v=o[g].id();s[v]=[],u[v]=0,p[v]=1/0}for(u[t]=1,p[t]=0,h.push(t);!h.empty();){var y=h.pop();if(n.push(y),a)for(var m=0;m<l[y].length;m++){var b,w=l[y][m],x=i.getElementById(y);b=x.edgesTo(w).length>0?x.edgesTo(w)[0]:w.edgesTo(x)[0];var E=r(b);w=w.id(),p[w]>p[y]+E&&(p[w]=p[y]+E,h.nodes.indexOf(w)<0?h.push(w):h.updateItem(w),u[w]=0,s[w]=[]),p[w]==p[y]+E&&(u[w]=u[w]+u[y],s[w].push(y))}else for(var S=0;S<l[y].length;S++){var k=l[y][S].id();p[k]==1/0&&(h.push(k),p[k]=p[y]+1),p[k]==p[y]+1&&(u[k]=u[k]+u[y],s[k].push(y))}}for(var P={},C=0;C<o.length;C++)P[o[C].id()]=0;for(;n.length>0;){for(var _=n.pop(),D=0;D<s[_].length;D++){var R=s[_][D];P[R]=P[R]+u[R]/u[_]*(1+P[_])}_!=o[e].id()&&d(_,f(_)+P[_])}},y=0;y<o.length;y++)v(y);var m={betweenness:function(e){var t=i.collection(e).id();return f(t)},betweennessNormalized:function(e){if(0==u)return 0;var t=i.collection(e).id();return f(t)/u}};return m.betweennessNormalised=m.betweennessNormalized,m}};Gt.bc=Gt.betweennessCentrality;var Yt=Re({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),Xt=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r](e);return n},$t=function(e,t){for(var n,r=0;r<t;r++){n=0;for(var a=0;a<t;a++)n+=e[a*t+r];for(var i=0;i<t;i++)e[i*t+r]=e[i*t+r]/n}},Qt=function(e,t,n){for(var r=new Array(n*n),a=0;a<n;a++){for(var i=0;i<n;i++)r[a*n+i]=0;for(var o=0;o<n;o++)for(var l=0;l<n;l++)r[a*n+l]+=e[a*n+o]*t[o*n+l]}return r},Zt=function(e,t,n){for(var r=e.slice(0),a=1;a<n;a++)e=Qt(e,r,t);return e},Jt=function(e,t,n){for(var r=new Array(t*t),a=0;a<t*t;a++)r[a]=Math.pow(e[a],n);return $t(r,t),r},en=function(e,t,n,r){for(var a=0;a<n;a++)if(Math.round(e[a]*Math.pow(10,r))/Math.pow(10,r)!=Math.round(t[a]*Math.pow(10,r))/Math.pow(10,r))return!1;return!0},tn=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},nn=function(e){for(var t=this.nodes(),n=this.edges(),r=this.cy(),a=function(e){return Yt(e)}(e),i={},o=0;o<t.length;o++)i[t[o].id()]=o;for(var l,s=t.length,u=s*s,c=new Array(u),d=0;d<u;d++)c[d]=0;for(var f=0;f<n.length;f++){var p=n[f],h=i[p.source().id()],g=i[p.target().id()],v=Xt(p,a.attributes);c[h*s+g]+=v,c[g*s+h]+=v}!function(e,t,n){for(var r=0;r<t;r++)e[r*t+r]=n}(c,s,a.multFactor),$t(c,s);for(var y=!0,m=0;y&&m<a.maxIterations;)y=!1,l=Zt(c,s,a.expandFactor),c=Jt(l,s,a.inflateFactor),en(c,l,u,4)||(y=!0),m++;var b=function(e,t,n,r){for(var a=[],i=0;i<t;i++){for(var o=[],l=0;l<t;l++)Math.round(1e3*e[i*t+l])/1e3>0&&o.push(n[l]);0!==o.length&&a.push(r.collection(o))}return a}(c,s,t,r);return function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&tn(e[t],e[n])&&e.splice(n,1);return e}(b)},rn={markovClustering:nn,mcl:nn},an=function(e){return e},on=function(e,t){return Math.abs(t-e)},ln=function(e,t,n){return e+on(t,n)},sn=function(e,t,n){return e+Math.pow(n-t,2)},un=function(e){return Math.sqrt(e)},cn=function(e,t,n){return Math.max(e,on(t,n))},dn=function(e,t,n,r,a){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:an,o=r,l=0;l<e;l++)o=a(o,t(l),n(l));return i(o)},fn={euclidean:function(e,t,n){return e>=2?dn(e,t,n,0,sn,un):dn(e,t,n,0,ln)},squaredEuclidean:function(e,t,n){return dn(e,t,n,0,sn)},manhattan:function(e,t,n){return dn(e,t,n,0,ln)},max:function(e,t,n){return dn(e,t,n,-1/0,cn)}};function pn(e,t,n,r,a,i){var o;return o=R(e)?e:fn[e]||fn.euclidean,0===t&&R(e)?o(a,i):o(t,n,r,a,i)}fn["squared-euclidean"]=fn.squaredEuclidean,fn.squaredeuclidean=fn.squaredEuclidean;var hn=Re({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),gn=function(e){return hn(e)},vn=function(e,t,n,r,a){var i="kMedoids"!==a?function(e){return n[e]}:function(e){return r[e](n)},o=n,l=t;return pn(e,r.length,i,(function(e){return r[e](t)}),o,l)},yn=function(e,t,n){for(var r=n.length,a=new Array(r),i=new Array(r),o=new Array(t),l=null,s=0;s<r;s++)a[s]=e.min(n[s]).value,i[s]=e.max(n[s]).value;for(var u=0;u<t;u++){l=[];for(var c=0;c<r;c++)l[c]=Math.random()*(i[c]-a[c])+a[c];o[u]=l}return o},mn=function(e,t,n,r,a){for(var i=1/0,o=0,l=0;l<t.length;l++){var s=vn(n,e,t[l],r,a);s<i&&(i=s,o=l)}return o},bn=function(e,t,n){for(var r=[],a=null,i=0;i<t.length;i++)n[(a=t[i]).id()]===e&&r.push(a);return r},wn=function(e,t,n){for(var r=0;r<e.length;r++)for(var a=0;a<e[r].length;a++)if(Math.abs(e[r][a]-t[r][a])>n)return!1;return!0},xn=function(e,t,n){for(var r=0;r<n;r++)if(e===t[r])return!0;return!1},En=function(e,t){var n=new Array(t);if(e.length<50)for(var r=0;r<t;r++){for(var a=e[Math.floor(Math.random()*e.length)];xn(a,n,r);)a=e[Math.floor(Math.random()*e.length)];n[r]=a}else for(var i=0;i<t;i++)n[i]=e[Math.floor(Math.random()*e.length)];return n},Sn=function(e,t,n){for(var r=0,a=0;a<t.length;a++)r+=vn("manhattan",t[a],e,n,"kMedoids");return r},kn=function(e,t,n,r,a){for(var i,o,l=0;l<t.length;l++)for(var s=0;s<e.length;s++)r[l][s]=Math.pow(n[l][s],a.m);for(var u=0;u<e.length;u++)for(var c=0;c<a.attributes.length;c++){i=0,o=0;for(var d=0;d<t.length;d++)i+=r[d][u]*a.attributes[c](t[d]),o+=r[d][u];e[u][c]=i/o}},Pn=function(e,t,n,r,a){for(var i=0;i<e.length;i++)t[i]=e[i].slice();for(var o,l,s,u=2/(a.m-1),c=0;c<n.length;c++)for(var d=0;d<r.length;d++){o=0;for(var f=0;f<n.length;f++)l=vn(a.distance,r[d],n[c],a.attributes,"cmeans"),s=vn(a.distance,r[d],n[f],a.attributes,"cmeans"),o+=Math.pow(l/s,u);e[d][c]=1/o}},Cn=function(e){var t,n,r,a,i=this.cy(),o=this.nodes(),l=gn(e);r=new Array(o.length);for(var s=0;s<o.length;s++)r[s]=new Array(l.k);n=new Array(o.length);for(var u=0;u<o.length;u++)n[u]=new Array(l.k);for(var c=0;c<o.length;c++){for(var d=0,f=0;f<l.k;f++)n[c][f]=Math.random(),d+=n[c][f];for(var p=0;p<l.k;p++)n[c][p]=n[c][p]/d}t=new Array(l.k);for(var h=0;h<l.k;h++)t[h]=new Array(l.attributes.length);a=new Array(o.length);for(var g=0;g<o.length;g++)a[g]=new Array(l.k);for(var v=!0,y=0;v&&y<l.maxIterations;)v=!1,kn(t,o,n,a,l),Pn(n,r,t,o,l),wn(n,r,l.sensitivityThreshold)||(v=!0),y++;return{clusters:function(e,t,n,r){for(var a,i,o=new Array(n.k),l=0;l<o.length;l++)o[l]=[];for(var s=0;s<t.length;s++){a=-1/0,i=-1;for(var u=0;u<t[0].length;u++)t[s][u]>a&&(a=t[s][u],i=u);o[i].push(e[s])}for(var c=0;c<o.length;c++)o[c]=r.collection(o[c]);return o}(o,n,l,i),degreeOfMembership:n}},_n={kMeans:function(e){var t,n=this.cy(),r=this.nodes(),a=null,i=gn(e),o=new Array(i.k),l={};i.testMode?"number"==typeof i.testCentroids?(i.testCentroids,t=yn(r,i.k,i.attributes)):t="object"===h(i.testCentroids)?i.testCentroids:yn(r,i.k,i.attributes):t=yn(r,i.k,i.attributes);for(var s,u,c,d=!0,f=0;d&&f<i.maxIterations;){for(var p=0;p<r.length;p++)l[(a=r[p]).id()]=mn(a,t,i.distance,i.attributes,"kMeans");d=!1;for(var g=0;g<i.k;g++){var v=bn(g,r,l);if(0!==v.length){for(var y=i.attributes.length,m=t[g],b=new Array(y),w=new Array(y),x=0;x<y;x++){w[x]=0;for(var E=0;E<v.length;E++)a=v[E],w[x]+=i.attributes[x](a);b[x]=w[x]/v.length,s=b[x],u=m[x],c=i.sensitivityThreshold,Math.abs(u-s)<=c||(d=!0)}t[g]=b,o[g]=n.collection(v)}}f++}return o},kMedoids:function(e){var t,n,r=this.cy(),a=this.nodes(),i=null,o=gn(e),l=new Array(o.k),s={},u=new Array(o.k);o.testMode?"number"==typeof o.testCentroids||(t="object"===h(o.testCentroids)?o.testCentroids:En(a,o.k)):t=En(a,o.k);for(var c=!0,d=0;c&&d<o.maxIterations;){for(var f=0;f<a.length;f++)s[(i=a[f]).id()]=mn(i,t,o.distance,o.attributes,"kMedoids");c=!1;for(var p=0;p<t.length;p++){var g=bn(p,a,s);if(0!==g.length){u[p]=Sn(t[p],g,o.attributes);for(var v=0;v<g.length;v++)(n=Sn(g[v],g,o.attributes))<u[p]&&(u[p]=n,t[p]=g[v],c=!0);l[p]=r.collection(g)}}d++}return l},fuzzyCMeans:Cn,fcm:Cn},Dn=Re({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Rn={single:"min",complete:"max"},On=function(e,t,n,r,a){for(var i,o=0,l=1/0,s=a.attributes,u=function(e,t){return pn(a.distance,s.length,(function(t){return s[t](e)}),(function(e){return s[e](t)}),e,t)},c=0;c<e.length;c++){var d=e[c].key,f=n[d][r[d]];f<l&&(o=d,l=f)}if("threshold"===a.mode&&l>=a.threshold||"dendrogram"===a.mode&&1===e.length)return!1;var p,h=t[o],g=t[r[o]];p="dendrogram"===a.mode?{left:h,right:g,key:h.key}:{value:h.value.concat(g.value),key:h.key},e[h.index]=p,e.splice(g.index,1),t[h.key]=p;for(var v=0;v<e.length;v++){var y=e[v];h.key===y.key?i=1/0:"min"===a.linkage?(i=n[h.key][y.key],n[h.key][y.key]>n[g.key][y.key]&&(i=n[g.key][y.key])):"max"===a.linkage?(i=n[h.key][y.key],n[h.key][y.key]<n[g.key][y.key]&&(i=n[g.key][y.key])):i="mean"===a.linkage?(n[h.key][y.key]*h.size+n[g.key][y.key]*g.size)/(h.size+g.size):"dendrogram"===a.mode?u(y.value,h.value):u(y.value[0],h.value[0]),n[h.key][y.key]=n[y.key][h.key]=i}for(var m=0;m<e.length;m++){var b=e[m].key;if(r[b]===h.key||r[b]===g.key){for(var w=b,x=0;x<e.length;x++){var E=e[x].key;n[b][E]<n[b][w]&&(w=E)}r[b]=w}e[m].index=m}return h.key=g.key=h.index=g.index=null,!0},Tn=function e(t,n,r){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n),t.right&&e(t.right,n)))},Mn=function e(t,n){if(!t)return"";if(t.left&&t.right){var r=e(t.left,n),a=e(t.right,n),i=n.add({group:"nodes",data:{id:r+","+a}});return n.add({group:"edges",data:{source:r,target:i.id()}}),n.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}return t.value?t.value.id():void 0},Bn=function e(t,n,r){if(!t)return[];var a=[],i=[],o=[];return 0===n?(t.left&&Tn(t.left,a),t.right&&Tn(t.right,i),o=a.concat(i),[r.collection(o)]):1===n?t.value?[r.collection(t.value)]:(t.left&&Tn(t.left,a),t.right&&Tn(t.right,i),[r.collection(a),r.collection(i)]):t.value?[r.collection(t.value)]:(t.left&&(a=e(t.left,n-1,r)),t.right&&(i=e(t.right,n-1,r)),a.concat(i))},An=function(e){for(var t=this.cy(),n=this.nodes(),r=function(e){var t=Dn(e),n=Rn[t.linkage];return null!=n&&(t.linkage=n),t}(e),a=r.attributes,i=function(e,t){return pn(r.distance,a.length,(function(t){return a[t](e)}),(function(e){return a[e](t)}),e,t)},o=[],l=[],s=[],u=[],c=0;c<n.length;c++){var d={value:"dendrogram"===r.mode?n[c]:[n[c]],key:c,index:c};o[c]=d,u[c]=d,l[c]=[],s[c]=0}for(var f=0;f<o.length;f++)for(var p=0;p<=f;p++){var h;h="dendrogram"===r.mode?f===p?1/0:i(o[f].value,o[p].value):f===p?1/0:i(o[f].value[0],o[p].value[0]),l[f][p]=h,l[p][f]=h,h<l[f][s[f]]&&(s[f]=p)}for(var g,v=On(o,u,l,s,r);v;)v=On(o,u,l,s,r);return"dendrogram"===r.mode?(g=Bn(o[0],r.dendrogramDepth,t),r.addDendrogram&&Mn(o[0],t)):(g=new Array(o.length),o.forEach((function(e,n){e.key=e.index=null,g[n]=t.collection(e.value)}))),g},In={hierarchicalClustering:An,hca:An},Nn=Re({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Ln=function(e,t,n,r){var a=function(e,t){return r[t](e)};return-pn(e,r.length,(function(e){return a(t,e)}),(function(e){return a(n,e)}),t,n)},jn=function(e,t,n){for(var r=[],a=0;a<e;a++){for(var i=-1,o=-1/0,l=0;l<n.length;l++){var s=n[l];t[a*e+s]>o&&(i=s,o=t[a*e+s])}i>0&&r.push(i)}for(var u=0;u<n.length;u++)r[n[u]]=n[u];return r},zn=function(e){for(var t,n,r,a,i,o,l=this.cy(),s=this.nodes(),u=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Ee("Damping must range on [0.5, 1).  Got: ".concat(t));var r=["median","mean","min","max"];return r.some((function(e){return e===n}))||M(n)||Ee("Preference must be one of [".concat(r.map((function(e){return"'".concat(e,"'")})).join(", "),"] or a number.  Got: ").concat(n)),Nn(e)}(e),c={},d=0;d<s.length;d++)c[s[d].id()]=d;n=(t=s.length)*t,r=new Array(n);for(var f=0;f<n;f++)r[f]=-1/0;for(var p=0;p<t;p++)for(var h=0;h<t;h++)p!==h&&(r[p*t+h]=Ln(u.distance,s[p],s[h],u.attributes));a=function(e,t){return"median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t)):e=e.slice(t,n);for(var i=0,o=e.length-1;o>=0;o--){var l=e[o];a?isFinite(l)||(e[o]=-1/0,i++):e.splice(o,1)}r&&e.sort((function(e,t){return e-t}));var s=e.length,u=Math.floor(s/2);return s%2!=0?e[u+1+i]:(e[u-1+i]+e[u+i])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,a=0,i=t;i<n;i++){var o=e[i];isFinite(o)&&(r+=o,a++)}return r/a}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=1/0,a=t;a<n;a++){var i=e[a];isFinite(i)&&(r=Math.min(i,r))}return r}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=-1/0,a=t;a<n;a++){var i=e[a];isFinite(i)&&(r=Math.max(i,r))}return r}(e):t}(r,u.preference);for(var g=0;g<t;g++)r[g*t+g]=a;i=new Array(n);for(var v=0;v<n;v++)i[v]=0;o=new Array(n);for(var y=0;y<n;y++)o[y]=0;for(var m=new Array(t),b=new Array(t),w=new Array(t),x=0;x<t;x++)m[x]=0,b[x]=0,w[x]=0;for(var E,S=new Array(t*u.minIterations),k=0;k<S.length;k++)S[k]=0;for(E=0;E<u.maxIterations;E++){for(var P=0;P<t;P++){for(var C=-1/0,_=-1/0,D=-1,R=0,O=0;O<t;O++)m[O]=i[P*t+O],(R=o[P*t+O]+r[P*t+O])>=C?(_=C,C=R,D=O):R>_&&(_=R);for(var T=0;T<t;T++)i[P*t+T]=(1-u.damping)*(r[P*t+T]-C)+u.damping*m[T];i[P*t+D]=(1-u.damping)*(r[P*t+D]-_)+u.damping*m[D]}for(var B=0;B<t;B++){for(var A=0,I=0;I<t;I++)m[I]=o[I*t+B],b[I]=Math.max(0,i[I*t+B]),A+=b[I];A-=b[B],b[B]=i[B*t+B],A+=b[B];for(var N=0;N<t;N++)o[N*t+B]=(1-u.damping)*Math.min(0,A-b[N])+u.damping*m[N];o[B*t+B]=(1-u.damping)*(A-b[B])+u.damping*m[B]}for(var L=0,j=0;j<t;j++){var z=o[j*t+j]+i[j*t+j]>0?1:0;S[E%u.minIterations*t+j]=z,L+=z}if(L>0&&(E>=u.minIterations-1||E==u.maxIterations-1)){for(var F=0,V=0;V<t;V++){w[V]=0;for(var H=0;H<u.minIterations;H++)w[V]+=S[H*t+V];0!==w[V]&&w[V]!==u.minIterations||F++}if(F===t)break}}for(var W=function(e,t,n){for(var r=[],a=0;a<e;a++)t[a*e+a]+n[a*e+a]>0&&r.push(a);return r}(t,i,o),q=function(e,t,n){for(var r=jn(e,t,n),a=0;a<n.length;a++){for(var i=[],o=0;o<r.length;o++)r[o]===n[a]&&i.push(o);for(var l=-1,s=-1/0,u=0;u<i.length;u++){for(var c=0,d=0;d<i.length;d++)c+=t[i[d]*e+i[u]];c>s&&(l=u,s=c)}n[a]=i[l]}return jn(e,t,n)}(t,r,W),U={},K=0;K<W.length;K++)U[W[K]]=[];for(var G=0;G<s.length;G++){var Y=q[c[s[G].id()]];null!=Y&&U[Y].push(s[G])}for(var X=new Array(W.length),$=0;$<W.length;$++)X[$]=l.collection(U[W[$]]);return X},Fn={affinityPropagation:zn,ap:zn},Vn=Re({root:void 0,directed:!1}),Hn=function(){var e=this,t={},n=0,r=0,a=[],i=[],o={},l=function l(s,u,c){s===c&&(r+=1),t[u]={id:n,low:n++,cutVertex:!1};var d,f,p,h,g=e.getElementById(u).connectedEdges().intersection(e);0===g.size()?a.push(e.spawn(e.getElementById(u))):g.forEach((function(n){d=n.source().id(),f=n.target().id(),(p=d===u?f:d)!==c&&(h=n.id(),o[h]||(o[h]=!0,i.push({x:u,y:p,edge:n})),p in t?t[u].low=Math.min(t[u].low,t[p].id):(l(s,p,u),t[u].low=Math.min(t[u].low,t[p].low),t[u].id<=t[p].low&&(t[u].cutVertex=!0,function(n,r){for(var o=i.length-1,l=[],s=e.spawn();i[o].x!=n||i[o].y!=r;)l.push(i.pop().edge),o--;l.push(i.pop().edge),l.forEach((function(n){var r=n.connectedNodes().intersection(e);s.merge(n),r.forEach((function(n){var r=n.id(),a=n.connectedEdges().intersection(e);s.merge(n),t[r].cutVertex?s.merge(a.filter((function(e){return e.isLoop()}))):s.merge(a)}))})),a.push(s)}(u,p))))}))};e.forEach((function(e){if(e.isNode()){var n=e.id();n in t||(r=0,l(n,n),t[n].cutVertex=r>1)}}));var s=Object.keys(t).filter((function(e){return t[e].cutVertex})).map((function(t){return e.getElementById(t)}));return{cut:e.spawn(s),components:a}},Wn=function(){var e=this,t={},n=0,r=[],a=[],i=e.spawn(e),o=function o(l){if(a.push(l),t[l]={index:n,low:n++,explored:!1},e.getElementById(l).connectedEdges().intersection(e).forEach((function(e){var n=e.target().id();n!==l&&(n in t||o(n),t[n].explored||(t[l].low=Math.min(t[l].low,t[n].low)))})),t[l].index===t[l].low){for(var s=e.spawn();;){var u=a.pop();if(s.merge(e.getElementById(u)),t[u].low=t[l].index,t[u].explored=!0,u===l)break}var c=s.edgesWith(s),d=s.merge(c);r.push(d),i=i.difference(d)}};return e.forEach((function(e){if(e.isNode()){var n=e.id();n in t||o(n)}})),{cut:i,components:r}},qn={};[ze,Ve,He,qe,Ke,Ye,Ze,Vt,Wt,Ut,Gt,rn,_n,In,Fn,{hierholzer:function(e){if(!T(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n,r,a,i=Vn(e),o=i.root,l=i.directed,s=this,u=!1;o&&(a=D(o)?this.filter(o)[0].id():o[0].id());var c={},d={};l?s.forEach((function(e){var t=e.id();if(e.isNode()){var a=e.indegree(!0),i=e.outdegree(!0),o=a-i,l=i-a;1==o?n?u=!0:n=t:1==l?r?u=!0:r=t:(l>1||o>1)&&(u=!0),c[t]=[],e.outgoers().forEach((function(e){e.isEdge()&&c[t].push(e.id())}))}else d[t]=[void 0,e.target().id()]})):s.forEach((function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(n?r?u=!0:r=t:n=t),c[t]=[],e.connectedEdges().forEach((function(e){return c[t].push(e.id())}))):d[t]=[e.source().id(),e.target().id()]}));var f={found:!1,trail:void 0};if(u)return f;if(r&&n)if(l){if(a&&r!=a)return f;a=r}else{if(a&&r!=a&&n!=a)return f;a||(a=r)}else a||(a=s[0].id());var p=function(e){for(var t,n,r,a=e,i=[e];c[a].length;)t=c[a].shift(),n=d[t][0],a!=(r=d[t][1])?(c[r]=c[r].filter((function(e){return e!=t})),a=r):l||a==n||(c[n]=c[n].filter((function(e){return e!=t})),a=n),i.unshift(t),i.unshift(a);return i},h=[],g=[];for(g=p(a);1!=g.length;)0==c[g[0]].length?(h.unshift(s.getElementById(g.shift())),h.unshift(s.getElementById(g.shift()))):g=p(g.shift()).concat(g);for(var v in h.unshift(s.getElementById(g.shift())),c)if(c[v].length)return f;return f.found=!0,f.trail=this.spawn(h,!0),f}},{hopcroftTarjanBiconnected:Hn,htbc:Hn,htb:Hn,hopcroftTarjanBiconnectedComponents:Hn},{tarjanStronglyConnected:Wn,tsc:Wn,tscc:Wn,tarjanStronglyConnectedComponents:Wn}].forEach((function(e){Y(qn,e)}));var Un=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Un.prototype={fulfill:function(e){return Kn(this,1,"fulfillValue",e)},reject:function(e){return Kn(this,2,"rejectReason",e)},then:function(e,t){var n=this,r=new Un;return n.onFulfilled.push(Xn(e,r,"fulfill")),n.onRejected.push(Xn(t,r,"reject")),Gn(n),r.proxy}};var Kn=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,Gn(e)),e},Gn=function(e){1===e.state?Yn(e,"onFulfilled",e.fulfillValue):2===e.state&&Yn(e,"onRejected",e.rejectReason)},Yn=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var a=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(a):setTimeout(a,0)}},Xn=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var a;try{a=e(r)}catch(e){return void t.reject(e)}$n(t,a)}}},$n=function e(t,n){if(t!==n&&t.proxy!==n){var r;if("object"===h(n)&&null!==n||"function"==typeof n)try{r=n.then}catch(e){return void t.reject(e)}if("function"!=typeof r)t.fulfill(n);else{var a=!1;try{r.call(n,(function(r){a||(a=!0,r===n?t.reject(new TypeError("circular thenable chain")):e(t,r))}),(function(e){a||(a=!0,t.reject(e))}))}catch(e){a||t.reject(e)}}}else t.reject(new TypeError("cannot resolve promise with itself"))};Un.all=function(e){return new Un((function(t,n){for(var r=new Array(e.length),a=0,i=function(n,i){r[n]=i,++a===e.length&&t(r)},o=0;o<e.length;o++)!function(t){var r=e[t];null!=r&&null!=r.then?r.then((function(e){i(t,e)}),(function(e){n(e)})):i(t,r)}(o)}))},Un.resolve=function(e){return new Un((function(t,n){t(e)}))},Un.reject=function(e){return new Un((function(t,n){n(e)}))};var Qn="undefined"!=typeof Promise?Promise:Un,Zn=function(e,t,n){var r=L(e),a=!r,i=this._private=Y({duration:1e3},t,n);if(i.target=e,i.style=i.style||i.css,i.started=!1,i.playing=!1,i.hooked=!1,i.applying=!1,i.progress=0,i.completes=[],i.frames=[],i.complete&&R(i.complete)&&i.completes.push(i.complete),a){var o=e.position();i.startPosition=i.startPosition||{x:o.x,y:o.y},i.startStyle=i.startStyle||e.cy().style().getAnimationStartStyle(e,i.style)}if(r){var l=e.pan();i.startPan={x:l.x,y:l.y},i.startZoom=e.zoom()}this.length=1,this[0]=this},Jn=Zn.prototype;Y(Jn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),A(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var a=e.style[r],i=a.name,o=e.startStyle[i];e.startStyle[i]=a,e.style[r]=o}return t&&this.play(),this},promise:function(e){var t,n=this._private;switch(e){case"frame":t=n.frames;break;default:case"complete":case"completed":t=n.completes}return new Qn((function(e,n){t.push((function(){e()}))}))}}),Jn.complete=Jn.completed,Jn.run=Jn.play,Jn.running=Jn.playing;var er={};[{animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var n=t[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<t.length;n++)t[n]._private.animation.queue=[];return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=this,r=void 0!==n.length,a=r?n:[n],i=this._private.cy||this,o=!r,l=!o;if(!i.styleEnabled())return this;var s=i.style();if(e=Y({},e,t),0===Object.keys(e).length)return new Zn(a[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(l&&(e.style=s.getPropsList(e.style||e.css),e.css=void 0),l&&null!=e.renderedPosition){var u=e.renderedPosition,c=i.pan(),d=i.zoom();e.position=et(u,d,c)}if(o&&null!=e.panBy){var f=e.panBy,p=i.pan();e.pan={x:p.x+f.x,y:p.y+f.y}}var h=e.center||e.centre;if(o&&null!=h){var g=i.getCenterPan(h.eles,e.zoom);null!=g&&(e.pan=g)}if(o&&null!=e.fit){var v=e.fit,y=i.getFitViewport(v.eles||v.boundingBox,v.padding);null!=y&&(e.pan=y.pan,e.zoom=y.zoom)}if(o&&T(e.zoom)){var m=i.getZoomedViewport(e.zoom);null!=m?(m.zoomed&&(e.zoom=m.zoom),m.panned&&(e.pan=m.pan)):e.zoom=null}return new Zn(a[0],e)}},animate:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=Y({},e,t));for(var a=0;a<r.length;a++){var i=r[a],o=i.animated()&&(void 0===e.queue||e.queue);i.animation(e,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var i=0;i<r.length;i++){for(var o=r[i]._private,l=o.animation.current,s=0;s<l.length;s++){var u=l[s]._private;t&&(u.duration=0)}e&&(o.animation.queue=[]),t||(o.animation.current=[])}return a.notify("draw"),this}}},{data:function(e){return e=Y({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var r=e,a=this,i=void 0!==a.length,o=i?a:[a],l=i?a[0]:a;if(D(t)){var s,u=-1!==t.indexOf(".")&&p.default(t);if(r.allowGetting&&void 0===n)return l&&(r.beforeGet(l),s=u&&void 0===l._private[r.field][t]?d.default(l._private[r.field],u):l._private[r.field][t]),s;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[t]){var c=m({},t,n);r.beforeSet(a,c);for(var h=0,g=o.length;h<g;h++){var v=o[h];r.canSet(v)&&(u&&void 0===l._private[r.field][t]?f.default(v._private[r.field],u,n):v._private[r.field][t]=n)}r.updateStyle&&a.updateStyle(),r.onSet(a),r.settingTriggersEvent&&a[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&T(t)){var y,b,w=t,x=Object.keys(w);r.beforeSet(a,w);for(var E=0;E<x.length;E++)if(b=w[y=x[E]],!r.immutableKeys[y])for(var S=0;S<o.length;S++){var k=o[S];r.canSet(k)&&(k._private[r.field][y]=b)}r.updateStyle&&a.updateStyle(),r.onSet(a),r.settingTriggersEvent&&a[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&R(t)){var P=t;a.on(r.bindingEvent,P)}else if(r.allowGetting&&void 0===t){var C;return l&&(r.beforeGet(l),C=l._private[r.field]),C}return a}},removeData:function(e){return e=Y({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=this,a=void 0!==r.length?r:[r];if(D(t)){for(var i=t.split(/\s+/),o=i.length,l=0;l<o;l++){var s=i[l];if(!z(s)&&!n.immutableKeys[s])for(var u=0,c=a.length;u<c;u++)a[u]._private[n.field][s]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var d=0,f=a.length;d<f;d++)for(var p=a[d]._private[n.field],h=Object.keys(p),g=0;g<h.length;g++){var v=h[g];!n.immutableKeys[v]&&(p[v]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}},{eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new Qn((function(e,t){var a=r.concat([function(t){n.off.apply(n,i),e(t)}]),i=a.concat([]);n.on.apply(n,a)}))}}}].forEach((function(e){Y(er,e)}));var tr={animate:er.animate(),animation:er.animation(),animated:er.animated(),clearQueue:er.clearQueue(),delay:er.delay(),delayAnimation:er.delayAnimation(),stop:er.stop()},nr={classes:function(e){var t=this;if(void 0===e){var n=[];return t[0]._private.classes.forEach((function(e){return n.push(e)})),n}O(e)||(e=(e||"").match(/\S+/g)||[]);for(var r=[],a=new Ne(e),i=0;i<t.length;i++){for(var o=t[i],l=o._private,s=l.classes,u=!1,c=0;c<e.length;c++){var d=e[c];if(!s.has(d)){u=!0;break}}u||(u=s.size!==e.length),u&&(l.classes=a,r.push(o))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){O(e)||(e=e.match(/\S+/g)||[]);for(var n=this,r=void 0===t,a=[],i=0,o=n.length;i<o;i++)for(var l=n[i],s=l._private.classes,u=!1,c=0;c<e.length;c++){var d=e[c],f=s.has(d),p=!1;t||r&&!f?(s.add(d),p=!0):(!t||r&&f)&&(s.delete(d),p=!0),!u&&p&&(a.push(l),u=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout((function(){n.removeClass(e)}),t),n}};nr.className=nr.classNames=nr.classes;var rr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:K,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};rr.variable="(?:[\\w-.]|(?:\\\\"+rr.metaChar+"))+",rr.className="(?:[\\w-]|(?:\\\\"+rr.metaChar+"))+",rr.value=rr.string+"|"+rr.number,rr.id=rr.variable,function(){var e,t,n;for(e=rr.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],rr.comparatorOp+="|@"+t;for(e=rr.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(rr.comparatorOp+="|\\!"+t)}();var ar=20,ir=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort((function(e,t){return function(e,t){return-1*G(e,t)}(e.selector,t.selector)})),or=function(){for(var e,t={},n=0;n<ir.length;n++)t[(e=ir[n]).selector]=e.matches;return t}(),lr="("+ir.map((function(e){return e.selector})).join("|")+")",sr=function(e){return e.replace(new RegExp("\\\\("+rr.metaChar+")","g"),(function(e,t){return t}))},ur=function(e,t,n){e[e.length-1]=n},cr=[{name:"group",query:!0,regex:"("+rr.group+")",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:0,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:lr,populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:7,value:r})}},{name:"id",query:!0,regex:"\\#("+rr.id+")",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:8,value:sr(r)})}},{name:"className",query:!0,regex:"\\.("+rr.className+")",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:9,value:sr(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+rr.variable+")\\s*\\]",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:4,field:sr(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+rr.variable+")\\s*("+rr.comparatorOp+")\\s*("+rr.value+")\\s*\\]",populate:function(e,t,n){var r=b(n,3),a=r[0],i=r[1],o=r[2];o=null!=new RegExp("^"+rr.string+"$").exec(o)?o.substring(1,o.length-1):parseFloat(o),t.checks.push({type:3,field:sr(a),operator:i,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+rr.boolOp+")\\s*("+rr.variable+")\\s*\\]",populate:function(e,t,n){var r=b(n,2),a=r[0],i=r[1];t.checks.push({type:5,field:sr(i),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+rr.meta+")\\s*("+rr.comparatorOp+")\\s*("+rr.number+")\\s*\\]\\]",populate:function(e,t,n){var r=b(n,3),a=r[0],i=r[1],o=r[2];t.checks.push({type:6,field:sr(a),operator:i,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:rr.separator,populate:function(e,t){var n=e.currentSubject,r=e.edgeCount,a=e.compoundCount,i=e[e.length-1];return null!=n&&(i.subject=n,e.currentSubject=null),i.edgeCount=r,i.compoundCount=a,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:rr.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,a={checks:[]};return n.checks.push({type:11,source:r,target:a}),ur(e,0,n),e.edgeCount++,a}var i={checks:[]},o=t,l={checks:[]};return i.checks.push({type:12,source:o,target:l}),ur(e,0,i),e.edgeCount++,l}},{name:"undirectedEdge",separator:!0,regex:rr.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,a={checks:[]};return n.checks.push({type:10,nodes:[r,a]}),ur(e,0,n),e.edgeCount++,a}var i={checks:[]},o=t,l={checks:[]};return i.checks.push({type:14,node:o,neighbor:l}),ur(e,0,i),l}},{name:"child",separator:!0,regex:rr.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},a=e[e.length-1];return n.checks.push({type:15,parent:a,child:r}),ur(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var i={checks:[]},o=e[e.length-1],l={checks:[]},s={checks:[]},u={checks:[]},c={checks:[]};return i.checks.push({type:19,left:o,right:l,subject:s}),s.checks=t.checks,t.checks=[{type:ar}],c.checks.push({type:ar}),l.checks.push({type:17,parent:c,child:u}),ur(e,0,i),e.currentSubject=s,e.compoundCount++,u}var d={checks:[]},f={checks:[]},p=[{type:17,parent:d,child:f}];return d.checks=t.checks,t.checks=p,e.compoundCount++,f}},{name:"descendant",separator:!0,regex:rr.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},a=e[e.length-1];return n.checks.push({type:16,ancestor:a,descendant:r}),ur(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var i={checks:[]},o=e[e.length-1],l={checks:[]},s={checks:[]},u={checks:[]},c={checks:[]};return i.checks.push({type:19,left:o,right:l,subject:s}),s.checks=t.checks,t.checks=[{type:ar}],c.checks.push({type:ar}),l.checks.push({type:18,ancestor:c,descendant:u}),ur(e,0,i),e.currentSubject=s,e.compoundCount++,u}var d={checks:[]},f={checks:[]},p=[{type:18,ancestor:d,descendant:f}];return d.checks=t.checks,t.checks=p,e.compoundCount++,f}},{name:"subject",modifier:!0,regex:rr.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return ke("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],r=null==n?null:n.type;11===r?n.type=13:10===r&&(n.type=14,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];cr.forEach((function(e){return e.regexObj=new RegExp("^"+e.regex)}));var dr=function(e){for(var t,n,r,a=0;a<cr.length;a++){var i=cr[a],o=i.name,l=e.match(i.regexObj);if(null!=l){n=l,t=i,r=o;var s=l[0];e=e.substring(s.length);break}}return{expr:t,match:n,name:r,remaining:e}},fr={parse:function(e){var t=this,n=t.inputText=e,r=t[0]={checks:[]};for(t.length=1,n=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var a=dr(n);if(null==a.expr)return ke("The selector `"+e+"`is invalid"),!1;var i=a.match.slice(1),o=a.expr.populate(t,r,i);if(!1===o)return!1;if(null!=o&&(r=o),(n=a.remaining).match(/^\s*$/))break}var l=t[t.length-1];null!=t.currentSubject&&(l.subject=t.currentSubject),l.edgeCount=t.edgeCount,l.compoundCount=t.compoundCount;for(var s=0;s<t.length;s++){var u=t[s];if(u.compoundCount>0&&u.edgeCount>0)return ke("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(u.edgeCount>1)return ke("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===u.edgeCount&&ke("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return D(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},r=function(a,i){return a.checks.reduce((function(o,l,s){return o+(i===a&&0===s?"$":"")+function(a,i){var o=a.type,l=a.value;switch(o){case 0:var s=e(l);return s.substring(0,s.length-1);case 3:var u=a.field,c=a.operator;return"["+u+n(e(c))+t(l)+"]";case 5:var d=a.operator,f=a.field;return"["+e(d)+f+"]";case 4:return"["+a.field+"]";case 6:var p=a.operator;return"[["+a.field+n(e(p))+t(l)+"]]";case 7:return l;case 8:return"#"+l;case 9:return"."+l;case 17:case 15:return r(a.parent,i)+n(">")+r(a.child,i);case 18:case 16:return r(a.ancestor,i)+" "+r(a.descendant,i);case 19:var h=r(a.left,i),g=r(a.subject,i),v=r(a.right,i);return h+(h.length>0?" ":"")+g+v;case ar:return""}}(l,i)}),"")},a="",i=0;i<this.length;i++){var o=this[i];a+=r(o,o.subject),this.length>1&&i<this.length-1&&(a+=", ")}return this.toStringCache=a,a}},pr=function(e,t,n){var r,a,i,o=D(e),l=M(e),s=D(n),u=!1,c=!1,d=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),c=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),u=!0),(o||s||u)&&(a=o||l?""+e:"",i=""+n),u&&(e=a=a.toLowerCase(),n=i=i.toLowerCase()),t){case"*=":r=a.indexOf(i)>=0;break;case"$=":r=a.indexOf(i,a.length-i.length)>=0;break;case"^=":r=0===a.indexOf(i);break;case"=":r=e===n;break;case">":d=!0,r=e>n;break;case">=":d=!0,r=e>=n;break;case"<":d=!0,r=e<n;break;case"<=":d=!0,r=e<=n;break;default:r=!1}return!c||null==e&&d||(r=!r),r},hr=function(e,t){return e.data(t)},gr=[],vr=function(e,t){return e.checks.every((function(e){return gr[e.type](e,t)}))};gr[0]=function(e,t){var n=e.value;return"*"===n||n===t.group()},gr[7]=function(e,t){return function(e,t){return or[e](t)}(e.value,t)},gr[8]=function(e,t){var n=e.value;return t.id()===n},gr[9]=function(e,t){var n=e.value;return t.hasClass(n)},gr[6]=function(e,t){var n=e.field,r=e.operator,a=e.value;return pr(function(e,t){return e[t]()}(t,n),r,a)},gr[3]=function(e,t){var n=e.field,r=e.operator,a=e.value;return pr(hr(t,n),r,a)},gr[5]=function(e,t){var n=e.field,r=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(hr(t,n),r)},gr[4]=function(e,t){var n=e.field;return e.operator,void 0!==hr(t,n)},gr[10]=function(e,t){var n=e.nodes[0],r=e.nodes[1],a=t.source(),i=t.target();return vr(n,a)&&vr(r,i)||vr(r,a)&&vr(n,i)},gr[14]=function(e,t){return vr(e.node,t)&&t.neighborhood().some((function(t){return t.isNode()&&vr(e.neighbor,t)}))},gr[11]=function(e,t){return vr(e.source,t.source())&&vr(e.target,t.target())},gr[12]=function(e,t){return vr(e.source,t)&&t.outgoers().some((function(t){return t.isNode()&&vr(e.target,t)}))},gr[13]=function(e,t){return vr(e.target,t)&&t.incomers().some((function(t){return t.isNode()&&vr(e.source,t)}))},gr[15]=function(e,t){return vr(e.child,t)&&vr(e.parent,t.parent())},gr[17]=function(e,t){return vr(e.parent,t)&&t.children().some((function(t){return vr(e.child,t)}))},gr[16]=function(e,t){return vr(e.descendant,t)&&t.ancestors().some((function(t){return vr(e.ancestor,t)}))},gr[18]=function(e,t){return vr(e.ancestor,t)&&t.descendants().some((function(t){return vr(e.descendant,t)}))},gr[19]=function(e,t){return vr(e.subject,t)&&vr(e.left,t)&&vr(e.right,t)},gr[20]=function(){return!0},gr[1]=function(e,t){return e.value.has(t)},gr[2]=function(e,t){return(0,e.value)(t)};var yr=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||D(e)&&e.match(/^\s*$/)||(A(e)?this.addQuery({checks:[{type:1,value:e.collection()}]}):R(e)?this.addQuery({checks:[{type:2,value:e}]}):D(e)?this.parse(e)||(this.invalid=!0):Ee("A selector must be created from a string; found "))},mr=yr.prototype;[fr,{matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(vr(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&8===t[0].checks[0].type)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(vr(r,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}}].forEach((function(e){return Y(mr,e)})),mr.text=function(){return this.inputText},mr.size=function(){return this.length},mr.eq=function(e){return this[e]},mr.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},mr.addQuery=function(e){this[this.length++]=e},mr.selector=mr.toString;var br={allAre:function(e){var t=new yr(e);return this.every((function(e){return t.matches(e)}))},is:function(e){var t=new yr(e);return this.some((function(e){return t.matches(e)}))},some:function(e,t){for(var n=0;n<this.length;n++)if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0;return!1},every:function(e,t){for(var n=0;n<this.length;n++)if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1;return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every((function(t){return e.hasElementWithId(t.id())})))},anySame:function(e){return e=this.cy().collection(e),this.some((function(t){return e.hasElementWithId(t.id())}))},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every((function(e){return t.hasElementWithId(e.id())}))},contains:function(e){e=this.cy().collection(e);var t=this;return e.every((function(e){return t.hasElementWithId(e.id())}))}};br.allAreNeighbours=br.allAreNeighbors,br.has=br.contains,br.equal=br.equals=br.same;var wr,xr,Er=function(e,t){return function(n,r,a,i){var o,l=n,s=this;if(null==l?o="":A(l)&&1===l.length&&(o=l.id()),1===s.length&&o){var u=s[0]._private,c=u.traversalCache=u.traversalCache||{},d=c[t]=c[t]||[],f=de(o);return d[f]||(d[f]=e.call(s,n,r,a,i))}return e.call(s,n,r,a,i)}},Sr={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var a=this[r]._private.parent;a&&t.push(a)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var a=n[r];t.push(a)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter((function(e){return e.isOrphan()})).filter(e)},nonorphans:function(e){return this.stdFilter((function(e){return e.isChild()})).filter(e)},children:Er((function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,a=0;a<r.length;a++)t.push(r[a]);return this.spawn(t,!0).filter(e)}),"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var a=n[r];t.push(a),a.children().nonempty()&&e(a.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function kr(e,t,n,r){for(var a=[],i=new Ne,o=e.cy().hasCompoundNodes(),l=0;l<e.length;l++){var s=e[l];n?a.push(s):o&&r(a,i,s)}for(;a.length>0;){var u=a.shift();t(u),i.add(u.id()),o&&r(a,i,u)}return e}function Pr(e,t,n){if(n.isParent())for(var r=n._private.children,a=0;a<r.length;a++){var i=r[a];t.has(i.id())||e.push(i)}}function Cr(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function _r(e,t,n){Cr(e,t,n),Pr(e,t,n)}Sr.forEachDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return kr(this,e,t,Pr)},Sr.forEachUp=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return kr(this,e,t,Cr)},Sr.forEachUpAndDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return kr(this,e,t,_r)},Sr.ancestors=Sr.parents,(wr=xr={data:er.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:er.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:er.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:er.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:er.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:er.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=wr.data,wr.removeAttr=wr.removeData;var Dr,Rr,Or=xr,Tr={};function Mr(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,a=n[0],i=a._private.edges,o=0;o<i.length;o++){var l=i[o];!t&&l.isLoop()||(r+=e(a,l))}return r}}}function Br(e,t){return function(n){for(var r,a=this.nodes(),i=0;i<a.length;i++){var o=a[i][e](n);void 0===o||void 0!==r&&!t(o,r)||(r=o)}return r}}Y(Tr,{degree:Mr((function(e,t){return t.source().same(t.target())?2:1})),indegree:Mr((function(e,t){return t.target().same(e)?1:0})),outdegree:Mr((function(e,t){return t.source().same(e)?1:0}))}),Y(Tr,{minDegree:Br("degree",(function(e,t){return e<t})),maxDegree:Br("degree",(function(e,t){return e>t})),minIndegree:Br("indegree",(function(e,t){return e<t})),maxIndegree:Br("indegree",(function(e,t){return e>t})),minOutdegree:Br("outdegree",(function(e,t){return e<t})),maxOutdegree:Br("outdegree",(function(e,t){return e>t}))}),Y(Tr,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}});var Ar=function(e,t,n){for(var r=0;r<e.length;r++){var a=e[r];if(!a.locked()){var i=a._private.position,o={x:null!=t.x?t.x-i.x:0,y:null!=t.y?t.y-i.y:0};!a.isParent()||0===o.x&&0===o.y||a.children().shift(o,n),a.dirtyBoundingBoxCache()}}},Ir={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){Ar(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};(Dr=Rr={position:er.data(Ir),silentPosition:er.data(Y({},Ir,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){Ar(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(T(e))t?this.silentPosition(e):this.position(e);else if(R(e)){var n=e,r=this.cy();r.startBatch();for(var a=0;a<this.length;a++){var i,o=this[a];(i=n(o,a))&&(t?o.silentPosition(i):o.position(i))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var r;if(T(e)?(r={x:M(e.x)?e.x:0,y:M(e.y)?e.y:0},n=t):D(e)&&M(t)&&((r={x:0,y:0})[e]=t),null!=r){var a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i];if(!(a.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var l=o.position(),s={x:l.x+r.x,y:l.y+r.y};n?o.silentPosition(s):o.position(s)}}a.endBatch()}return this},silentShift:function(e,t){return T(e)?this.shift(e,!0):D(e)&&M(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),a=r.zoom(),i=r.pan(),o=T(e)?e:void 0,l=void 0!==o||void 0!==t&&D(e);if(n&&n.isNode()){if(!l){var s=n.position();return o=Je(s,a,i),void 0===e?o:o[e]}for(var u=0;u<this.length;u++){var c=this[u];void 0!==t?c.position(e,(t-i[e])/a):void 0!==o&&c.position(et(o,a,i))}}else if(!l)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),a=T(e)?e:void 0,i=void 0!==a||void 0!==t&&D(e),o=r.hasCompoundNodes();if(n&&n.isNode()){if(!i){var l=n.position(),s=o?n.parent():null,u=s&&s.length>0,c=u;u&&(s=s[0]);var d=c?s.position():{x:0,y:0};return a={x:l.x-d.x,y:l.y-d.y},void 0===e?a:a[e]}for(var f=0;f<this.length;f++){var p=this[f],h=o?p.parent():null,g=h&&h.length>0,v=g;g&&(h=h[0]);var y=v?h.position():{x:0,y:0};void 0!==t?p.position(e,t+y[e]):void 0!==a&&p.position({x:a.x+y.x,y:a.y+y.y})}}else if(!i)return;return this}}).modelPosition=Dr.point=Dr.position,Dr.modelPositions=Dr.points=Dr.positions,Dr.renderedPoint=Dr.renderedPosition,Dr.relativePoint=Dr.relativePosition;var Nr,Lr,jr=Rr;Nr=Lr={},Lr.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),a=n.pan(),i=t.x1*r+a.x,o=t.x2*r+a.x,l=t.y1*r+a.y,s=t.y2*r+a.y;return{x1:i,x2:o,y1:l,y2:s,w:o-i,h:s-l}},Lr.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp((function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,e||t.emitAndNotify("bounds")}})),this):this},Lr.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,a={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},i=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),o=t.position;0!==i.w&&0!==i.h||((i={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=o.x-i.w/2,i.x2=o.x+i.w/2,i.y1=o.y-i.h/2,i.y2=o.y+i.h/2);var l=a.width.left.value;"px"===a.width.left.units&&a.width.val>0&&(l=100*l/a.width.val);var s=a.width.right.value;"px"===a.width.right.units&&a.width.val>0&&(s=100*s/a.width.val);var u=a.height.top.value;"px"===a.height.top.units&&a.height.val>0&&(u=100*u/a.height.val);var c=a.height.bottom.value;"px"===a.height.bottom.units&&a.height.val>0&&(c=100*c/a.height.val);var d=y(a.width.val-i.w,l,s),f=d.biasDiff,p=d.biasComplementDiff,h=y(a.height.val-i.h,u,c),g=h.biasDiff,v=h.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(i.w,i.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(i.w,a.width.val),o.x=(-f+i.x1+i.x2+p)/2,t.autoHeight=Math.max(i.h,a.height.val),o.y=(-g+i.y1+i.y2+v)/2}function y(e,t,n){var r=0,a=0,i=t+n;return e>0&&i>0&&(r=t/i*e,a=n/i*e),{biasDiff:r,biasComplementDiff:a}}}for(var r=0;r<this.length;r++){var a=this[r],i=a._private;i.compoundBoundsClean&&!e||(n(a),t.batching()||(i.compoundBoundsClean=!0))}return this};var zr=function(e){return e===1/0||e===-1/0?0:e},Fr=function(e,t,n,r,a){r-t!=0&&a-n!=0&&null!=t&&null!=n&&null!=r&&null!=a&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Vr=function(e,t){return null==t?e:Fr(e,t.x1,t.y1,t.x2,t.y2)},Hr=function(e,t,n){return Me(e,t,n)},Wr=function(e,t,n){if(!t.cy().headless()){var r,a,i=t._private,o=i.rstyle,l=o.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(r=o.srcX,a=o.srcY):"target"===n?(r=o.tgtX,a=o.tgtY):(r=o.midX,a=o.midY);var s=i.arrowBounds=i.arrowBounds||{},u=s[n]=s[n]||{};u.x1=r-l,u.y1=a-l,u.x2=r+l,u.y2=a+l,u.w=u.x2-u.x1,u.h=u.y2-u.y1,pt(u,1),Fr(e,u.x1,u.y1,u.x2,u.y2)}}},qr=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var a=t._private,i=a.rstyle;if(t.pstyle(r+"label").strValue){var o,l,s,u,c=t.pstyle("text-halign"),d=t.pstyle("text-valign"),f=Hr(i,"labelWidth",n),p=Hr(i,"labelHeight",n),h=Hr(i,"labelX",n),g=Hr(i,"labelY",n),v=t.pstyle(r+"text-margin-x").pfValue,y=t.pstyle(r+"text-margin-y").pfValue,m=t.isEdge(),b=t.pstyle(r+"text-rotation"),w=t.pstyle("text-outline-width").pfValue,x=t.pstyle("text-border-width").pfValue/2,E=t.pstyle("text-background-padding").pfValue,S=p,k=f,P=k/2,C=S/2;if(m)o=h-P,l=h+P,s=g-C,u=g+C;else{switch(c.value){case"left":o=h-k,l=h;break;case"center":o=h-P,l=h+P;break;case"right":o=h,l=h+k}switch(d.value){case"top":s=g-S,u=g;break;case"center":s=g-C,u=g+C;break;case"bottom":s=g,u=g+S}}o+=v-Math.max(w,x)-E-2,l+=v+Math.max(w,x)+E+2,s+=y-Math.max(w,x)-E-2,u+=y+Math.max(w,x)+E+2;var _=n||"main",D=a.labelBounds,R=D[_]=D[_]||{};R.x1=o,R.y1=s,R.x2=l,R.y2=u,R.w=l-o,R.h=u-s;var O=m&&"autorotate"===b.strValue,T=null!=b.pfValue&&0!==b.pfValue;if(O||T){var M=O?Hr(a.rstyle,"labelAngle",n):b.pfValue,B=Math.cos(M),A=Math.sin(M),I=(o+l)/2,N=(s+u)/2;if(!m){switch(c.value){case"left":I=l;break;case"right":I=o}switch(d.value){case"top":N=u;break;case"bottom":N=s}}var L=function(e,t){return{x:(e-=I)*B-(t-=N)*A+I,y:e*A+t*B+N}},j=L(o,s),z=L(o,u),F=L(l,s),V=L(l,u);o=Math.min(j.x,z.x,F.x,V.x),l=Math.max(j.x,z.x,F.x,V.x),s=Math.min(j.y,z.y,F.y,V.y),u=Math.max(j.y,z.y,F.y,V.y)}var H=_+"Rot",W=D[H]=D[H]||{};W.x1=o,W.y1=s,W.x2=l,W.y2=u,W.w=l-o,W.h=u-s,Fr(e,o,s,l,u),Fr(a.labelBounds.all,o,s,l,u)}return e}},Ur=function(e){var t=0,n=function(e){return(e?1:0)<<t++},r=0;return r+=n(e.incudeNodes),r+=n(e.includeEdges),r+=n(e.includeLabels),r+=n(e.includeMainLabels),r+=n(e.includeSourceLabels),(r+=n(e.includeTargetLabels))+n(e.includeOverlays)},Kr=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position(),r=function(e){return Math.round(e)};return function(e,t){var n={value:0,done:!1},r=0,a=e.length;return oe({next:function(){return r<a?n.value=e[r++]:n.done=!0,n}},void 0)}([r(t.x),r(t.y),r(n.x),r(n.y)])}return 0},Gr=function(e,t){var n,r=e._private,a=e.isEdge(),i=(null==t?Xr:Ur(t))===Xr,o=Kr(e),l=r.bbCachePosKey===o,s=t.useCache&&l,u=function(e){return null==e._private.bbCache||e._private.styleDirty};if(!s||u(e)||a&&u(e.source())||u(e.target())?(l||e.recalculateRenderedStyle(s),n=function(e,t){var n,r,a,i,o,l,s,u=e._private.cy,c=u.styleEnabled(),d=u.headless(),f=dt(),p=e._private,h=e.isNode(),g=e.isEdge(),v=p.rstyle,y=h&&c?e.pstyle("bounds-expansion").pfValue:[0],m=function(e){return"none"!==e.pstyle("display").value},b=!c||m(e)&&(!g||m(e.source())&&m(e.target()));if(b){var w=0;c&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(w=e.pstyle("overlay-padding").value);var x=0;c&&t.includeUnderlays&&0!==e.pstyle("underlay-opacity").value&&(x=e.pstyle("underlay-padding").value);var E=Math.max(w,x),S=0;if(c&&(S=e.pstyle("width").pfValue/2),h&&t.includeNodes){var k=e.position();o=k.x,l=k.y;var P=e.outerWidth()/2,C=e.outerHeight()/2;Fr(f,n=o-P,a=l-C,r=o+P,i=l+C)}else if(g&&t.includeEdges)if(c&&!d){var _=e.pstyle("curve-style").strValue;if(n=Math.min(v.srcX,v.midX,v.tgtX),r=Math.max(v.srcX,v.midX,v.tgtX),a=Math.min(v.srcY,v.midY,v.tgtY),i=Math.max(v.srcY,v.midY,v.tgtY),Fr(f,n-=S,a-=S,r+=S,i+=S),"haystack"===_){var D=v.haystackPts;if(D&&2===D.length){if(n=D[0].x,a=D[0].y,n>(r=D[1].x)){var R=n;n=r,r=R}if(a>(i=D[1].y)){var O=a;a=i,i=O}Fr(f,n-S,a-S,r+S,i+S)}}else if("bezier"===_||"unbundled-bezier"===_||"segments"===_||"taxi"===_){var T;switch(_){case"bezier":case"unbundled-bezier":T=v.bezierPts;break;case"segments":case"taxi":T=v.linePts}if(null!=T)for(var M=0;M<T.length;M++){var B=T[M];n=B.x-S,r=B.x+S,a=B.y-S,i=B.y+S,Fr(f,n,a,r,i)}}}else{var A=e.source().position(),I=e.target().position();if((n=A.x)>(r=I.x)){var N=n;n=r,r=N}if((a=A.y)>(i=I.y)){var L=a;a=i,i=L}Fr(f,n-=S,a-=S,r+=S,i+=S)}if(c&&t.includeEdges&&g&&(Wr(f,e,"mid-source"),Wr(f,e,"mid-target"),Wr(f,e,"source"),Wr(f,e,"target")),c&&"yes"===e.pstyle("ghost").value){var j=e.pstyle("ghost-offset-x").pfValue,z=e.pstyle("ghost-offset-y").pfValue;Fr(f,f.x1+j,f.y1+z,f.x2+j,f.y2+z)}var F=p.bodyBounds=p.bodyBounds||{};gt(F,f),ht(F,y),pt(F,1),c&&(n=f.x1,r=f.x2,a=f.y1,i=f.y2,Fr(f,n-E,a-E,r+E,i+E));var V=p.overlayBounds=p.overlayBounds||{};gt(V,f),ht(V,y),pt(V,1);var H=p.labelBounds=p.labelBounds||{};null!=H.all?((s=H.all).x1=1/0,s.y1=1/0,s.x2=-1/0,s.y2=-1/0,s.w=0,s.h=0):H.all=dt(),c&&t.includeLabels&&(t.includeMainLabels&&qr(f,e,null),g&&(t.includeSourceLabels&&qr(f,e,"source"),t.includeTargetLabels&&qr(f,e,"target")))}return f.x1=zr(f.x1),f.y1=zr(f.y1),f.x2=zr(f.x2),f.y2=zr(f.y2),f.w=zr(f.x2-f.x1),f.h=zr(f.y2-f.y1),f.w>0&&f.h>0&&b&&(ht(f,y),pt(f,1)),f}(e,Yr),r.bbCache=n,r.bbCachePosKey=o):n=r.bbCache,!i){var c=e.isNode();n=dt(),(t.includeNodes&&c||t.includeEdges&&!c)&&(t.includeOverlays?Vr(n,r.overlayBounds):Vr(n,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!a||t.includeSourceLabels&&t.includeTargetLabels)?Vr(n,r.labelBounds.all):(t.includeMainLabels&&Vr(n,r.labelBounds.mainRot),t.includeSourceLabels&&Vr(n,r.labelBounds.sourceRot),t.includeTargetLabels&&Vr(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Yr={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Xr=Ur(Yr),$r=Re(Yr);Lr.boundingBox=function(e){var t;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==e&&void 0!==e.useCache&&!0!==e.useCache){t=dt();var n=$r(e=e||Yr),r=this;if(r.cy().styleEnabled())for(var a=0;a<r.length;a++){var i=r[a],o=i._private,l=Kr(i),s=o.bbCachePosKey===l,u=n.useCache&&s&&!o.styleDirty;i.recalculateRenderedStyle(u)}this.updateCompoundBounds(!e.useCache);for(var c=0;c<r.length;c++){var d=r[c];Vr(t,Gr(d,n))}}else e=void 0===e?Yr:$r(e),t=Gr(this[0],e);return t.x1=zr(t.x1),t.y1=zr(t.y1),t.x2=zr(t.x2),t.y2=zr(t.y2),t.w=zr(t.x2-t.x1),t.h=zr(t.y2-t.y1),t},Lr.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Lr.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),a=n.collection();if(r&&(a=t.filter((function(e){return e.isParent()})),t=t.not(a)),T(e)){var i=e;e=function(){return i}}n.startBatch(),t.forEach((function(t,n){return t._private.bbAtOldPos=e(t,n)})).silentPositions(e),r&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var o=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions((function(e){return e._private.bbAtOldPos})),r&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),n.endBatch(),o},Nr.boundingbox=Nr.bb=Nr.boundingBox,Nr.renderedBoundingbox=Nr.renderedBoundingBox;var Qr,Zr,Jr=Lr;Qr=Zr={};var ea=function(e){e.uppercaseName=U(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=U(e.outerName),Qr[e.name]=function(){var t=this[0],n=t._private,r=n.cy._private.styleEnabled;if(t){if(!r)return 1;if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var a=t.pstyle(e.name);switch(a.strValue){case"label":return t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0;default:return a.pfValue}}},Qr["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t)return n?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},Qr["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},Qr["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};ea({name:"width"}),ea({name:"height"}),Zr.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},Zr.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},Zr.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var ta=Zr,na={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},ra=Object.keys(na).reduce((function(e,t){var n=na[t],r=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge())return t(e)}(this,n.get)},n.mult?e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy(),r=n.pan(),a=n.zoom();return t(e).map((function(e){return Je(e,a,r)}))}}(this,n.get)}:e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy();return Je(t(e),n.zoom(),n.pan())}}(this,n.get)},e}),{}),aa=Y({},jr,Jr,ta,ra),ia=function(e,t){this.recycle(e,t)};function oa(){return!1}function la(){return!0}ia.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=oa,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?la:oa):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*r+a.x,y:n.y*r+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=la;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=la;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=la,this.stopPropagation()},isDefaultPrevented:oa,isPropagationStopped:oa,isImmediatePropagationStopped:oa};var sa=/^([^.]+)(\.(?:[^.]+))?$/,ua={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},ca=Object.keys(ua),da={};function fa(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0,n=0;n<ca.length;n++){var r=ca[n];this[r]=e[r]||ua[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var pa=fa.prototype,ha=function(e,t,n,r,a,i,o){R(r)&&(a=r,r=null),o&&(i=null==i?o:Y({},i,o));for(var l=O(n)?n:n.split(/\s+/),s=0;s<l.length;s++){var u=l[s];if(!z(u)){var c=u.match(sa);if(c&&!1===t(e,u,c[1],c[2]?c[2]:null,r,a,i))break}}},ga=function(e,t){return e.addEventFields(e.context,t),new ia(t.type,t)};pa.on=pa.addListener=function(e,t,n,r,a){return ha(this,(function(e,t,n,r,a,i,o){R(i)&&e.listeners.push({event:t,callback:i,type:n,namespace:r,qualifier:a,conf:o})}),e,t,n,r,a),this},pa.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},pa.removeListener=pa.off=function(e,t,n,r){var a=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var i=this.listeners,o=function(o){var l=i[o];ha(a,(function(t,n,r,a,s,u){if((l.type===r||"*"===e)&&(!a&&".*"!==l.namespace||l.namespace===a)&&(!s||t.qualifierCompare(l.qualifier,s))&&(!u||l.callback===u))return i.splice(o,1),!1}),e,t,n,r)},l=i.length-1;l>=0;l--)o(l);return this},pa.removeAllListeners=function(){return this.removeListener("*")},pa.emit=pa.trigger=function(e,t,n){var r=this.listeners,a=r.length;return this.emitting++,O(t)||(t=[t]),function(e,t,n){if("event"!==_(n))if(T(n))t(e,ga(e,n));else for(var r=O(n)?n:n.split(/\s+/),a=0;a<r.length;a++){var i=r[a];if(!z(i)){var o=i.match(sa);if(o){var l=o[1],s=o[2]?o[2]:null;t(e,ga(e,{type:l,namespace:s,target:e.context}))}}}else t(e,n)}(this,(function(e,i){null!=n&&(r=[{event:i.event,type:i.type,namespace:i.namespace,callback:n}],a=r.length);for(var o=function(n){var a=r[n];if(a.type===i.type&&(!a.namespace||a.namespace===i.namespace||".*"===a.namespace)&&e.eventMatches(e.context,a,i)){var o=[i];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}}(o,t),e.beforeEmit(e.context,a,i),a.conf&&a.conf.one&&(e.listeners=e.listeners.filter((function(e){return e!==a})));var l=e.callbackContext(e.context,a,i),s=a.callback.apply(l,o);e.afterEmit(e.context,a,i),!1===s&&(i.stopPropagation(),i.preventDefault())}},l=0;l<a;l++)o(l);e.bubble(e.context)&&!i.isPropagationStopped()&&e.parent(e.context).emit(i,t)}),e),this.emitting--,this};var va={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&I(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},ya=function(e){return D(e)?new yr(e):e},ma={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new fa(va,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=ya(t),a=0;a<this.length;a++)this[a].emitter().on(e,r,n);return this},removeListener:function(e,t,n){for(var r=ya(t),a=0;a<this.length;a++)this[a].emitter().removeListener(e,r,n);return this},removeAllListeners:function(){for(var e=0;e<this.length;e++)this[e].emitter().removeAllListeners();return this},one:function(e,t,n){for(var r=ya(t),a=0;a<this.length;a++)this[a].emitter().one(e,r,n);return this},once:function(e,t,n){for(var r=ya(t),a=0;a<this.length;a++)this[a].emitter().on(e,r,n,{once:!0,onceCollection:this})},emit:function(e,t){for(var n=0;n<this.length;n++)this[n].emitter().emit(e,t);return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};er.eventAliasesOn(ma);var ba={nodes:function(e){return this.filter((function(e){return e.isNode()})).filter(e)},edges:function(e){return this.filter((function(e){return e.isEdge()})).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?e.push(r):t.push(r)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(D(e)||A(e))return new yr(e).filter(this);if(R(e)){for(var n=this.spawn(),r=this,a=0;a<r.length;a++){var i=r[a];(t?e.apply(t,[i,a,r]):e(i,a,r))&&n.push(i)}return n}return this.spawn()},not:function(e){if(e){D(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var r=this[n];e.has(r)||t.push(r)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(D(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),r=e,a=this.length<e.length,i=a?this:r,o=a?r:this,l=0;l<i.length;l++){var s=i[l];o.has(s)&&n.push(s)}return n},xor:function(e){var t=this._private.cy;D(e)&&(e=t.$(e));var n=this.spawn(),r=e,a=function(e,t){for(var r=0;r<e.length;r++){var a=e[r],i=a._private.data.id;t.hasElementWithId(i)||n.push(a)}};return a(this,r),a(r,this),n},diff:function(e){var t=this._private.cy;D(e)&&(e=t.$(e));var n=this.spawn(),r=this.spawn(),a=this.spawn(),i=e,o=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],o=i._private.data.id;t.hasElementWithId(o)?a.merge(i):n.push(i)}};return o(this,i,n),o(i,this,r),{left:n,right:r,both:a}},add:function(e){var t=this._private.cy;if(!e)return this;if(D(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=this.spawnSelf(),a=0;a<e.length;a++){var i=e[a];!this.has(i)&&r.push(i)}return r},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&D(e)){var r=e;e=n.mutableElements().filter(r)}for(var a=t.map,i=0;i<e.length;i++){var o=e[i],l=o._private.data.id;if(!a.has(l)){var s=this.length++;this[s]=o,a.set(l,{ele:o,index:s})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var r=e===this.length-1;if(this.length>1&&!r){var a=this.length-1,i=this[a],o=i._private.data.id;this[a]=void 0,this[e]=i,n.set(o,{ele:i,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map.get(n);if(!r)return this;var a=r.index;return this.unmergeAt(a),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&D(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--)e(this[t])&&this.unmergeAt(t);return this},map:function(e,t){for(var n=[],r=this,a=0;a<r.length;a++){var i=r[a],o=t?e.apply(t,[i,a,r]):e(i,a,r);n.push(o)}return n},reduce:function(e,t){for(var n=t,r=this,a=0;a<r.length;a++)n=e(n,r[a],a,r);return n},max:function(e,t){for(var n,r=-1/0,a=this,i=0;i<a.length;i++){var o=a[i],l=t?e.apply(t,[o,i,a]):e(o,i,a);l>r&&(r=l,n=o)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,a=this,i=0;i<a.length;i++){var o=a[i],l=t?e.apply(t,[o,i,a]):e(o,i,a);l<r&&(r=l,n=o)}return{value:r,ele:n}}},wa=ba;wa.u=wa["|"]=wa["+"]=wa.union=wa.or=wa.add,wa["\\"]=wa["!"]=wa["-"]=wa.difference=wa.relativeComplement=wa.subtract=wa.not,wa.n=wa["&"]=wa["."]=wa.and=wa.intersection=wa.intersect,wa["^"]=wa["(+)"]=wa["(-)"]=wa.symmetricDifference=wa.symdiff=wa.xor,wa.fnFilter=wa.filterFn=wa.stdFilter=wa.filter,wa.complement=wa.abscomp=wa.absoluteComplement;var xa,Ea=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?ye:0}var a=r(e)-r(t);if(0!==a)return a;function i(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=i(e)-i(t);if(0!==o)return o;var l=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==l?l:e.poolIndex()-t.poolIndex()},Sa={forEach:function(e,t){if(R(e))for(var n=this.length,r=0;r<n;r++){var a=this[r];if(!1===(t?e.apply(t,[a,r,this]):e(a,r,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var a=e;a>=0&&a<t&&a<r;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!R(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Ea)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:ye-1}var r=t.source,a=t.target,i=r.zDepth(),o=a.zDepth();return Math.max(i,o,0)}}};Sa.each=Sa.forEach,xa="undefined",("undefined"==typeof Symbol?"undefined":h(Symbol))!=xa&&h(Symbol.iterator)!=xa&&(Sa[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},n=0,r=this.length;return m({next:function(){return n<r?t.value=e[n++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,(function(){return this}))});var ka=Re({nodeDimensionsIncludeLabels:!1}),Pa={layoutDimensions:function(e){var t;if(e=ka(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,n){var r=this.nodes().filter((function(e){return!e.isParent()})),a=this.cy(),i=t.eles,o=function(e){return e.id()},l=V(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var s=t.spacingFactor&&1!==t.spacingFactor,u=function(){if(!s)return null;for(var e=dt(),t=0;t<r.length;t++){var n=r[t],a=l(n,t);ft(e,a.x,a.y)}return e}(),c=V((function(e,n){var r,a,i,o,c,d=l(e,n);return s&&(r=Math.abs(t.spacingFactor),i=d,o=(a=u).x1+a.w/2,c=a.y1+a.h/2,d={x:o+(i.x-o)*r,y:c+(i.y-c)*r}),null!=t.transform&&(d=t.transform(e,d)),d}),o);if(t.animate){for(var d=0;d<r.length;d++){var f=r[d],p=c(f,d);if(null==t.animateFilter||t.animateFilter(f,d)){var h=f.animation({position:p,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(h)}else f.position(p)}if(t.fit){var g=a.animation({fit:{boundingBox:i.boundingBoxAt(c),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}else if(void 0!==t.zoom&&void 0!==t.pan){var v=a.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(v)}e.animations.forEach((function(e){return e.play()})),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Qn.all(e.animations.map((function(e){return e.promise()}))).then((function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})}))}else r.positions(c),t.fit&&a.fit(t.eles,t.padding),null!=t.zoom&&a.zoom(t.zoom),t.pan&&a.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(Y({},e,{eles:this}))}};function Ca(e,t,n){var r,a=n._private,i=a.styleCache=a.styleCache||[];return null!=(r=i[e])?r:r=i[e]=t(n)}function _a(e,t){return e=de(e),function(n){return Ca(e,t,n)}}function Da(e,t){e=de(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return Ca(e,n,t)}}Pa.createLayout=Pa.makeLayout=Pa.layout;var Ra={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};return t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach((function(e){n(e),e.connectedEdges().forEach(n)})),this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=n;return e?r.emitAndNotify("style"):r.emit("style"),n.forEach((function(e){return e._private.styleDirty=!0})),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){this.cleanStyle();var a=n._private.style[e];return null!=a?a:t?r.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(T(e)){var a=e;r.applyBypass(this,a,!1),this.emitAndNotify("style")}else if(D(e)){if(void 0===t){var i=this[0];return i?r.getStylePropertyValue(i,e):void 0}r.applyBypass(this,e,t,!1),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?r.getRawStyle(o):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style(),r=this;if(void 0===e)for(var a=0;a<r.length;a++){var i=r[a];n.removeAllBypasses(i,!1)}else{e=e.split(/\s+/);for(var o=0;o<r.length;o++){var l=r[o];n.removeBypasses(l,e,!1)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,a=n.pstyle("opacity").value;if(!t)return a;var i=r.data.parent?n.parents():null;if(i)for(var o=0;o<i.length;o++)a*=i[o].pstyle("opacity").value;return a}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Oa(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++)if(!t(n[r]))return!1;return!0}function Ta(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var a=this[0],i=e.hasCompoundNodes();if(a){var o=a._private;if(!t(a))return!1;if(a.isNode())return!i||Oa(a,r);var l=o.source,s=o.target;return n(l)&&(!i||Oa(l,n))&&(l===s||n(s)&&(!i||Oa(s,n)))}}}var Ma=_a("eleTakesUpSpace",(function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())}));Ra.takesUpSpace=Da("takesUpSpace",Ta({ok:Ma}));var Ba=_a("eleInteractive",(function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&Ma(e)})),Aa=_a("parentInteractive",(function(e){return"visible"===e.pstyle("visibility").value&&Ma(e)}));Ra.interactive=Da("interactive",Ta({ok:Ba,parentOk:Aa,edgeOkViaNode:Ma})),Ra.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var Ia=_a("eleVisible",(function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&Ma(e)})),Na=Ma;Ra.visible=Da("visible",Ta({ok:Ia,edgeOkViaNode:Na})),Ra.hidden=function(){var e=this[0];if(e)return!e.visible()},Ra.isBundledBezier=Da("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()})),Ra.bypass=Ra.css=Ra.style,Ra.renderedCss=Ra.renderedStyle,Ra.removeBypass=Ra.removeCss=Ra.removeStyle,Ra.pstyle=Ra.parsedStyle;var La={};function ja(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],a=t[1];this.on(e.event,r,a)}else if(1===t.length&&R(t[0])){var i=t[0];this.on(e.event,i)}else if(0===t.length||1===t.length&&O(t[0])){for(var o=1===t.length?t[0]:null,l=0;l<this.length;l++){var s=this[l],u=!e.ableField||s._private[e.ableField],c=s._private[e.field]!=e.value;if(e.overrideAble){var d=e.overrideAble(s);if(void 0!==d&&(u=d,!d))return this}u&&(s._private[e.field]=e.value,c&&n.push(s))}var f=this.spawn(n);f.updateStyle(),f.emit(e.event),o&&f.emit(o)}return this}}function za(e){La[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},La[e.on]=ja({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),La[e.off]=ja({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}za({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),za({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),za({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),za({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),La.deselect=La.unselect,La.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},za({field:"active",on:"activate",off:"unactivate"}),za({field:"pannable",on:"panify",off:"unpanify"}),La.inactive=function(){var e=this[0];if(e)return!e._private.active};var Fa={},Va=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var a=this[r];if(a.isNode()){for(var i=!1,o=a.connectedEdges(),l=0;l<o.length;l++){var s=o[l],u=s.source(),c=s.target();if(e.noIncomingEdges&&c===a&&u!==a||e.noOutgoingEdges&&u===a&&c!==a){i=!0;break}}i||n.push(a)}}return this.spawn(n,!0).filter(t)}},Ha=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var a=this[r];if(a.isNode())for(var i=a.connectedEdges(),o=0;o<i.length;o++){var l=i[o],s=l.source(),u=l.target();e.outgoing&&s===a?(n.push(l),n.push(u)):e.incoming&&u===a&&(n.push(l),n.push(s))}}return this.spawn(n,!0).filter(t)}},Wa=function(e){return function(t){for(var n=this,r=[],a={};;){var i=e.outgoing?n.outgoers():n.incomers();if(0===i.length)break;for(var o=!1,l=0;l<i.length;l++){var s=i[l],u=s.id();a[u]||(a[u]=!0,r.push(s),o=!0)}if(!o)break;n=i}return this.spawn(r,!0).filter(t)}};function qa(e){return function(t){for(var n=[],r=0;r<this.length;r++){var a=this[r]._private[e.attr];a&&n.push(a)}return this.spawn(n,!0).filter(t)}}function Ua(e){return function(t){var n=[],r=this._private.cy,a=e||{};D(t)&&(t=r.$(t));for(var i=0;i<t.length;i++)for(var o=t[i]._private.edges,l=0;l<o.length;l++){var s=o[l],u=s._private.data,c=this.hasElementWithId(u.source)&&t.hasElementWithId(u.target),d=t.hasElementWithId(u.source)&&this.hasElementWithId(u.target);if(c||d){if(a.thisIsSrc||a.thisIsTgt){if(a.thisIsSrc&&!c)continue;if(a.thisIsTgt&&!d)continue}n.push(s)}}return this.spawn(n,!0)}}function Ka(e){return e=Y({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),a=e,i=0;i<r.length;i++)for(var o=r[i]._private,l=o.source,s=l._private.data.id,u=o.data.target,c=l._private.edges,d=0;d<c.length;d++){var f=c[d],p=f._private.data,h=p.target,g=p.source,v=h===u&&g===s,y=s===h&&u===g;(a.codirected&&v||!a.codirected&&(v||y))&&n.push(f)}return this.spawn(n,!0).filter(t)}}Fa.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},Y(Fa,{roots:Va({noIncomingEdges:!0}),leaves:Va({noOutgoingEdges:!0}),outgoers:Er(Ha({outgoing:!0}),"outgoers"),successors:Wa({outgoing:!0}),incomers:Er(Ha({incoming:!0}),"incomers"),predecessors:Wa({incoming:!0})}),Y(Fa,{neighborhood:Er((function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var a=n[r],i=a.connectedEdges(),o=0;o<i.length;o++){var l=i[o],s=l.source(),u=l.target(),c=a===s?u:s;c.length>0&&t.push(c[0]),t.push(l[0])}return this.spawn(t,!0).filter(e)}),"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),Fa.neighbourhood=Fa.neighborhood,Fa.closedNeighbourhood=Fa.closedNeighborhood,Fa.openNeighbourhood=Fa.openNeighborhood,Y(Fa,{source:Er((function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t}),"source"),target:Er((function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t}),"target"),sources:qa({attr:"source"}),targets:qa({attr:"target"})}),Y(Fa,{edgesWith:Er(Ua(),"edgesWith"),edgesTo:Er(Ua({thisIsSrc:!0}),"edgesTo")}),Y(Fa,{connectedEdges:Er((function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var a=r._private.edges,i=0;i<a.length;i++){var o=a[i];t.push(o)}}return this.spawn(t,!0).filter(e)}),"connectedEdges"),connectedNodes:Er((function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,!0).filter(e)}),"connectedNodes"),parallelEdges:Er(Ka(),"parallelEdges"),codirectedEdges:Er(Ka({codirected:!0}),"codirectedEdges")}),Y(Fa,{components:function(e){var t=this,n=t.cy(),r=n.collection(),a=null==e?t.nodes():e.nodes(),i=[];null!=e&&a.empty()&&(a=e.sources());var o=function(e,t){r.merge(e),a.unmerge(e),t.merge(e)};if(a.empty())return t.spawn();var l=function(){var e=n.collection();i.push(e);var r=a[0];o(r,e),t.bfs({directed:!1,roots:r,visit:function(t){return o(t,e)}}),e.forEach((function(n){n.connectedEdges().forEach((function(n){t.has(n)&&e.has(n.source())&&e.has(n.target())&&e.merge(n)}))}))};do{l()}while(a.length>0);return i},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),Fa.componentsOf=Fa.components;var Ga=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==e){var a=new Ae,i=!1;if(t){if(t.length>0&&T(t[0])&&!I(t[0])){i=!0;for(var o=[],l=new Ne,s=0,u=t.length;s<u;s++){var c=t[s];null==c.data&&(c.data={});var d=c.data;if(null==d.id)d.id=Ce();else if(e.hasElementWithId(d.id)||l.has(d.id))continue;var f=new Le(e,c,!1);o.push(f),l.add(d.id)}t=o}}else t=[];this.length=0;for(var p=0,h=t.length;p<h;p++){var g=t[p][0];if(null!=g){var v=g._private.data.id;n&&a.has(v)||(n&&a.set(v,{index:this.length,ele:g}),this[this.length]=g,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new Ae,t=this.eles,n=0;n<t.length;n++){var r=t[n];e.set(r.id(),{index:n,ele:r})}}},n&&(this._private.map=a),i&&!r&&this.restore()}else Ee("A collection must have a reference to the core")},Ya=Le.prototype=Ga.prototype=Object.create(Array.prototype);Ya.instanceString=function(){return"collection"},Ya.spawn=function(e,t){return new Ga(this.cy(),e,t)},Ya.spawnSelf=function(){return this.spawn(this)},Ya.cy=function(){return this._private.cy},Ya.renderer=function(){return this._private.cy.renderer()},Ya.element=function(){return this[0]},Ya.collection=function(){return N(this)?this:new Ga(this._private.cy,[this])},Ya.unique=function(){return new Ga(this._private.cy,this,!0)},Ya.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},Ya.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new Ga(t)},Ya.$id=Ya.getElementById,Ya.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},Ya.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Ya.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},Ya.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var r=t._private;if(T(e)){if(n.startBatch(),e.data){t.data(e.data);var a=r.data;if(t.isEdge()){var i=!1,o={},l=e.data.source,s=e.data.target;null!=l&&l!=a.source&&(o.source=""+l,i=!0),null!=s&&s!=a.target&&(o.target=""+s,i=!0),i&&(t=t.move(o))}else{var u="parent"in e.data,c=e.data.parent;!u||null==c&&null==a.parent||c==a.parent||(void 0===c&&(c=null),null!=c&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var d=function(n,a,i){var o=e[n];null!=o&&o!==r[n]&&(o?t[a]():t[i]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var f={data:Pe(r.data),position:Pe(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:""},p=0;return r.classes.forEach((function(e){return f.classes+=0==p++?e:" "+e})),f}}},Ya.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},Ya.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),a=new Le(e,r,!1);t.push(a)}return new Ga(e,t)},Ya.copy=Ya.clone,Ya.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this,i=a.cy(),o=i._private,l=[],s=[],u=0,c=a.length;u<c;u++){var d=a[u];r&&!d.removed()||(d.isNode()?l.push(d):s.push(d))}e=l.concat(s);var f=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var p=e[t],h=p._private,g=h.data;if(p.clearTraversalCache(),r||h.removed)if(void 0===g.id)g.id=Ce();else if(M(g.id))g.id=""+g.id;else{if(z(g.id)||!D(g.id)){Ee("Can not create element with invalid string ID `"+g.id+"`"),f();continue}if(i.hasElementWithId(g.id)){Ee("Can not create second element with ID `"+g.id+"`"),f();continue}}var v=g.id;if(p.isNode()){var y=h.position;null==y.x&&(y.x=0),null==y.y&&(y.y=0)}if(p.isEdge()){for(var m=p,b=["source","target"],w=b.length,x=!1,E=0;E<w;E++){var S=b[E],k=g[S];M(k)&&(k=g[S]=""+g[S]),null==k||""===k?(Ee("Can not create edge `"+v+"` with unspecified "+S),x=!0):i.hasElementWithId(k)||(Ee("Can not create edge `"+v+"` with nonexistant "+S+" `"+k+"`"),x=!0)}if(x){f();continue}var P=i.getElementById(g.source),C=i.getElementById(g.target);P.same(C)?P._private.edges.push(m):(P._private.edges.push(m),C._private.edges.push(m)),m._private.source=P,m._private.target=C}h.map=new Ae,h.map.set(v,{ele:p,index:0}),h.removed=!1,r&&i.addToPool(p)}for(var _=0;_<l.length;_++){var R=l[_],O=R._private.data;M(O.parent)&&(O.parent=""+O.parent);var T=O.parent,B=null!=T;if(B||R._private.parent){var A=R._private.parent?i.collection().merge(R._private.parent):i.getElementById(T);if(A.empty())O.parent=void 0;else if(A[0].removed())ke("Node added with missing parent, reference to parent removed"),O.parent=void 0,R._private.parent=null;else{for(var I=!1,N=A;!N.empty();){if(R.same(N)){I=!0,O.parent=void 0;break}N=N.parent()}I||(A[0]._private.children.push(R),R._private.parent=A[0],o.hasCompoundNodes=!0)}}}if(e.length>0){for(var L=e.length===a.length?a:new Ga(i,e),j=0;j<L.length;j++){var F=L[j];F.isNode()||(F.parallelEdges().clearTraversalCache(),F.source().clearTraversalCache(),F.target().clearTraversalCache())}(o.hasCompoundNodes?i.collection().merge(L).merge(L.connectedNodes()).merge(L.parent()):L).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?L.emitAndNotify("add"):r&&L.emit("add")}return a},Ya.removed=function(){var e=this[0];return e&&e._private.removed},Ya.inside=function(){var e=this[0];return e&&!e._private.removed},Ya.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[],a={},i=n._private.cy;function o(e){for(var t=e._private.edges,n=0;n<t.length;n++)s(t[n])}function l(e){for(var t=e._private.children,n=0;n<t.length;n++)s(t[n])}function s(e){var n=a[e.id()];t&&e.removed()||n||(a[e.id()]=!0,e.isNode()?(r.push(e),o(e),l(e)):r.unshift(e))}for(var u=0,c=n.length;u<c;u++){var d=n[u];s(d)}function f(e,t){var n=e._private.edges;Oe(n,t),e.clearTraversalCache()}function p(e){e.clearTraversalCache()}var h=[];function g(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();Oe(n,t),t._private.parent=null,h.ids[r]||(h.ids[r]=!0,h.push(e))}h.ids={},n.dirtyCompoundBoundsCache(),t&&i.removeFromPool(r);for(var v=0;v<r.length;v++){var y=r[v];if(y.isEdge()){var m=y.source()[0],b=y.target()[0];f(m,y),f(b,y);for(var w=y.parallelEdges(),x=0;x<w.length;x++){var E=w[x];p(E),E.isBundledBezier()&&E.dirtyBoundingBoxCache()}}else{var S=y.parent();0!==S.length&&g(S,y)}t&&(y._private.removed=!0)}var k=i._private.elements;i._private.hasCompoundNodes=!1;for(var P=0;P<k.length;P++){var C=k[P];if(C.isParent()){i._private.hasCompoundNodes=!0;break}}var _=new Ga(this.cy(),r);_.size()>0&&(e?_.emitAndNotify("remove"):t&&_.emit("remove"));for(var D=0;D<h.length;D++){var R=h[D];t&&R.removed()||R.updateStyle()}return _},Ya.move=function(e){var t=this._private.cy,n=this,r=!1,a=!1,i=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var o=i(e.source),l=i(e.target),s=null!=o&&t.hasElementWithId(o),u=null!=l&&t.hasElementWithId(l);(s||u)&&(t.batch((function(){n.remove(r,a),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],i=t._private.data;t.isEdge()&&(s&&(i.source=o),u&&(i.target=l))}n.restore(r,a)})),n.emitAndNotify("move"))}else if(void 0!==e.parent){var c=i(e.parent);if(null===c||t.hasElementWithId(c)){var d=null===c?void 0:c;t.batch((function(){var e=n.remove(r,a);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var i=n[t],o=i._private.data;i.isNode()&&(o.parent=d)}e.restore(r,a)})),n.emitAndNotify("move")}}return this},[qn,tr,nr,br,Sr,Or,Tr,aa,ma,ba,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Sa,Pa,Ra,La,Fa].forEach((function(e){Y(Ya,e)}));var Xa={add:function(e){var t,n=this;if(A(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var a=[],i=0;i<r.length;i++){var o=r[i];a.push(o.json())}t=new Ga(n,a)}}else if(O(e))t=new Ga(n,e);else if(T(e)&&(O(e.nodes)||O(e.edges))){for(var l=e,s=[],u=["nodes","edges"],c=0,d=u.length;c<d;c++){var f=u[c],p=l[f];if(O(p))for(var h=0,g=p.length;h<g;h++){var v=Y({group:f},p[h]);s.push(v)}}t=new Ga(n,s)}else t=new Le(n,e).collection();return t},remove:function(e){if(A(e));else if(D(e)){var t=e;e=this.$(t)}return e.remove()}},$a=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var a={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:a.v,dv:e(a)}}function n(n,r){var a={dx:n.v,dv:e(n)},i=t(n,.5*r,a),o=t(n,.5*r,i),l=t(n,r,o),s=1/6*(a.dx+2*(i.dx+o.dx)+l.dx),u=1/6*(a.dv+2*(i.dv+o.dv)+l.dv);return n.x=n.x+s*r,n.v=n.v+u*r,n}return function e(t,r,a){var i,o,l,s={x:-1,v:0,tension:null,friction:null},u=[0],c=0,d=1e-4;for(t=parseFloat(t)||500,r=parseFloat(r)||20,a=a||null,s.tension=t,s.friction=r,o=(i=null!==a)?(c=e(t,r))/a*.016:.016;l=n(l||s,o),u.push(1+l.x),c+=16,Math.abs(l.x)>d&&Math.abs(l.v)>d;);return i?function(e){return u[e*(u.length-1)|0]}:c}}(),Qa=function(e,t,n,r){var a=function(e,t,n,r){var a=4,i=.001,o=1e-7,l=10,s=11,u=1/(s-1),c="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var d=0;d<4;++d)if("number"!=typeof arguments[d]||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var f=c?new Float32Array(s):new Array(s);function p(e,t){return 1-3*t+3*e}function h(e,t){return 3*t-6*e}function g(e){return 3*e}function v(e,t,n){return((p(t,n)*e+h(t,n))*e+g(t))*e}function y(e,t,n){return 3*p(t,n)*e*e+2*h(t,n)*e+g(t)}function m(t,r){for(var i=0;i<a;++i){var o=y(r,e,n);if(0===o)return r;r-=(v(r,e,n)-t)/o}return r}function b(){for(var t=0;t<s;++t)f[t]=v(t*u,e,n)}function w(t,r,a){var i,s,u=0;do{(i=v(s=r+(a-r)/2,e,n)-t)>0?a=s:r=s}while(Math.abs(i)>o&&++u<l);return s}function x(t){for(var r=0,a=1,o=s-1;a!==o&&f[a]<=t;++a)r+=u;--a;var l=r+(t-f[a])/(f[a+1]-f[a])*u,c=y(l,e,n);return c>=i?m(t,l):0===c?l:w(t,r,r+u)}var E=!1;function S(){E=!0,e===t&&n===r||b()}var k=function(a){return E||S(),e===t&&n===r?a:0===a?0:1===a?1:v(x(a),t,r)};k.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var P="generateBezier("+[e,t,n,r]+")";return k.toString=function(){return P},k}(e,t,n,r);return function(e,t,n){return e+(t-e)*a(n)}},Za={linear:function(e,t,n){return e+(t-e)*n},ease:Qa(.25,.1,.25,1),"ease-in":Qa(.42,0,1,1),"ease-out":Qa(0,0,.58,1),"ease-in-out":Qa(.42,0,.58,1),"ease-in-sine":Qa(.47,0,.745,.715),"ease-out-sine":Qa(.39,.575,.565,1),"ease-in-out-sine":Qa(.445,.05,.55,.95),"ease-in-quad":Qa(.55,.085,.68,.53),"ease-out-quad":Qa(.25,.46,.45,.94),"ease-in-out-quad":Qa(.455,.03,.515,.955),"ease-in-cubic":Qa(.55,.055,.675,.19),"ease-out-cubic":Qa(.215,.61,.355,1),"ease-in-out-cubic":Qa(.645,.045,.355,1),"ease-in-quart":Qa(.895,.03,.685,.22),"ease-out-quart":Qa(.165,.84,.44,1),"ease-in-out-quart":Qa(.77,0,.175,1),"ease-in-quint":Qa(.755,.05,.855,.06),"ease-out-quint":Qa(.23,1,.32,1),"ease-in-out-quint":Qa(.86,0,.07,1),"ease-in-expo":Qa(.95,.05,.795,.035),"ease-out-expo":Qa(.19,1,.22,1),"ease-in-out-expo":Qa(1,0,0,1),"ease-in-circ":Qa(.6,.04,.98,.335),"ease-out-circ":Qa(.075,.82,.165,1),"ease-in-out-circ":Qa(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return Za.linear;var r=$a(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":Qa};function Ja(e,t,n,r,a){if(1===r)return n;if(t===n)return n;var i=a(t,n,r);return null==e||((e.roundValue||e.color)&&(i=Math.round(i)),void 0!==e.min&&(i=Math.max(i,e.min)),void 0!==e.max&&(i=Math.min(i,e.max))),i}function ei(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function ti(e,t,n,r,a){var i=null!=a?a.type:null;n<0?n=0:n>1&&(n=1);var o=ei(e,a),l=ei(t,a);if(M(o)&&M(l))return Ja(i,o,l,n,r);if(O(o)&&O(l)){for(var s=[],u=0;u<l.length;u++){var c=o[u],d=l[u];if(null!=c&&null!=d){var f=Ja(i,c,d,n,r);s.push(f)}else s.push(d)}return s}}function ni(e,t,n,r){var a=!r,i=e._private,o=t._private,l=o.easing,s=o.startTime,u=(r?e:e.cy()).style();if(!o.easingImpl)if(null==l)o.easingImpl=Za.linear;else{var c,d,f;c=D(l)?u.parse("transition-timing-function",l).value:l,D(c)?(d=c,f=[]):(d=c[1],f=c.slice(2).map((function(e){return+e}))),f.length>0?("spring"===d&&f.push(o.duration),o.easingImpl=Za[d].apply(null,f)):o.easingImpl=Za[d]}var p,h=o.easingImpl;if(p=0===o.duration?1:(n-s)/o.duration,o.applying&&(p=o.progress),p<0?p=0:p>1&&(p=1),null==o.delay){var g=o.startPosition,v=o.position;if(v&&a&&!e.locked()){var y={};ri(g.x,v.x)&&(y.x=ti(g.x,v.x,p,h)),ri(g.y,v.y)&&(y.y=ti(g.y,v.y,p,h)),e.position(y)}var m=o.startPan,b=o.pan,w=i.pan,x=null!=b&&r;x&&(ri(m.x,b.x)&&(w.x=ti(m.x,b.x,p,h)),ri(m.y,b.y)&&(w.y=ti(m.y,b.y,p,h)),e.emit("pan"));var E=o.startZoom,S=o.zoom,k=null!=S&&r;k&&(ri(E,S)&&(i.zoom=ct(i.minZoom,ti(E,S,p,h),i.maxZoom)),e.emit("zoom")),(x||k)&&e.emit("viewport");var P=o.style;if(P&&P.length>0&&a){for(var C=0;C<P.length;C++){var _=P[C],R=_.name,O=_,T=o.startStyle[R],M=ti(T,O,p,h,u.properties[T.name]);u.overrideBypass(e,R,M)}e.emit("style")}}return o.progress=p,p}function ri(e,t){return!!(null!=e&&null!=t&&(M(e)&&M(t)||e&&t))}function ai(e,t,n,r){var a=t._private;a.started=!0,a.startTime=n-a.progress*a.duration}function ii(e,t){var n=t._private.aniEles,r=[];function a(t,n){var a=t._private,i=a.animation.current,o=a.animation.queue,l=!1;if(0===i.length){var s=o.shift();s&&i.push(s)}for(var u=function(e){for(var t=e.length-1;t>=0;t--)(0,e[t])();e.splice(0,e.length)},c=i.length-1;c>=0;c--){var d=i[c],f=d._private;f.stopped?(i.splice(c,1),f.hooked=!1,f.playing=!1,f.started=!1,u(f.frames)):(f.playing||f.applying)&&(f.playing&&f.applying&&(f.applying=!1),f.started||ai(0,d,e),ni(t,d,e,n),f.applying&&(f.applying=!1),u(f.frames),null!=f.step&&f.step(e),d.completed()&&(i.splice(c,1),f.hooked=!1,f.playing=!1,f.started=!1,u(f.completes)),l=!0)}return n||0!==i.length||0!==o.length||r.push(t),l}for(var i=!1,o=0;o<n.length;o++){var l=a(n[o]);i=i||l}var s=a(t,!0);(i||s)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var oi={animate:er.animate(),animation:er.animation(),animated:er.animated(),clearQueue:er.clearQueue(),delay:er.delay(),delayAnimation:er.delayAnimation(),stop:er.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender((function(t,n){ii(n,e)}),t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&te((function(n){ii(n,e),t()}))}()}}},li={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&I(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},si=function(e){return D(e)?new yr(e):e},ui={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new fa(li,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,si(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,si(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,si(t),n),this},once:function(e,t,n){return this.emitter().one(e,si(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};er.eventAliasesOn(ui);var ci={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};ci.jpeg=ci.jpg;var di={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var n,r=e.name,a=t.extension("layout",r);if(null!=a)return n=D(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$(),new a(Y({},e,{cy:t,eles:n}));Ee("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Ee("A `name` must be specified to make a layout");else Ee("Layout options must be specified to make a layout")}};di.createLayout=di.makeLayout=di.layout;var fi={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&r.merge(t)}else if(n.notificationsEnabled){var a=this.renderer();!this.destroyed()&&a&&a.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach((function(n){var r=e.batchNotifications[n];r.empty()?t.notify(n):t.notify(n,r)}))}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch((function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var a=n[r],i=e[a];t.getElementById(a).data(i)}}))}},pi=Re({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),hi={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null!=n){void 0!==e.wheelSensitivity&&ke("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var r=pi(e);r.cy=t,t._private.renderer=new n(r),this.notify("init")}else Ee("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach((function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]}))},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};hi.invalidateDimensions=hi.resize;var gi={collection:function(e,t){return D(e)?this.$(e):A(e)?e.collection():O(e)?(t||(t={}),new Ga(this,e,t.unique,t.removed)):new Ga(this)},nodes:function(e){var t=this.$((function(e){return e.isNode()}));return e?t.filter(e):t},edges:function(e){var t=this.$((function(e){return e.isEdge()}));return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};gi.elements=gi.filter=gi.$;var vi={},yi="t";vi.apply=function(e){for(var t=this,n=t._private.cy.collection(),r=0;r<e.length;r++){var a=e[r],i=t.getContextMeta(a);if(!i.empty){var o=t.getContextStyle(i),l=t.applyContextStyle(i,o,a);a._private.appliedInitStyle?t.updateTransitions(a,l.diffProps):a._private.appliedInitStyle=!0,t.updateStyleHints(a)&&n.push(a)}}return n},vi.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},a=e+"-"+t,i=r[a];if(i)return i;for(var o=[],l={},s=0;s<n.length;s++){var u=n[s],c=e[s]===yi,d=t[s]===yi,f=c!==d,p=u.mappedProperties.length>0;if(f||d&&p){var h=void 0;f&&p||f?h=u.properties:p&&(h=u.mappedProperties);for(var g=0;g<h.length;g++){for(var v=h[g],y=v.name,m=!1,b=s+1;b<n.length;b++){var w=n[b];if(t[b]===yi&&(m=null!=w.properties[v.name]))break}l[y]||m||(l[y]=!0,o.push(y))}}}return r[a]=o,o},vi.getContextMeta=function(e){for(var t,n=this,r="",a=e._private.styleCxtKey||"",i=0;i<n.length;i++){var o=n[i];r+=o.selector&&o.selector.matches(e)?yi:"f"}return t=n.getPropertiesDiff(a,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t,empty:0===t.length}},vi.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},a=0;a<this.length;a++){var i=this[a];if(t[a]===yi)for(var o=0;o<i.properties.length;o++){var l=i.properties[o];r[l.name]=l}}return n[t]=r,r},vi.applyContextStyle=function(e,t,n){for(var r=e.diffPropNames,a={},i=this.types,o=0;o<r.length;o++){var l=r[o],s=t[l],u=n.pstyle(l);if(!s){if(!u)continue;s=u.bypass?{name:l,deleteBypassed:!0}:{name:l,delete:!0}}if(u!==s){if(s.mapped===i.fn&&null!=u&&null!=u.mapping&&u.mapping.value===s.value){var c=u.mapping;if((c.fnValue=s.value(n))===c.prevFnValue)continue}var d=a[l]={prev:u};this.applyParsedProperty(n,s),d.next=n.pstyle(l),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:a}},vi.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,a=n.propertyGroupKeys,i=function(e,t,r){return n.getPropertiesHash(e,t,r)},o=t.styleKey;if(e.removed())return!1;var l="nodes"===t.group,s=e._private.style;r=Object.keys(s);for(var u=0;u<a.length;u++){var c=a[u];t.styleKeys[c]=[re,ie]}for(var d,f=function(e,n){return t.styleKeys[n][0]=le(e,t.styleKeys[n][0])},p=function(e,n){return t.styleKeys[n][1]=se(e,t.styleKeys[n][1])},h=function(e,t){f(e,t),p(e,t)},g=function(e,t){for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);f(r,t),p(r,t)}},v=0;v<r.length;v++){var y=r[v],m=s[y];if(null!=m){var b=this.properties[y],w=b.type,x=b.groupKey,E=void 0;null!=b.hashOverride?E=b.hashOverride(e,m):null!=m.pfValue&&(E=m.pfValue);var S=null==b.enums?m.value:null,k=null!=E,P=k||null!=S,C=m.units;w.number&&P&&!w.multiple?(h(-128<(d=k?E:S)&&d<128&&Math.floor(d)!==d?2e9-(1024*d|0):d,x),k||null==C||g(C,x)):g(m.strValue,x)}}for(var _=[re,ie],D=0;D<a.length;D++){var R=a[D],O=t.styleKeys[R];_[0]=le(O[0],_[0]),_[1]=se(O[1],_[1])}t.styleKey=2097152*_[0]+_[1];var T=t.styleKeys;t.labelDimsKey=ue(T.labelDimensions);var M=i(e,["label"],T.labelDimensions);if(t.labelKey=ue(M),t.labelStyleKey=ue(ce(T.commonLabel,M)),!l){var B=i(e,["source-label"],T.labelDimensions);t.sourceLabelKey=ue(B),t.sourceLabelStyleKey=ue(ce(T.commonLabel,B));var A=i(e,["target-label"],T.labelDimensions);t.targetLabelKey=ue(A),t.targetLabelStyleKey=ue(ce(T.commonLabel,A))}if(l){var I=t.styleKeys,N=I.nodeBody,L=I.nodeBorder,j=I.backgroundImage,z=I.compound,F=I.pie,V=[N,L,j,z,F].filter((function(e){return null!=e})).reduce(ce,[re,ie]);t.nodeKey=ue(V),t.hasPie=null!=F&&F[0]!==re&&F[1]!==ie}return o!==t.styleKey},vi.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},vi.applyParsedProperty=function(e,t){var n,r=this,a=t,i=e._private.style,o=r.types,l=r.properties[a.name].type,s=a.bypass,u=i[a.name],c=u&&u.bypass,d=e._private,f="mapping",p=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},h=function(){var t=p(u),n=p(a);r.checkTriggers(e,a.name,t,n)};if(a&&"pie"===a.name.substr(0,3)&&ke("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(a=t=this.parse(t.name,"bezier",s)),a.delete)return i[a.name]=void 0,h(),!0;if(a.deleteBypassed)return u?!!u.bypass&&(u.bypassed=void 0,h(),!0):(h(),!0);if(a.deleteBypass)return u?!!u.bypass&&(i[a.name]=u.bypassed,h(),!0):(h(),!0);var g=function(){ke("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case o.mapData:for(var v,y=a.field.split("."),m=d.data,b=0;b<y.length&&m;b++)m=m[y[b]];if(null==m)return g(),!1;if(!M(m))return ke("Do not use continuous mappers without specifying numeric data (i.e. `"+a.field+": "+m+"` for `"+e.id()+"` is non-numeric)"),!1;var w=a.fieldMax-a.fieldMin;if((v=0===w?0:(m-a.fieldMin)/w)<0?v=0:v>1&&(v=1),l.color){var x=a.valueMin[0],E=a.valueMax[0],S=a.valueMin[1],k=a.valueMax[1],P=a.valueMin[2],C=a.valueMax[2],_=null==a.valueMin[3]?1:a.valueMin[3],D=null==a.valueMax[3]?1:a.valueMax[3],R=[Math.round(x+(E-x)*v),Math.round(S+(k-S)*v),Math.round(P+(C-P)*v),Math.round(_+(D-_)*v)];n={bypass:a.bypass,name:a.name,value:R,strValue:"rgb("+R[0]+", "+R[1]+", "+R[2]+")"}}else{if(!l.number)return!1;var O=a.valueMin+(a.valueMax-a.valueMin)*v;n=this.parse(a.name,O,a.bypass,f)}if(!n)return g(),!1;n.mapping=a,a=n;break;case o.data:for(var T=a.field.split("."),B=d.data,A=0;A<T.length&&B;A++)B=B[T[A]];if(null!=B&&(n=this.parse(a.name,B,a.bypass,f)),!n)return g(),!1;n.mapping=a,a=n;break;case o.fn:var I=a.value,N=null!=a.fnValue?a.fnValue:I(e);if(a.prevFnValue=N,null==N)return ke("Custom function mappers may not return null (i.e. `"+a.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(a.name,N,a.bypass,f)))return ke("Custom function mappers may not return invalid values for the property type (i.e. `"+a.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=Pe(a),a=n;break;case void 0:break;default:return!1}return s?(a.bypassed=c?u.bypassed:u,i[a.name]=a):c?u.bypassed=a:i[a.name]=a,h(),!0},vi.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),t)for(var a=r._private.style,i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],s=a[l];null!=s&&(s.bypass?s.bypassed=null:a[l]=null)}else r._private.style={}}},vi.update=function(){this._private.cy.mutableElements().updateStyle()},vi.updateTransitions=function(e,t){var n=this,r=e._private,a=e.pstyle("transition-property").value,i=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var l={},s=!1,u=0;u<a.length;u++){var c=a[u],d=e.pstyle(c),f=t[c];if(f){var p=f.prev,h=null!=f.next?f.next:d,g=!1,v=void 0,y=1e-6;p&&(M(p.pfValue)&&M(h.pfValue)?(g=h.pfValue-p.pfValue,v=p.pfValue+y*g):M(p.value)&&M(h.value)?(g=h.value-p.value,v=p.value+y*g):O(p.value)&&O(h.value)&&(g=p.value[0]!==h.value[0]||p.value[1]!==h.value[1]||p.value[2]!==h.value[2],v=p.strValue),g&&(l[c]=h.strValue,this.applyBypass(e,c,v),s=!0))}}if(!s)return;r.transitioning=!0,new Qn((function(t){o>0?e.delayAnimation(o).play().promise().then(t):t()})).then((function(){return e.animation({style:l,duration:i,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){n.removeBypasses(e,a),e.emitAndNotify("style"),r.transitioning=!1}))}else r.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),r.transitioning=!1)},vi.checkTrigger=function(e,t,n,r,a,i){var o=this.properties[t],l=a(o);null!=l&&l(n,r)&&i(o)},vi.checkZOrderTrigger=function(e,t,n,r){var a=this;this.checkTrigger(e,t,n,r,(function(e){return e.triggersZOrder}),(function(){a._private.cy.notify("zorder",e)}))},vi.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,(function(e){return e.triggersBounds}),(function(a){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),!a.triggersBoundsOfParallelBeziers||("curve-style"!==t||"bezier"!==n&&"bezier"!==r)&&("display"!==t||"none"!==n&&"none"!==r)||e.parallelEdges().forEach((function(e){e.isBundledBezier()&&e.dirtyBoundingBoxCache()}))}))},vi.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r)};var mi={applyBypass:function(e,t,n,r){var a=[];if("*"===t||"**"===t){if(void 0!==n)for(var i=0;i<this.properties.length;i++){var o=this.properties[i].name,l=this.parse(o,n,!0);l&&a.push(l)}}else if(D(t)){var s=this.parse(t,n,!0);s&&a.push(s)}else{if(!T(t))return!1;var u=t;r=n;for(var c=Object.keys(u),d=0;d<c.length;d++){var f=c[d],p=u[f];if(void 0===p&&(p=u[W(f)]),void 0!==p){var h=this.parse(f,p,!0);h&&a.push(h)}}}if(0===a.length)return!1;for(var g=!1,v=0;v<e.length;v++){for(var y=e[v],m={},b=void 0,w=0;w<a.length;w++){var x=a[w];if(r){var E=y.pstyle(x.name);b=m[x.name]={prev:E}}g=this.applyParsedProperty(y,Pe(x))||g,r&&(b.next=y.pstyle(x.name))}g&&this.updateStyleHints(y),r&&this.updateTransitions(y,m,!0)}return g},overrideBypass:function(e,t,n){t=H(t);for(var r=0;r<e.length;r++){var a=e[r],i=a._private.style[t],o=this.properties[t].type,l=o.color,s=o.mutiple,u=i?null!=i.pfValue?i.pfValue:i.value:null;i&&i.bypass?(i.value=n,null!=i.pfValue&&(i.pfValue=n),i.strValue=l?"rgb("+n.join(",")+")":s?n.join(" "):""+n,this.updateStyleHints(a)):this.applyBypass(a,t,n),this.checkTriggers(a,t,u,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var a=e[r],i={},o=0;o<t.length;o++){var l=t[o],s=this.properties[l],u=a.pstyle(s.name);if(u&&u.bypass){var c=this.parse(l,"",!0),d=i[s.name]={prev:u};this.applyParsedProperty(a,c),d.next=a.pstyle(s.name)}}this.updateStyleHints(a),n&&this.updateTransitions(a,i,!0)}}},bi={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(x&&t&&x.getComputedStyle)return x.getComputedStyle(t).getPropertyValue(e)}},wi={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var n=this;if(e=e[0]){for(var r={},a=0;a<n.properties.length;a++){var i=n.properties[a],o=n.getStylePropertyValue(e,i.name,t);null!=o&&(r[i.name]=o,r[W(i.name)]=o)}return r}},getIndexedStyle:function(e,t,n,r){var a=e.pstyle(t)[n][r];return null!=a?a:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var a=r.type,i=e.pstyle(r.name);if(i){var o=i.value,l=i.units,s=i.strValue;if(n&&a.number&&null!=o&&M(o)){var u=e.cy().zoom(),c=function(e){return e*u},d=function(e,t){return c(e)+t},f=O(o);return(f?l.every((function(e){return null!=e})):null!=l)?f?o.map((function(e,t){return d(e,l[t])})).join(" "):d(o,l):f?o.map((function(e){return D(e)?e:""+c(e)})).join(" "):""+c(o)}if(null!=s)return s}return null}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var a=t[r].name,i=e.pstyle(a);void 0!==i&&(i=T(i)?this.parse(a,i.strValue):this.parse(a,i)),i&&(n[a]=i)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],l=n[o],s=r[o]||r[H(o)],u=this.parse(s.name,l);u&&t.push(u)}return t},getNonDefaultPropertiesHash:function(e,t,n){var r,a,i,o,l,s,u=n.slice();for(l=0;l<t.length;l++)if(r=t[l],null!=(a=e.pstyle(r,!1)))if(null!=a.pfValue)u[0]=le(o,u[0]),u[1]=se(o,u[1]);else for(i=a.strValue,s=0;s<i.length;s++)o=i.charCodeAt(s),u[0]=le(o,u[0]),u[1]=se(o,u[1]);return u}};wi.getPropertiesHash=wi.getNonDefaultPropertiesHash;var xi={appendFromJson:function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],a=r.selector,i=r.style||r.css,o=Object.keys(i);t.selector(a);for(var l=0;l<o.length;l++){var s=o[l],u=i[s];t.css(s,u)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,a=n.properties,i={},o=0;o<a.length;o++){var l=a[o];i[l.name]=l.strValue}e.push({selector:r?r.toString():"core",style:i})}return e}},Ei={appendFromString:function(e){var t,n,r,a=this,i=""+e;function o(){i=i.length>t.length?i.substr(t.length):""}function l(){n=n.length>r.length?n.substr(r.length):""}for(i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");!i.match(/^\s*$/);){var s=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!s){ke("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}t=s[0];var u=s[1];if("core"!==u&&new yr(u).invalid)ke("Skipping parsing of block: Invalid selector found in string stylesheet: "+u),o();else{var c=s[2],d=!1;n=c;for(var f=[];!n.match(/^\s*$/);){var p=n.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!p){ke("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+c),d=!0;break}r=p[0];var h=p[1],g=p[2];this.properties[h]?a.parse(h,g)?(f.push({name:h,val:g}),l()):(ke("Skipping property: Invalid property definition in: "+r),l()):(ke("Skipping property: Invalid property name in: "+r),l())}if(d){o();break}a.selector(u);for(var v=0;v<f.length;v++){var y=f[v];a.css(y.name,y.val)}o()}}return a},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},Si={};!function(){var e=K,t=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(t){var n=e+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},r=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Si.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:r,singleRegexMatchValue:!0},urls:{regexes:r,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return D(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var a={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||0==e&&0!=t||0!=e&&0==t},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var n=z(e),r=z(t);return n&&!r||!n&&r}},i=Si.types,o=[{name:"label",type:i.text,triggersBounds:a.any,triggersZOrder:a.emptyNonEmpty},{name:"text-rotation",type:i.textRotation,triggersBounds:a.any},{name:"text-margin-x",type:i.bidirectionalSize,triggersBounds:a.any},{name:"text-margin-y",type:i.bidirectionalSize,triggersBounds:a.any}],l=[{name:"source-label",type:i.text,triggersBounds:a.any},{name:"source-text-rotation",type:i.textRotation,triggersBounds:a.any},{name:"source-text-margin-x",type:i.bidirectionalSize,triggersBounds:a.any},{name:"source-text-margin-y",type:i.bidirectionalSize,triggersBounds:a.any},{name:"source-text-offset",type:i.size,triggersBounds:a.any}],s=[{name:"target-label",type:i.text,triggersBounds:a.any},{name:"target-text-rotation",type:i.textRotation,triggersBounds:a.any},{name:"target-text-margin-x",type:i.bidirectionalSize,triggersBounds:a.any},{name:"target-text-margin-y",type:i.bidirectionalSize,triggersBounds:a.any},{name:"target-text-offset",type:i.size,triggersBounds:a.any}],u=[{name:"font-family",type:i.fontFamily,triggersBounds:a.any},{name:"font-style",type:i.fontStyle,triggersBounds:a.any},{name:"font-weight",type:i.fontWeight,triggersBounds:a.any},{name:"font-size",type:i.size,triggersBounds:a.any},{name:"text-transform",type:i.textTransform,triggersBounds:a.any},{name:"text-wrap",type:i.textWrap,triggersBounds:a.any},{name:"text-overflow-wrap",type:i.textOverflowWrap,triggersBounds:a.any},{name:"text-max-width",type:i.size,triggersBounds:a.any},{name:"text-outline-width",type:i.size,triggersBounds:a.any},{name:"line-height",type:i.positiveNumber,triggersBounds:a.any}],c=[{name:"text-valign",type:i.valign,triggersBounds:a.any},{name:"text-halign",type:i.halign,triggersBounds:a.any},{name:"color",type:i.color},{name:"text-outline-color",type:i.color},{name:"text-outline-opacity",type:i.zeroOneNumber},{name:"text-background-color",type:i.color},{name:"text-background-opacity",type:i.zeroOneNumber},{name:"text-background-padding",type:i.size,triggersBounds:a.any},{name:"text-border-opacity",type:i.zeroOneNumber},{name:"text-border-color",type:i.color},{name:"text-border-width",type:i.size,triggersBounds:a.any},{name:"text-border-style",type:i.borderStyle,triggersBounds:a.any},{name:"text-background-shape",type:i.textBackgroundShape,triggersBounds:a.any},{name:"text-justification",type:i.justification}],d=[{name:"events",type:i.bool},{name:"text-events",type:i.bool}],f=[{name:"display",type:i.display,triggersZOrder:a.any,triggersBounds:a.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:i.visibility,triggersZOrder:a.any},{name:"opacity",type:i.zeroOneNumber,triggersZOrder:a.zeroNonZero},{name:"text-opacity",type:i.zeroOneNumber},{name:"min-zoomed-font-size",type:i.size},{name:"z-compound-depth",type:i.zCompoundDepth,triggersZOrder:a.any},{name:"z-index-compare",type:i.zIndexCompare,triggersZOrder:a.any},{name:"z-index",type:i.nonNegativeInt,triggersZOrder:a.any}],p=[{name:"overlay-padding",type:i.size,triggersBounds:a.any},{name:"overlay-color",type:i.color},{name:"overlay-opacity",type:i.zeroOneNumber,triggersBounds:a.zeroNonZero},{name:"overlay-shape",type:i.overlayShape,triggersBounds:a.any}],h=[{name:"underlay-padding",type:i.size,triggersBounds:a.any},{name:"underlay-color",type:i.color},{name:"underlay-opacity",type:i.zeroOneNumber,triggersBounds:a.zeroNonZero},{name:"underlay-shape",type:i.overlayShape,triggersBounds:a.any}],g=[{name:"transition-property",type:i.propList},{name:"transition-duration",type:i.time},{name:"transition-delay",type:i.time},{name:"transition-timing-function",type:i.easing}],v=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},y=[{name:"height",type:i.nodeSize,triggersBounds:a.any,hashOverride:v},{name:"width",type:i.nodeSize,triggersBounds:a.any,hashOverride:v},{name:"shape",type:i.nodeShape,triggersBounds:a.any},{name:"shape-polygon-points",type:i.polygonPointList,triggersBounds:a.any},{name:"background-color",type:i.color},{name:"background-fill",type:i.fill},{name:"background-opacity",type:i.zeroOneNumber},{name:"background-blacken",type:i.nOneOneNumber},{name:"background-gradient-stop-colors",type:i.colors},{name:"background-gradient-stop-positions",type:i.percentages},{name:"background-gradient-direction",type:i.gradientDirection},{name:"padding",type:i.sizeMaybePercent,triggersBounds:a.any},{name:"padding-relative-to",type:i.paddingRelativeTo,triggersBounds:a.any},{name:"bounds-expansion",type:i.boundsExpansion,triggersBounds:a.any}],m=[{name:"border-color",type:i.color},{name:"border-opacity",type:i.zeroOneNumber},{name:"border-width",type:i.size,triggersBounds:a.any},{name:"border-style",type:i.borderStyle}],b=[{name:"background-image",type:i.urls},{name:"background-image-crossorigin",type:i.bgCrossOrigin},{name:"background-image-opacity",type:i.zeroOneNumbers},{name:"background-image-containment",type:i.bgContainment},{name:"background-image-smoothing",type:i.bools},{name:"background-position-x",type:i.bgPos},{name:"background-position-y",type:i.bgPos},{name:"background-width-relative-to",type:i.bgRelativeTo},{name:"background-height-relative-to",type:i.bgRelativeTo},{name:"background-repeat",type:i.bgRepeat},{name:"background-fit",type:i.bgFit},{name:"background-clip",type:i.bgClip},{name:"background-width",type:i.bgWH},{name:"background-height",type:i.bgWH},{name:"background-offset-x",type:i.bgPos},{name:"background-offset-y",type:i.bgPos}],w=[{name:"position",type:i.position,triggersBounds:a.any},{name:"compound-sizing-wrt-labels",type:i.compoundIncludeLabels,triggersBounds:a.any},{name:"min-width",type:i.size,triggersBounds:a.any},{name:"min-width-bias-left",type:i.sizeMaybePercent,triggersBounds:a.any},{name:"min-width-bias-right",type:i.sizeMaybePercent,triggersBounds:a.any},{name:"min-height",type:i.size,triggersBounds:a.any},{name:"min-height-bias-top",type:i.sizeMaybePercent,triggersBounds:a.any},{name:"min-height-bias-bottom",type:i.sizeMaybePercent,triggersBounds:a.any}],x=[{name:"line-style",type:i.lineStyle},{name:"line-color",type:i.color},{name:"line-fill",type:i.fill},{name:"line-cap",type:i.lineCap},{name:"line-opacity",type:i.zeroOneNumber},{name:"line-dash-pattern",type:i.numbers},{name:"line-dash-offset",type:i.number},{name:"line-gradient-stop-colors",type:i.colors},{name:"line-gradient-stop-positions",type:i.percentages},{name:"curve-style",type:i.curveStyle,triggersBounds:a.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:i.zeroOneNumber,triggersBounds:a.any},{name:"source-endpoint",type:i.edgeEndpoint,triggersBounds:a.any},{name:"target-endpoint",type:i.edgeEndpoint,triggersBounds:a.any},{name:"control-point-step-size",type:i.size,triggersBounds:a.any},{name:"control-point-distances",type:i.bidirectionalSizes,triggersBounds:a.any},{name:"control-point-weights",type:i.numbers,triggersBounds:a.any},{name:"segment-distances",type:i.bidirectionalSizes,triggersBounds:a.any},{name:"segment-weights",type:i.numbers,triggersBounds:a.any},{name:"taxi-turn",type:i.bidirectionalSizeMaybePercent,triggersBounds:a.any},{name:"taxi-turn-min-distance",type:i.size,triggersBounds:a.any},{name:"taxi-direction",type:i.axisDirection,triggersBounds:a.any},{name:"edge-distances",type:i.edgeDistances,triggersBounds:a.any},{name:"arrow-scale",type:i.positiveNumber,triggersBounds:a.any},{name:"loop-direction",type:i.angle,triggersBounds:a.any},{name:"loop-sweep",type:i.angle,triggersBounds:a.any},{name:"source-distance-from-node",type:i.size,triggersBounds:a.any},{name:"target-distance-from-node",type:i.size,triggersBounds:a.any}],E=[{name:"ghost",type:i.bool,triggersBounds:a.any},{name:"ghost-offset-x",type:i.bidirectionalSize,triggersBounds:a.any},{name:"ghost-offset-y",type:i.bidirectionalSize,triggersBounds:a.any},{name:"ghost-opacity",type:i.zeroOneNumber}],S=[{name:"selection-box-color",type:i.color},{name:"selection-box-opacity",type:i.zeroOneNumber},{name:"selection-box-border-color",type:i.color},{name:"selection-box-border-width",type:i.size},{name:"active-bg-color",type:i.color},{name:"active-bg-opacity",type:i.zeroOneNumber},{name:"active-bg-size",type:i.size},{name:"outside-texture-bg-color",type:i.color},{name:"outside-texture-bg-opacity",type:i.zeroOneNumber}],k=[];Si.pieBackgroundN=16,k.push({name:"pie-size",type:i.sizeMaybePercent});for(var P=1;P<=Si.pieBackgroundN;P++)k.push({name:"pie-"+P+"-background-color",type:i.color}),k.push({name:"pie-"+P+"-background-size",type:i.percent}),k.push({name:"pie-"+P+"-background-opacity",type:i.zeroOneNumber});var C=[],_=Si.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:i.arrowShape,triggersBounds:a.any},{name:"arrow-color",type:i.color},{name:"arrow-fill",type:i.arrowFill}].forEach((function(e){_.forEach((function(t){var n=t+"-"+e.name,r=e.type,a=e.triggersBounds;C.push({name:n,type:r,triggersBounds:a})}))}),{});var R=Si.properties=[].concat(d,g,f,p,h,E,c,u,o,l,s,y,m,b,k,w,x,C,S),O=Si.propertyGroups={behavior:d,transition:g,visibility:f,overlay:p,underlay:h,ghost:E,commonLabel:c,labelDimensions:u,mainLabel:o,sourceLabel:l,targetLabel:s,nodeBody:y,nodeBorder:m,backgroundImage:b,pie:k,compound:w,edgeLine:x,edgeArrow:C,core:S},T=Si.propertyGroupNames={};(Si.propertyGroupKeys=Object.keys(O)).forEach((function(e){T[e]=O[e].map((function(e){return e.name})),O[e].forEach((function(t){return t.groupKey=e}))}));var M=Si.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Si.propertyNames=R.map((function(e){return e.name}));for(var B=0;B<R.length;B++){var A=R[B];R[A.name]=A}for(var I=0;I<M.length;I++){var N=M[I],L=R[N.pointsTo],j={name:N.name,alias:!0,pointsTo:L};R.push(j),R[N.name]=j}}(),Si.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},Si.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=Y({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(e,t){for(var n=1;n<=Si.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),a=t.value;e[r]=a}return e}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(e,t){return Si.arrowPrefixes.forEach((function(n){var r=n+"-"+t.name,a=t.value;e[r]=a})),e}),{})),n={},r=0;r<this.properties.length;r++){var a=this.properties[r];if(!a.pointsTo){var i=a.name,o=t[i],l=this.parse(i,o);n[i]=l}}return e.defaultProperties=n,e.defaultProperties},Si.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var ki={parse:function(e,t,n,r){var a=this;if(R(t))return a.parseImplWarn(e,t,n,r);var i,o=fe(e,""+t,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),l=a.propCache=a.propCache||[];return(i=l[o])||(i=l[o]=a.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(i=Pe(i))&&(i.value=Pe(i.value)),i},parseImplWarn:function(e,t,n,r){var a=this.parseImpl(e,t,n,r);return a||null==t||ke("The style property `".concat(e,": ").concat(t,"` is invalid")),!a||"width"!==a.name&&"height"!==a.name||"label"!==t||ke("The style value of `label` is deprecated for `"+a.name+"`"),a}};ki.parseImpl=function(e,t,n,r){var a=this;e=H(e);var i=a.properties[e],o=t,l=a.types;if(!i)return null;if(void 0===t)return null;i.alias&&(i=i.pointsTo,e=i.name);var s=D(t);s&&(t=t.trim());var u,c,d=i.type;if(!d)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(R(t))return{name:e,value:t,strValue:"fn",mapped:l.fn,bypass:n};if(!s||r||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(u=new RegExp(l.data.regex).exec(t))){if(n)return!1;var f=l.data;return{name:e,value:u,strValue:""+t,mapped:f,field:u[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(c=new RegExp(l.mapData.regex).exec(t))){if(n)return!1;if(d.multiple)return!1;var p=l.mapData;if(!d.color&&!d.number)return!1;var h=this.parse(e,c[4]);if(!h||h.mapped)return!1;var g=this.parse(e,c[5]);if(!g||g.mapped)return!1;if(h.pfValue===g.pfValue||h.strValue===g.strValue)return ke("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+h.strValue+"`"),this.parse(e,h.strValue);if(d.color){var v=h.value,y=g.value;if(!(v[0]!==y[0]||v[1]!==y[1]||v[2]!==y[2]||v[3]!==y[3]&&(null!=v[3]&&1!==v[3]||null!=y[3]&&1!==y[3])))return!1}return{name:e,value:c,strValue:""+t,mapped:p,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:h.value,valueMax:g.value,bypass:n}}}if(d.multiple&&"multiple"!==r){var m;if(m=s?t.split(/\s+/):O(t)?t:[t],d.evenMultiple&&m.length%2!=0)return null;for(var b=[],w=[],x=[],E="",S=!1,k=0;k<m.length;k++){var P=a.parse(e,m[k],n,"multiple");S=S||D(P.value),b.push(P.value),x.push(null!=P.pfValue?P.pfValue:P.value),w.push(P.units),E+=(k>0?" ":"")+P.strValue}return d.validate&&!d.validate(b,w)?null:d.singleEnum&&S?1===b.length&&D(b[0])?{name:e,value:b[0],strValue:b[0],bypass:n}:null:{name:e,value:b,pfValue:x,strValue:E,bypass:n,units:w}}var C,_,T,B=function(){for(var r=0;r<d.enums.length;r++)if(d.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n};return null};if(d.number){var A,I="px";if(d.units&&(A=d.units),d.implicitUnits&&(I=d.implicitUnits),!d.unitless)if(s){var N="px|em"+(d.allowPercent?"|\\%":"");A&&(N=A);var L=t.match("^("+K+")("+N+")?$");L&&(t=L[1],A=L[2]||I)}else A&&!d.implicitUnits||(A=I);if(t=parseFloat(t),isNaN(t)&&void 0===d.enums)return null;if(isNaN(t)&&void 0!==d.enums)return t=o,B();if(d.integer&&(!M(_=t)||Math.floor(_)!==_))return null;if(void 0!==d.min&&(t<d.min||d.strictMin&&t===d.min)||void 0!==d.max&&(t>d.max||d.strictMax&&t===d.max))return null;var j={name:e,value:t,strValue:""+t+(A||""),units:A,bypass:n};return d.unitless||"px"!==A&&"em"!==A?j.pfValue=t:j.pfValue="px"!==A&&A?this.getEmSizeInPixels()*t:t,"ms"!==A&&"s"!==A||(j.pfValue="ms"===A?t:1e3*t),"deg"!==A&&"rad"!==A||(j.pfValue="rad"===A?t:(C=t,Math.PI*C/180)),"%"===A&&(j.pfValue=t/100),j}if(d.propList){var z=[],F=""+t;if("none"===F);else{for(var V=F.split(/\s*,\s*|\s+/),W=0;W<V.length;W++){var q=V[W].trim();a.properties[q]?z.push(q):ke("`"+q+"` is not a valid property name")}if(0===z.length)return null}return{name:e,value:z,strValue:0===z.length?"none":z.join(" "),bypass:n}}if(d.color){var U=(O(T=t)?T:null)||function(e){return X[e.toLowerCase()]}(T)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,a=16;return 4===e.length?(t=parseInt(e[1]+e[1],a),n=parseInt(e[2]+e[2],a),r=parseInt(e[3]+e[3],a)):(t=parseInt(e[1]+e[2],a),n=parseInt(e[3]+e[4],a),r=parseInt(e[5]+e[6],a)),[t,n,r]}}(T)||function(e){var t,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(n){t=[];for(var r=[],a=1;a<=3;a++){var i=n[a];if("%"===i[i.length-1]&&(r[a]=!0),i=parseFloat(i),r[a]&&(i=i/100*255),i<0||i>255)return;t.push(Math.floor(i))}var o=r[1]||r[2]||r[3],l=r[1]&&r[2]&&r[3];if(o&&!l)return;var s=n[4];if(void 0!==s){if((s=parseFloat(s))<0||s>1)return;t.push(s)}}return t}(T)||function(e){var t,n,r,a,i,o,l,s;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var c=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||r>100)return;if(r/=100,(a=parseFloat(c[3]))<0||a>100)return;if(a/=100,void 0!==(i=c[4])&&((i=parseFloat(i))<0||i>1))return;if(0===r)o=l=s=Math.round(255*a);else{var d=a<.5?a*(1+r):a+r-a*r,f=2*a-d;o=Math.round(255*u(f,d,n+1/3)),l=Math.round(255*u(f,d,n)),s=Math.round(255*u(f,d,n-1/3))}t=[o,l,s,i]}return t}(T);return U?{name:e,value:U,pfValue:U,strValue:"rgb("+U[0]+","+U[1]+","+U[2]+")",bypass:n}:null}if(d.regex||d.regexes){if(d.enums){var G=B();if(G)return G}for(var Y=d.regexes?d.regexes:[d.regex],$=0;$<Y.length;$++){var Q=new RegExp(Y[$]).exec(t);if(Q)return{name:e,value:d.singleRegexMatchValue?Q[1]:Q,strValue:""+t,bypass:n}}return null}return d.string?{name:e,value:""+t,strValue:""+t,bypass:n}:d.enums?B():null};var Pi=function e(t){if(!(this instanceof e))return new e(t);L(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):Ee("A style must have a core reference")},Ci=Pi.prototype;Ci.instanceString=function(){return"style"},Ci.clear=function(){for(var e=this._private,t=e.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach((function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1})),this},Ci.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Ci.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},Ci.selector=function(e){var t="core"===e?null:new yr(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},Ci.css=function(){var e=this,t=arguments;if(1===t.length)for(var n=t[0],r=0;r<e.properties.length;r++){var a=e.properties[r],i=n[a.name];void 0===i&&(i=n[W(a.name)]),void 0!==i&&this.cssRule(a.name,i)}else 2===t.length&&this.cssRule(t[0],t[1]);return this},Ci.style=Ci.css,Ci.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},Ci.append=function(e){return j(e)?e.appendToStyle(this):O(e)?this.appendFromJson(e):D(e)&&this.appendFromString(e),this},Pi.fromJson=function(e,t){var n=new Pi(e);return n.fromJson(t),n},Pi.fromString=function(e,t){return new Pi(e).fromString(t)},[vi,mi,bi,wi,xi,Ei,Si,ki].forEach((function(e){Y(Ci,e)})),Pi.types=Ci.types,Pi.properties=Ci.properties,Pi.propertyGroups=Ci.propertyGroups,Pi.propertyGroupNames=Ci.propertyGroupNames,Pi.propertyGroupKeys=Ci.propertyGroupKeys;var _i={style:function(e){return e&&this.setStyle(e).update(),this._private.style},setStyle:function(e){var t=this._private;return j(e)?t.style=e.generateStyle(this):O(e)?t.style=Pi.fromJson(this,e):D(e)?t.style=Pi.fromString(this,e):t.style=Pi(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},Di={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,r,a,i=arguments,o=this._private.pan;switch(i.length){case 0:return o;case 1:if(D(i[0]))return o[e=i[0]];if(T(i[0])){if(!this._private.panningEnabled)return this;r=(n=i[0]).x,a=n.y,M(r)&&(o.x=r),M(a)&&(o.y=a),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=i[0],t=i[1],"x"!==e&&"y"!==e||!M(t)||(o[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,r,a,i,o,l=arguments,s=this._private.pan;if(!this._private.panningEnabled)return this;switch(l.length){case 1:T(e)&&(i=(a=l[0]).x,o=a.y,M(i)&&(s.x+=i),M(o)&&(s.y+=o),this.emit("pan viewport"));break;case 2:r=t,"x"!==(n=e)&&"y"!==n||!M(r)||(s[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(M(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if(D(e)){var a=e;e=this.$(a)}else if(T(r=e)&&M(r.x1)&&M(r.x2)&&M(r.y1)&&M(r.y2)){var i=e;(n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else A(e)||(e=this.mutableElements());if(!A(e)||!e.empty()){n=n||e.boundingBox();var o,l=this.width(),s=this.height();if(t=M(t)?t:0,!isNaN(l)&&!isNaN(s)&&l>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:o=(o=(o=Math.min((l-2*t)/n.w,(s-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:o)<this._private.minZoom?this._private.minZoom:o,pan:{x:(l-o*(n.x1+n.x2))/2,y:(s-o*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var r=e;e=r.min,t=r.max}return M(e)&&M(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):M(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:M(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,r=this._private,a=r.pan,i=r.zoom,o=!1;if(r.zoomingEnabled||(o=!0),M(e)?n=e:T(e)&&(n=e.level,null!=e.position?t=Je(e.position,i,a):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||r.panningEnabled||(o=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,o||!M(n)||n===i||null!=t&&(!M(t.x)||!M(t.y)))return null;if(null!=t){var l=a,s=i,u=n;return{zoomed:!0,panned:!0,zoom:u,pan:{x:-u/s*(t.x-l.x)+t.x,y:-u/s*(t.y-l.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:a}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,r=!0,a=[],i=!1,o=!1;if(!e)return this;if(M(e.zoom)||(n=!1),T(e.pan)||(r=!1),!n&&!r)return this;if(n){var l=e.zoom;l<t.minZoom||l>t.maxZoom||!t.zoomingEnabled?i=!0:(t.zoom=l,a.push("zoom"))}if(r&&(!i||!e.cancelOnFailedZoom)&&t.panningEnabled){var s=e.pan;M(s.x)&&(t.pan.x=s.x,o=!1),M(s.y)&&(t.pan.y=s.y,o=!1),o||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(D(e)){var n=e;e=this.mutableElements().filter(n)}else A(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),a=this.width(),i=this.height();return{x:(a-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(i-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e,t,n=this._private,r=n.container;return n.sizeCache=n.sizeCache||(r?(e=x.getComputedStyle(r),t=function(t){return parseFloat(e.getPropertyValue(t))},{width:r.clientWidth-t("padding-left")-t("padding-right"),height:r.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){return e?(this._private.multiClickDebounceTime=e,this):this._private.multiClickDebounceTime}};Di.centre=Di.center,Di.autolockNodes=Di.autolock,Di.autoungrabifyNodes=Di.autoungrabify;var Ri={data:er.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:er.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:er.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:er.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Ri.attr=Ri.data,Ri.removeAttr=Ri.removeData;var Oi=function(e){var t=this,n=(e=Y({},e)).container;n&&!B(n)&&B(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var a=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=t;var i=void 0!==x&&void 0!==n&&!e.headless,o=e;o.layout=Y({name:i?"grid":"null"},o.layout),o.renderer=Y({name:i?"canvas":"null"},o.renderer);var l=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},s=this._private={container:n,ready:!1,options:o,elements:new Ga(this),listeners:[],aniEles:new Ga(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,o.zoomingEnabled),userZoomingEnabled:l(!0,o.userZoomingEnabled),panningEnabled:l(!0,o.panningEnabled),userPanningEnabled:l(!0,o.userPanningEnabled),boxSelectionEnabled:l(!0,o.boxSelectionEnabled),autolock:l(!1,o.autolock,o.autolockNodes),autoungrabify:l(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:l(!1,o.autounselectify),styleEnabled:void 0===o.styleEnabled?i:o.styleEnabled,zoom:M(o.zoom)?o.zoom:1,pan:{x:T(o.pan)&&M(o.pan.x)?o.pan.x:0,y:T(o.pan)&&M(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom}),s.styleEnabled&&t.setStyle([]);var u=Y({},o,o.renderer);t.initRenderer(u),function(e,t){if(e.some(F))return Qn.all(e).then(t);t(e)}([o.style,o.elements],(function(e){var n=e[0],i=e[1];s.styleEnabled&&t.style().append(n),function(e,n,r){t.notifications(!1);var a=t.mutableElements();a.length>0&&a.remove(),null!=e&&(T(e)||O(e))&&t.add(e),t.one("layoutready",(function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")})).one("layoutstop",(function(){t.one("done",r),t.emit("done")}));var i=Y({},t._private.options.layout);i.eles=t.elements(),t.layout(i).run()}(i,(function(){t.startAnimationLoop(),s.ready=!0,R(o.ready)&&t.on("ready",o.ready);for(var e=0;e<a.length;e++){var n=a[e];t.on("ready",n)}r&&(r.readies=[]),t.emit("ready")}),o.done)}))},Ti=Oi.prototype;Y(Ti,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e){if(null!=e){var t=this,n=t._private,r=n.options;return!B(e)&&B(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(Y({},r,r.renderer,{name:"null"===r.renderer.name?"canvas":r.renderer.name})),t.startAnimationLoop(),t.style(r.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Pe(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(T(e)){if(t.startBatch(),e.elements){var a={},i=function(e,n){for(var r=[],i=[],o=0;o<e.length;o++){var l=e[o];if(l.data.id){var s=""+l.data.id,u=t.getElementById(s);a[s]=!0,0!==u.length?i.push({ele:u,json:l}):n?(l.group=n,r.push(l)):r.push(l)}else ke("cy.json() cannot handle elements without an ID attribute")}t.add(r);for(var c=0;c<i.length;c++){var d=i[c],f=d.ele,p=d.json;f.json(p)}};if(O(e.elements))i(e.elements);else for(var o=["nodes","edges"],l=0;l<o.length;l++){var s=o[l],u=e.elements[s];O(u)&&i(u,s)}var c=t.collection();r.filter((function(e){return!a[e.id()]})).forEach((function(e){e.isParent()?c.merge(e):e.remove()})),c.forEach((function(e){return e.children().move({parent:null})})),c.forEach((function(e){return function(e){return t.getElementById(e.id())}(e).remove()}))}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],f=0;f<d.length;f++){var p=d[f];null!=e[p]&&t[p](e[p])}return t.endBatch(),this}var h={};e?h.elements=this.elements().map((function(e){return e.json()})):(h.elements={},r.forEach((function(e){var t=e.group();h.elements[t]||(h.elements[t]=[]),h.elements[t].push(e.json())}))),this._private.styleEnabled&&(h.style=t.style().json()),h.data=Pe(t.data());var g=n.options;return h.zoomingEnabled=n.zoomingEnabled,h.userZoomingEnabled=n.userZoomingEnabled,h.zoom=n.zoom,h.minZoom=n.minZoom,h.maxZoom=n.maxZoom,h.panningEnabled=n.panningEnabled,h.userPanningEnabled=n.userPanningEnabled,h.pan=Pe(n.pan),h.boxSelectionEnabled=n.boxSelectionEnabled,h.renderer=Pe(g.renderer),h.hideEdgesOnViewport=g.hideEdgesOnViewport,h.textureOnViewport=g.textureOnViewport,h.wheelSensitivity=g.wheelSensitivity,h.motionBlur=g.motionBlur,h.multiClickDebounceTime=g.multiClickDebounceTime,h}}),Ti.$id=Ti.getElementById,[Xa,oi,ui,ci,di,fi,hi,gi,_i,Di,Ri].forEach((function(e){Y(Ti,e)}));var Mi={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},Bi=function(e){return e.scratch("breadthfirst")},Ai=function(e,t){return e.scratch("breadthfirst",t)};function Ii(e){this.options=Y({},Mi,e)}Ii.prototype.run=function(){var e,t=this.options,n=t,r=t.cy,a=n.eles,i=a.nodes().filter((function(e){return!e.isParent()})),o=a,l=n.directed,s=n.maximal||n.maximalAdjustments>0,u=dt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(A(n.roots))e=n.roots;else if(O(n.roots)){for(var c=[],d=0;d<n.roots.length;d++){var f=n.roots[d],p=r.getElementById(f);c.push(p)}e=r.collection(c)}else if(D(n.roots))e=r.$(n.roots);else if(l)e=i.roots();else{var h=a.components();e=r.collection();for(var g=function(t){var n=h[t],r=n.maxDegree(!1),a=n.filter((function(e){return e.degree(!1)===r}));e=e.add(a)},v=0;v<h.length;v++)g(v)}var y=[],m={},b=function(e,t){null==y[t]&&(y[t]=[]);var n=y[t].length;y[t].push(e),Ai(e,{index:n,depth:t})};o.bfs({roots:e,directed:n.directed,visit:function(e,t,n,r,a){var i=e[0],o=i.id();b(i,a),m[o]=!0}});for(var w=[],x=0;x<i.length;x++){var E=i[x];m[E.id()]||w.push(E)}var S=function(e){for(var t=y[e],n=0;n<t.length;n++){var r=t[n];null!=r?Ai(r,{depth:e,index:n}):(t.splice(n,1),n--)}},k=function(){for(var e=0;e<y.length;e++)S(e)},P=function(e,t){for(var n=Bi(e),r=e.incomers().filter((function(e){return e.isNode()&&a.has(e)})),i=-1,o=e.id(),l=0;l<r.length;l++){var s=r[l],u=Bi(s);i=Math.max(i,u.depth)}return n.depth<=i&&(t[o]?null:(function(e,t){var n=Bi(e),r=n.depth,a=n.index;y[r][a]=null,b(e,t)}(e,i+1),t[o]=!0,!0))};if(l&&s){var C=[],_={},R=function(e){return C.push(e)};for(i.forEach((function(e){return C.push(e)}));C.length>0;){var T=C.shift(),M=P(T,_);if(M)T.outgoers().filter((function(e){return e.isNode()&&a.has(e)})).forEach(R);else if(null===M){ke("Detected double maximal shift for node `"+T.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}k();var B=0;if(n.avoidOverlap)for(var I=0;I<i.length;I++){var N=i[I].layoutDimensions(n),L=N.w,j=N.h;B=Math.max(B,L,j)}var z={},F=function(e){if(z[e.id()])return z[e.id()];for(var t=Bi(e).depth,n=e.neighborhood(),r=0,a=0,o=0;o<n.length;o++){var l=n[o];if(!l.isEdge()&&!l.isParent()&&i.has(l)){var s=Bi(l);if(null!=s){var u=s.index,c=s.depth;if(null!=u&&null!=c){var d=y[c].length;c<t&&(r+=u/d,a++)}}}}return r/=a=Math.max(1,a),0===a&&(r=0),z[e.id()]=r,r},V=function(e,t){var n=F(e)-F(t);return 0===n?G(e.id(),t.id()):n};void 0!==n.depthSort&&(V=n.depthSort);for(var H=0;H<y.length;H++)y[H].sort(V),S(H);for(var W=[],q=0;q<w.length;q++)W.push(w[q]);y.unshift(W),k();for(var U=0,K=0;K<y.length;K++)U=Math.max(y[K].length,U);var Y=u.x1+u.w/2,X=u.x1+u.h/2,$=y.reduce((function(e,t){return Math.max(e,t.length)}),0);return a.nodes().layoutPositions(this,n,(function(e){var t=Bi(e),r=t.depth,a=t.index,i=y[r].length,o=Math.max(u.w/((n.grid?$:i)+1),B),l=Math.max(u.h/(y.length+1),B),s=Math.min(u.w/2/y.length,u.h/2/y.length);if(s=Math.max(s,B),n.circle){var c=s*r+s-(y.length>0&&y[0].length<=3?s/2:0),d=2*Math.PI/y[r].length*a;return 0===r&&1===y[0].length&&(c=1),{x:Y+c*Math.cos(d),y:X+c*Math.sin(d)}}return{x:Y+(a+1-(i+1)/2)*o,y:(r+1)*l}})),this};var Ni={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Li(e){this.options=Y({},Ni,e)}Li.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,a=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));for(var o,l=dt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s=l.x1+l.w/2,u=l.y1+l.h/2,c=(void 0===t.sweep?2*Math.PI-2*Math.PI/i.length:t.sweep)/Math.max(1,i.length-1),d=0,f=0;f<i.length;f++){var p=i[f].layoutDimensions(t),h=p.w,g=p.h;d=Math.max(d,h,g)}if(o=M(t.radius)?t.radius:i.length<=1?0:Math.min(l.h,l.w)/2-d,i.length>1&&t.avoidOverlap){d*=1.75;var v=Math.cos(c)-Math.cos(0),y=Math.sin(c)-Math.sin(0),m=Math.sqrt(d*d/(v*v+y*y));o=Math.max(m,o)}return r.nodes().layoutPositions(this,t,(function(e,n){var r=t.startAngle+n*c*(a?1:-1),i=o*Math.cos(r),l=o*Math.sin(r);return{x:s+i,y:u+l}})),this};var ji,zi={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Fi(e){this.options=Y({},zi,e)}Fi.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,a=t.eles,i=a.nodes().not(":parent"),o=dt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l=o.x1+o.w/2,s=o.y1+o.h/2,u=[],c=0,d=0;d<i.length;d++){var f,p=i[d];f=t.concentric(p),u.push({value:f,node:p}),p._private.scratch.concentric=f}i.updateStyle();for(var h=0;h<i.length;h++){var g=i[h].layoutDimensions(t);c=Math.max(c,g.w,g.h)}u.sort((function(e,t){return t.value-e.value}));for(var v=t.levelWidth(i),y=[[]],m=y[0],b=0;b<u.length;b++){var w=u[b];m.length>0&&Math.abs(m[0].value-w.value)>=v&&(m=[],y.push(m)),m.push(w)}var x=c+t.minNodeSpacing;if(!t.avoidOverlap){var E=y.length>0&&y[0].length>1,S=(Math.min(o.w,o.h)/2-x)/(y.length+E?1:0);x=Math.min(x,S)}for(var k=0,P=0;P<y.length;P++){var C=y[P],_=void 0===t.sweep?2*Math.PI-2*Math.PI/C.length:t.sweep,D=C.dTheta=_/Math.max(1,C.length-1);if(C.length>1&&t.avoidOverlap){var R=Math.cos(D)-Math.cos(0),O=Math.sin(D)-Math.sin(0),T=Math.sqrt(x*x/(R*R+O*O));k=Math.max(T,k)}C.r=k,k+=x}if(t.equidistant){for(var M=0,B=0,A=0;A<y.length;A++){var I=y[A].r-B;M=Math.max(M,I)}B=0;for(var N=0;N<y.length;N++){var L=y[N];0===N&&(B=L.r),L.r=B,B+=M}}for(var j={},z=0;z<y.length;z++)for(var F=y[z],V=F.dTheta,H=F.r,W=0;W<F.length;W++){var q=F[W],U=t.startAngle+(n?1:-1)*V*W,K={x:l+H*Math.cos(U),y:s+H*Math.sin(U)};j[q.node.id()]=K}return a.nodes().layoutPositions(this,t,(function(e){var t=e.id();return j[t]})),this};var Vi={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Hi(e){this.options=Y({},Vi,e),this.options.layout=this}Hi.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),ji=!0===e.debug;var r=Wi(t,n,e);ji&&(void 0)(r),e.randomize&&Ki(r);var a=ne(),i=function(){Yi(r,t,e),!0===e.fit&&t.fit(e.padding)},o=function(t){return!(n.stopped||t>=e.numIter||(Xi(r,e),r.temperature=r.temperature*e.coolingFactor,r.temperature<e.minTemp))},l=function(){if(!0===e.animate||!1===e.animate)i(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var t=e.eles.nodes(),a=Gi(r,e,t);t.layoutPositions(n,e,a)}},s=0,u=!0;if(!0===e.animate)!function t(){for(var n=0;u&&n<e.refresh;)u=o(s),s++,n++;u?(ne()-a>=e.animationThreshold&&i(),te(t)):(lo(r,e),l())}();else{for(;u;)u=o(s),s++;lo(r,e),l()}return this},Hi.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Hi.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Wi=function(e,t,n){for(var r=n.eles.edges(),a=n.eles.nodes(),i={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:dt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},o=n.eles.components(),l={},s=0;s<o.length;s++)for(var u=o[s],c=0;c<u.length;c++)l[u[c].id()]=s;for(s=0;s<i.nodeSize;s++){var d=(v=a[s]).layoutDimensions(n);(B={}).isLocked=v.locked(),B.id=v.data("id"),B.parentId=v.data("parent"),B.cmptId=l[v.id()],B.children=[],B.positionX=v.position("x"),B.positionY=v.position("y"),B.offsetX=0,B.offsetY=0,B.height=d.w,B.width=d.h,B.maxX=B.positionX+B.width/2,B.minX=B.positionX-B.width/2,B.maxY=B.positionY+B.height/2,B.minY=B.positionY-B.height/2,B.padLeft=parseFloat(v.style("padding")),B.padRight=parseFloat(v.style("padding")),B.padTop=parseFloat(v.style("padding")),B.padBottom=parseFloat(v.style("padding")),B.nodeRepulsion=R(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,i.layoutNodes.push(B),i.idToIndex[B.id]=s}var f=[],p=0,h=-1,g=[];for(s=0;s<i.nodeSize;s++){var v,y=(v=i.layoutNodes[s]).parentId;null!=y?i.layoutNodes[i.idToIndex[y]].children.push(v.id):(f[++h]=v.id,g.push(v.id))}for(i.graphSet.push(g);p<=h;){var m=f[p++],b=i.idToIndex[m],w=i.layoutNodes[b].children;if(w.length>0)for(i.graphSet.push(w),s=0;s<w.length;s++)f[++h]=w[s]}for(s=0;s<i.graphSet.length;s++){var x=i.graphSet[s];for(c=0;c<x.length;c++){var E=i.idToIndex[x[c]];i.indexToGraph[E]=s}}for(s=0;s<i.edgeSize;s++){var S=r[s],k={};k.id=S.data("id"),k.sourceId=S.data("source"),k.targetId=S.data("target");var P=R(n.idealEdgeLength)?n.idealEdgeLength(S):n.idealEdgeLength,C=R(n.edgeElasticity)?n.edgeElasticity(S):n.edgeElasticity,_=i.idToIndex[k.sourceId],D=i.idToIndex[k.targetId];if(i.indexToGraph[_]!=i.indexToGraph[D]){for(var O=qi(k.sourceId,k.targetId,i),T=i.graphSet[O],M=0,B=i.layoutNodes[_];-1===T.indexOf(B.id);)B=i.layoutNodes[i.idToIndex[B.parentId]],M++;for(B=i.layoutNodes[D];-1===T.indexOf(B.id);)B=i.layoutNodes[i.idToIndex[B.parentId]],M++;P*=M*n.nestingFactor}k.idealLength=P,k.elasticity=C,i.layoutEdges.push(k)}return i},qi=function(e,t,n){var r=Ui(e,t,0,n);return 2>r.count?0:r.graph},Ui=function e(t,n,r,a){var i=a.graphSet[r];if(-1<i.indexOf(t)&&-1<i.indexOf(n))return{count:2,graph:r};for(var o=0,l=0;l<i.length;l++){var s=i[l],u=a.idToIndex[s],c=a.layoutNodes[u].children;if(0!==c.length){var d=e(t,n,a.indexToGraph[a.idToIndex[c[0]]],a);if(0!==d.count){if(1!==d.count)return d;if(2==++o)break}}}return{count:o,graph:r}},Ki=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,a=0;a<e.nodeSize;a++){var i=e.layoutNodes[a];0!==i.children.length||i.isLocked||(i.positionX=Math.random()*n,i.positionY=Math.random()*r)}},Gi=function(e,t,n){var r=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach((function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];a.x1=Math.min(a.x1,n.positionX),a.x2=Math.max(a.x2,n.positionX),a.y1=Math.min(a.y1,n.positionY),a.y2=Math.max(a.y2,n.positionY)})),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(n,i){var o=e.layoutNodes[e.idToIndex[n.data("id")]];if(t.boundingBox){var l=(o.positionX-a.x1)/a.w,s=(o.positionY-a.y1)/a.h;return{x:r.x1+l*r.w,y:r.y1+s*r.h}}return{x:o.positionX,y:o.positionY}}},Yi=function(e,t,n){var r=n.layout,a=n.eles.nodes(),i=Gi(e,n,a);a.positions(i),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},Xi=function(e,t,n){$i(e,t),to(e),no(e,t),ro(e),ao(e)},$i=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],a=r.length,i=0;i<a;i++)for(var o=e.layoutNodes[e.idToIndex[r[i]]],l=i+1;l<a;l++){var s=e.layoutNodes[e.idToIndex[r[l]]];Zi(o,s,e,t)}},Qi=function(e){return-e+2*e*Math.random()},Zi=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var a=t.positionX-e.positionX,i=t.positionY-e.positionY;0===a&&0===i&&(a=Qi(1),i=Qi(1));var o=Ji(e,t,a,i);if(o>0)var l=(u=r.nodeOverlap*o)*a/(g=Math.sqrt(a*a+i*i)),s=u*i/g;else{var u,c=eo(e,a,i),d=eo(t,-1*a,-1*i),f=d.x-c.x,p=d.y-c.y,h=f*f+p*p,g=Math.sqrt(h);l=(u=(e.nodeRepulsion+t.nodeRepulsion)/h)*f/g,s=u*p/g}e.isLocked||(e.offsetX-=l,e.offsetY-=s),t.isLocked||(t.offsetX+=l,t.offsetY+=s)}},Ji=function(e,t,n,r){if(n>0)var a=e.maxX-t.minX;else a=t.maxX-e.minX;if(r>0)var i=e.maxY-t.minY;else i=t.maxY-e.minY;return a>=0&&i>=0?Math.sqrt(a*a+i*i):0},eo=function(e,t,n){var r=e.positionX,a=e.positionY,i=e.height||1,o=e.width||1,l=n/t,s=i/o,u={};return 0===t&&0<n||0===t&&0>n?(u.x=r,u.y=a+i/2,u):0<t&&-1*s<=l&&l<=s?(u.x=r+o/2,u.y=a+o*n/2/t,u):0>t&&-1*s<=l&&l<=s?(u.x=r-o/2,u.y=a-o*n/2/t,u):0<n&&(l<=-1*s||l>=s)?(u.x=r+i*t/2/n,u.y=a+i/2,u):0>n&&(l<=-1*s||l>=s)?(u.x=r-i*t/2/n,u.y=a-i/2,u):u},to=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],a=e.idToIndex[r.sourceId],i=e.layoutNodes[a],o=e.idToIndex[r.targetId],l=e.layoutNodes[o],s=l.positionX-i.positionX,u=l.positionY-i.positionY;if(0!==s||0!==u){var c=eo(i,s,u),d=eo(l,-1*s,-1*u),f=d.x-c.x,p=d.y-c.y,h=Math.sqrt(f*f+p*p),g=Math.pow(r.idealLength-h,2)/r.elasticity;if(0!==h)var v=g*f/h,y=g*p/h;else v=0,y=0;i.isLocked||(i.offsetX+=v,i.offsetY+=y),l.isLocked||(l.offsetX-=v,l.offsetY-=y)}}},no=function(e,t){if(0!==t.gravity)for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],a=r.length;if(0===n)var i=e.clientHeight/2,o=e.clientWidth/2;else{var l=e.layoutNodes[e.idToIndex[r[0]]],s=e.layoutNodes[e.idToIndex[l.parentId]];i=s.positionX,o=s.positionY}for(var u=0;u<a;u++){var c=e.layoutNodes[e.idToIndex[r[u]]];if(!c.isLocked){var d=i-c.positionX,f=o-c.positionY,p=Math.sqrt(d*d+f*f);if(p>1){var h=t.gravity*d/p,g=t.gravity*f/p;c.offsetX+=h,c.offsetY+=g}}}}},ro=function(e,t){var n=[],r=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;r<=a;){var i=n[r++],o=e.idToIndex[i],l=e.layoutNodes[o],s=l.children;if(0<s.length&&!l.isLocked){for(var u=l.offsetX,c=l.offsetY,d=0;d<s.length;d++){var f=e.layoutNodes[e.idToIndex[s[d]]];f.offsetX+=u,f.offsetY+=c,n[++a]=s[d]}l.offsetX=0,l.offsetY=0}}},ao=function(e,t){for(var n=0;n<e.nodeSize;n++)0<(a=e.layoutNodes[n]).children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0);for(n=0;n<e.nodeSize;n++)if(!(0<(a=e.layoutNodes[n]).children.length||a.isLocked)){var r=io(a.offsetX,a.offsetY,e.temperature);a.positionX+=r.x,a.positionY+=r.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,oo(a,e)}for(n=0;n<e.nodeSize;n++){var a;0<(a=e.layoutNodes[n]).children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},io=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var a={x:n*e/r,y:n*t/r};else a={x:e,y:t};return a},oo=function e(t,n){var r=t.parentId;if(null!=r){var a=n.layoutNodes[n.idToIndex[r]],i=!1;return(null==a.maxX||t.maxX+a.padRight>a.maxX)&&(a.maxX=t.maxX+a.padRight,i=!0),(null==a.minX||t.minX-a.padLeft<a.minX)&&(a.minX=t.minX-a.padLeft,i=!0),(null==a.maxY||t.maxY+a.padBottom>a.maxY)&&(a.maxY=t.maxY+a.padBottom,i=!0),(null==a.minY||t.minY-a.padTop<a.minY)&&(a.minY=t.minY-a.padTop,i=!0),i?e(a,n):void 0}},lo=function(e,t){for(var n=e.layoutNodes,r=[],a=0;a<n.length;a++){var i=n[a],o=i.cmptId;(r[o]=r[o]||[]).push(i)}var l=0;for(a=0;a<r.length;a++)if(g=r[a]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var s=0;s<g.length;s++){var u=g[s];g.x1=Math.min(g.x1,u.positionX-u.width/2),g.x2=Math.max(g.x2,u.positionX+u.width/2),g.y1=Math.min(g.y1,u.positionY-u.height/2),g.y2=Math.max(g.y2,u.positionY+u.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,l+=g.w*g.h}r.sort((function(e,t){return t.w*t.h-e.w*e.h}));var c=0,d=0,f=0,p=0,h=Math.sqrt(l)*e.clientWidth/e.clientHeight;for(a=0;a<r.length;a++){var g;if(g=r[a]){for(s=0;s<g.length;s++)(u=g[s]).isLocked||(u.positionX+=c-g.x1,u.positionY+=d-g.y1);c+=g.w+t.componentSpacing,f+=g.w+t.componentSpacing,p=Math.max(p,g.h),f>h&&(d+=p+t.componentSpacing,c=0,f=0,p=0)}}},so={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function uo(e){this.options=Y({},so,e)}uo.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,a=r.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));var i=dt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===i.h||0===i.w)r.nodes().layoutPositions(this,t,(function(e){return{x:i.x1,y:i.y1}}));else{var o=a.size(),l=Math.sqrt(o*i.h/i.w),s=Math.round(l),u=Math.round(i.w/i.h*l),c=function(e){if(null==e)return Math.min(s,u);Math.min(s,u)==s?s=e:u=e},d=function(e){if(null==e)return Math.max(s,u);Math.max(s,u)==s?s=e:u=e},f=t.rows,p=null!=t.cols?t.cols:t.columns;if(null!=f&&null!=p)s=f,u=p;else if(null!=f&&null==p)s=f,u=Math.ceil(o/s);else if(null==f&&null!=p)u=p,s=Math.ceil(o/u);else if(u*s>o){var h=c(),g=d();(h-1)*g>=o?c(h-1):(g-1)*h>=o&&d(g-1)}else for(;u*s<o;){var v=c(),y=d();(y+1)*v>=o?d(y+1):c(v+1)}var m=i.w/u,b=i.h/s;if(t.condense&&(m=0,b=0),t.avoidOverlap)for(var w=0;w<a.length;w++){var x=a[w],E=x._private.position;null!=E.x&&null!=E.y||(E.x=0,E.y=0);var S=x.layoutDimensions(t),k=t.avoidOverlapPadding,P=S.w+k,C=S.h+k;m=Math.max(m,P),b=Math.max(b,C)}for(var _={},D=function(e,t){return!!_["c-"+e+"-"+t]},R=function(e,t){_["c-"+e+"-"+t]=!0},O=0,T=0,M=function(){++T>=u&&(T=0,O++)},B={},A=0;A<a.length;A++){var I=a[A],N=t.position(I);if(N&&(void 0!==N.row||void 0!==N.col)){var L={row:N.row,col:N.col};if(void 0===L.col)for(L.col=0;D(L.row,L.col);)L.col++;else if(void 0===L.row)for(L.row=0;D(L.row,L.col);)L.row++;B[I.id()]=L,R(L.row,L.col)}}a.layoutPositions(this,t,(function(e,t){var n,r;if(e.locked()||e.isParent())return!1;var a=B[e.id()];if(a)n=a.col*m+m/2+i.x1,r=a.row*b+b/2+i.y1;else{for(;D(O,T);)M();n=T*m+m/2+i.x1,r=O*b+b/2+i.y1,R(O,T),M()}return{x:n,y:r}}))}return this};var co={ready:function(){},stop:function(){}};function fo(e){this.options=Y({},co,e)}fo.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions((function(){return{x:0,y:0}})),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},fo.prototype.stop=function(){return this};var po={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function ho(e){this.options=Y({},po,e)}ho.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=R(e.positions);return t.layoutPositions(this,e,(function(t,r){var a=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var r=e.positions[t._private.data.id];return null==r?null:r}(t);return!t.locked()&&null!=a&&a})),this};var go={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function vo(e){this.options=Y({},go,e)}vo.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=dt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.nodes().layoutPositions(this,e,(function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}})),this};var yo=[{name:"breadthfirst",impl:Ii},{name:"circle",impl:Li},{name:"concentric",impl:Fi},{name:"cose",impl:Hi},{name:"grid",impl:uo},{name:"null",impl:fo},{name:"preset",impl:ho},{name:"random",impl:vo}];function mo(e){this.options=e,this.notifications=0}var bo=function(){},wo=function(){throw new Error("A headless instance can not render images")};mo.prototype={recalculateRenderedStyle:bo,notify:function(){this.notifications++},init:bo,isHeadless:function(){return!0},png:wo,jpg:wo};var xo={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,a,i,o){var l=a.x-n/2-o,s=a.x+n/2+o,u=a.y-n/2-o,c=a.y+n/2+o;return l<=e&&e<=s&&u<=t&&t<=c},r=function(e,t,n,r,a){var i=e*Math.cos(r)-t*Math.sin(r),o=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:i*n+a.x,y:o+a.y}},a=function(e,t,n,a){for(var i=[],o=0;o<e.length;o+=2){var l=e[o],s=e[o+1];i.push(r(l,s,t,n,a))}return i},i=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},o=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},l=function(r,l){D(l)&&(l=e[l]),e[r]=Y({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,o,l){var s=i(a(this.points,n+2*l,r,o));return kt(e,t,s)},roughCollide:n,draw:function(e,n,r,i){var o=a(this.points,n,r,i);t.arrowShapeImpl("polygon")(e,o)},spacing:function(e){return 0},gap:o},l)};l("none",{collide:be,roughCollide:be,draw:xe,spacing:we,gap:we}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,i,o,l){var s=a(this.points,n,i,o),u=this.controlPoint,c=r(u[0],u[1],n,i,o);t.arrowShapeImpl(this.name)(e,s,c)},gap:function(e){return.8*o(e)}}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,o,l,s){var u=i(a(this.points,n+2*s,r,o)),c=i(a(this.pointsTee,n+2*s,r,o));return kt(e,t,u)||kt(e,t,c)},draw:function(e,n,r,i,o){var l=a(this.points,n,r,i),s=a(this.pointsTee,n,r,i);t.arrowShapeImpl(this.name)(e,l,s)}}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,n,r,o,l,s){var u=o,c=Math.pow(u.x-e,2)+Math.pow(u.y-t,2)<=Math.pow((n+2*s)*this.radius,2),d=i(a(this.points,n+2*s,r,o));return kt(e,t,d)||c},draw:function(e,n,r,i,o){var l=a(this.pointsTr,n,r,i);t.arrowShapeImpl(this.name)(e,l,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,o,l,s){var u=i(a(this.points,n+2*s,r,o)),c=i(a(this.crossLinePts(n,l),n+2*s,r,o));return kt(e,t,u)||kt(e,t,c)},draw:function(e,n,r,i,o){var l=a(this.points,n,r,i),s=a(this.crossLinePts(n,o),n,r,i);t.arrowShapeImpl(this.name)(e,l,s)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*o(e)}}),l("circle",{radius:.15,collide:function(e,t,n,r,a,i,o){var l=a;return Math.pow(l.x-e,2)+Math.pow(l.y-t,2)<=Math.pow((n+2*o)*this.radius,2)},draw:function(e,n,r,a,i){t.arrowShapeImpl(this.name)(e,a.x,a.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},Eo={projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),a=r[0],i=r[1],o=r[4],l=n.pan(),s=n.zoom();return[((e-a)/o-l.x)/s,((t-i)/o-l.y)/s]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=x.getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},a=r("padding-left"),i=r("padding-right"),o=r("padding-top"),l=r("padding-bottom"),s=r("border-left-width"),u=r("border-right-width"),c=r("border-top-width"),d=(r("border-bottom-width"),e.clientWidth),f=e.clientHeight,p=a+i,h=o+l,g=s+u,v=t.width/(d+g),y=d-p,m=f-h,b=t.left+a+s,w=t.top+o+c;return this.containerBB=[b,w,y,m,v]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){var a,i,o=this,l=this,s=l.getCachedZSortedEles(),u=[],c=l.cy.zoom(),d=l.cy.hasCompoundNodes(),f=(r?24:8)/c,p=(r?8:2)/c,h=(r?8:2)/c,g=1/0;function v(e,t){if(e.isNode()){if(i)return;i=e,u.push(e)}if(e.isEdge()&&(null==t||t<g))if(a){if(a.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&a.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<u.length;n++)if(u[n].isEdge()){u[n]=e,a=e,g=null!=t?t:g;break}}else u.push(e),a=e,g=null!=t?t:g}function y(n){var r=n.outerWidth()+2*p,a=n.outerHeight()+2*p,i=r/2,s=a/2,u=n.position();if(u.x-i<=e&&e<=u.x+i&&u.y-s<=t&&t<=u.y+s&&l.nodeShapes[o.getNodeShape(n)].checkPoint(e,t,0,r,a,u.x,u.y))return v(n,0),!0}function m(n){var r,a=n._private,i=a.rscratch,s=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,p=s/2+f,h=p*p,g=2*p,m=a.source,b=a.target;if("segments"===i.edgeType||"straight"===i.edgeType||"haystack"===i.edgeType){for(var w=i.allpts,x=0;x+3<w.length;x+=2)if(wt(e,t,w[x],w[x+1],w[x+2],w[x+3],g)&&h>(r=St(e,t,w[x],w[x+1],w[x+2],w[x+3])))return v(n,r),!0}else if("bezier"===i.edgeType||"multibezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType)for(w=i.allpts,x=0;x+5<i.allpts.length;x+=4)if(xt(e,t,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5],g)&&h>(r=Et(e,t,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5])))return v(n,r),!0;m=m||a.source,b=b||a.target;var E=o.getArrowWidth(s,c),S=[{name:"source",x:i.arrowStartX,y:i.arrowStartY,angle:i.srcArrowAngle},{name:"target",x:i.arrowEndX,y:i.arrowEndY,angle:i.tgtArrowAngle},{name:"mid-source",x:i.midX,y:i.midY,angle:i.midsrcArrowAngle},{name:"mid-target",x:i.midX,y:i.midY,angle:i.midtgtArrowAngle}];for(x=0;x<S.length;x++){var k=S[x],P=l.arrowShapes[n.pstyle(k.name+"-arrow-shape").value],C=n.pstyle("width").pfValue;if(P.roughCollide(e,t,E,k.angle,{x:k.x,y:k.y},C,f)&&P.collide(e,t,E,k.angle,{x:k.x,y:k.y},C,f))return v(n),!0}d&&u.length>0&&(y(m),y(b))}function b(e,t,n){return Me(e,t,n)}function w(n,r){var a,i=n._private,o=h;a=r?r+"-":"",n.boundingBox();var l=i.labelBounds[r||"main"],s=n.pstyle(a+"label").value;if("yes"===n.pstyle("text-events").strValue&&s){var u=b(i.rscratch,"labelX",r),c=b(i.rscratch,"labelY",r),d=b(i.rscratch,"labelAngle",r),f=n.pstyle(a+"text-margin-x").pfValue,p=n.pstyle(a+"text-margin-y").pfValue,g=l.x1-o-f,y=l.x2+o-f,m=l.y1-o-p,w=l.y2+o-p;if(d){var x=Math.cos(d),E=Math.sin(d),S=function(e,t){return{x:(e-=u)*x-(t-=c)*E+u,y:e*E+t*x+c}},k=S(g,m),P=S(g,w),C=S(y,m),_=S(y,w),D=[k.x+f,k.y+p,C.x+f,C.y+p,_.x+f,_.y+p,P.x+f,P.y+p];if(kt(e,t,D))return v(n),!0}else if(yt(l,e,t))return v(n),!0}}n&&(s=s.interactive);for(var x=s.length-1;x>=0;x--){var E=s[x];E.isNode()?y(E)||w(E):m(E)||w(E)||w(E,"source")||w(E,"target")}return u},getAllInBox:function(e,t,n,r){for(var a,i,o=this.getCachedZSortedEles().interactive,l=[],s=Math.min(e,n),u=Math.max(e,n),c=Math.min(t,r),d=Math.max(t,r),f=dt({x1:e=s,y1:t=c,x2:n=u,y2:r=d}),p=0;p<o.length;p++){var h=o[p];if(h.isNode()){var g=h,v=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});vt(f,v)&&!mt(v,f)&&l.push(g)}else{var y=h,m=y._private,b=m.rscratch;if(null!=b.startX&&null!=b.startY&&!yt(f,b.startX,b.startY))continue;if(null!=b.endX&&null!=b.endY&&!yt(f,b.endX,b.endY))continue;if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var w=m.rstyle.bezierPts||m.rstyle.linePts||m.rstyle.haystackPts,x=!0,E=0;E<w.length;E++)if(a=f,i=w[E],!yt(a,i.x,i.y)){x=!1;break}x&&l.push(y)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||l.push(y)}}return l}},So={calculateArrowAngles:function(e){var t,n,r,a,i,o,l=e._private.rscratch,s="haystack"===l.edgeType,u="bezier"===l.edgeType,c="multibezier"===l.edgeType,d="segments"===l.edgeType,f="compound"===l.edgeType,p="self"===l.edgeType;if(s?(r=l.haystackPts[0],a=l.haystackPts[1],i=l.haystackPts[2],o=l.haystackPts[3]):(r=l.arrowStartX,a=l.arrowStartY,i=l.arrowEndX,o=l.arrowEndY),g=l.midX,v=l.midY,d)t=r-l.segpts[0],n=a-l.segpts[1];else if(c||f||p||u){var h=l.allpts;t=r-st(h[0],h[2],h[4],.1),n=a-st(h[1],h[3],h[5],.1)}else t=r-g,n=a-v;l.srcArrowAngle=nt(t,n);var g=l.midX,v=l.midY;if(s&&(g=(r+i)/2,v=(a+o)/2),t=i-r,n=o-a,d)if((h=l.allpts).length/2%2==0){var y=(m=h.length/2)-2;t=h[m]-h[y],n=h[m+1]-h[y+1]}else{y=(m=h.length/2-1)-2;var m,b=m+2;t=h[m]-h[y],n=h[m+1]-h[y+1]}else if(c||f||p){var w,x,E,S;h=l.allpts;if(l.ctrlpts.length/2%2==0){var k=2+(P=2+(C=h.length/2-1));w=st(h[C],h[P],h[k],0),x=st(h[C+1],h[P+1],h[k+1],0),E=st(h[C],h[P],h[k],1e-4),S=st(h[C+1],h[P+1],h[k+1],1e-4)}else{var P,C;k=2+(P=h.length/2-1),w=st(h[C=P-2],h[P],h[k],.4999),x=st(h[C+1],h[P+1],h[k+1],.4999),E=st(h[C],h[P],h[k],.5),S=st(h[C+1],h[P+1],h[k+1],.5)}t=E-w,n=S-x}if(l.midtgtArrowAngle=nt(t,n),l.midDispX=t,l.midDispY=n,t*=-1,n*=-1,d&&((h=l.allpts).length/2%2==0||(t=-(h[b=2+(m=h.length/2-1)]-h[m]),n=-(h[b+1]-h[m+1]))),l.midsrcArrowAngle=nt(t,n),d)t=i-l.segpts[l.segpts.length-2],n=o-l.segpts[l.segpts.length-1];else if(c||f||p||u){var _=(h=l.allpts).length;t=i-st(h[_-6],h[_-4],h[_-2],.9),n=o-st(h[_-5],h[_-3],h[_-1],.9)}else t=i-g,n=o-v;l.tgtArrowAngle=nt(t,n)}};So.getArrowWidth=So.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)};var ko={};function Po(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];t.push({x:r,y:a})}return t}}ko.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,a=r.rscratch;if(!a.haystack){var i=2*Math.random()*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=2*Math.random()*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=r.source,l=r.target,s=o.position(),u=l.position(),c=o.width(),d=l.width(),f=o.height(),p=l.height(),h=n.pstyle("haystack-radius").value/2;a.haystackPts=a.allpts=[a.source.x*c*h+s.x,a.source.y*f*h+s.y,a.target.x*d*h+u.x,a.target.y*p*h+u.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},ko.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=t.posPts,a=t.intersectionPts,i=t.vectorNormInverse,o=e.pstyle("edge-distances").value,l=e.pstyle("segment-weights"),s=e.pstyle("segment-distances"),u=Math.min(l.pfValue.length,s.pfValue.length);n.edgeType="segments",n.segpts=[];for(var c=0;c<u;c++){var d=l.pfValue[c],f=s.pfValue[c],p=1-d,h=d,g="node-position"===o?r:a,v={x:g.x1*p+g.x2*h,y:g.y1*p+g.y2*h};n.segpts.push(v.x+i.x*f,v.y+i.y*f)}},ko.findLoopPoints=function(e,t,n,r){var a=e._private.rscratch,i=t.dirCounts,o=t.srcPos,l=e.pstyle("control-point-distances"),s=l?l.pfValue[0]:void 0,u=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,d=e.pstyle("control-point-step-size").pfValue;a.edgeType="self";var f=n,p=d;r&&(f=0,p=s);var h=u-Math.PI/2,g=h-c/2,v=h+c/2,y=String(u+"_"+c);f=void 0===i[y]?i[y]=0:++i[y],a.ctrlpts=[o.x+1.4*Math.cos(g)*p*(f/3+1),o.y+1.4*Math.sin(g)*p*(f/3+1),o.x+1.4*Math.cos(v)*p*(f/3+1),o.y+1.4*Math.sin(v)*p*(f/3+1)]},ko.findCompoundLoopPoints=function(e,t,n,r){var a=e._private.rscratch;a.edgeType="compound";var i=t.srcPos,o=t.tgtPos,l=t.srcW,s=t.srcH,u=t.tgtW,c=t.tgtH,d=e.pstyle("control-point-step-size").pfValue,f=e.pstyle("control-point-distances"),p=f?f.pfValue[0]:void 0,h=n,g=d;r&&(h=0,g=p);var v={x:i.x-l/2,y:i.y-s/2},y={x:o.x-u/2,y:o.y-c/2},m={x:Math.min(v.x,y.x),y:Math.min(v.y,y.y)},b=Math.max(.5,Math.log(.01*l)),w=Math.max(.5,Math.log(.01*u));a.ctrlpts=[m.x,m.y-(1+Math.pow(50,1.12)/100)*g*(h/3+1)*b,m.x-(1+Math.pow(50,1.12)/100)*g*(h/3+1)*w,m.y]},ko.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},ko.findBezierPoints=function(e,t,n,r,a){var i=e._private.rscratch,o=t.vectorNormInverse,l=t.posPts,s=t.intersectionPts,u=e.pstyle("edge-distances").value,c=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),f=e.pstyle("control-point-weights"),p=d&&f?Math.min(d.value.length,f.value.length):1,h=d?d.pfValue[0]:void 0,g=f.value[0],v=r;i.edgeType=v?"multibezier":"bezier",i.ctrlpts=[];for(var y=0;y<p;y++){var m,b=(.5-t.eles.length/2+n)*c*(a?-1:1),w=at(b);v&&(h=d?d.pfValue[y]:c,g=f.value[y]);var x=void 0!==(m=r?h:void 0!==h?w*h:void 0)?m:b,E=1-g,S=g,k="node-position"===u?l:s,P={x:k.x1*E+k.x2*S,y:k.y1*E+k.y2*S};i.ctrlpts.push(P.x+o.x*x,P.y+o.y*x)}},ko.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",a="horizontal",i="leftward",o="rightward",l="downward",s="upward",u=t.posPts,c=t.srcW,d=t.srcH,f=t.tgtW,p=t.tgtH,h="node-position"!==e.pstyle("edge-distances").value,g=e.pstyle("taxi-direction").value,v=g,y=e.pstyle("taxi-turn"),m="%"===y.units,b=y.pfValue,w=b<0,x=e.pstyle("taxi-turn-min-distance").pfValue,E=h?(c+f)/2:0,S=h?(d+p)/2:0,k=u.x2-u.x1,P=u.y2-u.y1,C=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},_=C(k,E),D=C(P,S),R=!1;"auto"===v?g=Math.abs(_)>Math.abs(D)?a:r:v===s||v===l?(g=r,R=!0):v!==i&&v!==o||(g=a,R=!0);var O,T=g===r,M=T?D:_,B=T?P:k,A=at(B),I=!1;R&&(m||w)||!(v===l&&B<0||v===s&&B>0||v===i&&B>0||v===o&&B<0)||(M=(A*=-1)*Math.abs(M),I=!0);var N=function(e){return Math.abs(e)<x||Math.abs(e)>=Math.abs(M)},L=N(O=m?(b<0?1+b:b)*M:(b<0?M:0)+b*A),j=N(Math.abs(M)-Math.abs(O));if(!L&&!j||I)if(T){var z=u.y1+O+(h?d/2*A:0),F=u.x1,V=u.x2;n.segpts=[F,z,V,z]}else{var H=u.x1+O+(h?c/2*A:0),W=u.y1,q=u.y2;n.segpts=[H,W,H,q]}else if(T){var U=Math.abs(B)<=d/2,K=Math.abs(k)<=f/2;if(U){var G=(u.x1+u.x2)/2,Y=u.y1,X=u.y2;n.segpts=[G,Y,G,X]}else if(K){var $=(u.y1+u.y2)/2,Q=u.x1,Z=u.x2;n.segpts=[Q,$,Z,$]}else n.segpts=[u.x1,u.y2]}else{var J=Math.abs(B)<=c/2,ee=Math.abs(P)<=p/2;if(J){var te=(u.y1+u.y2)/2,ne=u.x1,re=u.x2;n.segpts=[ne,te,re,te]}else if(ee){var ae=(u.x1+u.x2)/2,ie=u.y1,oe=u.y2;n.segpts=[ae,ie,ae,oe]}else n.segpts=[u.x2,u.y1]}},ko.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var r=t.srcPos,a=t.tgtPos,i=t.srcW,o=t.srcH,l=t.tgtW,s=t.tgtH,u=t.srcShape,c=t.tgtShape,d=!M(n.startX)||!M(n.startY),f=!M(n.arrowStartX)||!M(n.arrowStartY),p=!M(n.endX)||!M(n.endY),h=!M(n.arrowEndX)||!M(n.arrowEndY),g=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,v=it({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),y=v<g,m=it({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),b=m<g,w=!1;if(d||f||y){w=!0;var x={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},E=Math.sqrt(x.x*x.x+x.y*x.y),S={x:x.x/E,y:x.y/E},k=Math.max(i,o),P={x:n.ctrlpts[0]+2*S.x*k,y:n.ctrlpts[1]+2*S.y*k},C=u.intersectLine(r.x,r.y,i,o,P.x,P.y,0);y?(n.ctrlpts[0]=n.ctrlpts[0]+S.x*(g-v),n.ctrlpts[1]=n.ctrlpts[1]+S.y*(g-v)):(n.ctrlpts[0]=C[0]+S.x*g,n.ctrlpts[1]=C[1]+S.y*g)}if(p||h||b){w=!0;var _={x:n.ctrlpts[0]-a.x,y:n.ctrlpts[1]-a.y},D=Math.sqrt(_.x*_.x+_.y*_.y),R={x:_.x/D,y:_.y/D},O=Math.max(i,o),T={x:n.ctrlpts[0]+2*R.x*O,y:n.ctrlpts[1]+2*R.y*O},B=c.intersectLine(a.x,a.y,l,s,T.x,T.y,0);b?(n.ctrlpts[0]=n.ctrlpts[0]+R.x*(g-m),n.ctrlpts[1]=n.ctrlpts[1]+R.y*(g-m)):(n.ctrlpts[0]=B[0]+R.x*g,n.ctrlpts[1]=B[1]+R.y*g)}w&&this.findEndpoints(e)}},ko.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var r;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,t.midX=st(t.allpts[r],t.allpts[r+2],t.allpts[r+4],.5),t.midY=st(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType)if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4==0){var a=t.segpts.length/2,i=a-2;t.midX=(t.segpts[i]+t.segpts[a])/2,t.midY=(t.segpts[i+1]+t.segpts[a+1])/2}else{var o=t.segpts.length/2-1;t.midX=t.segpts[o],t.midY=t.segpts[o+1]}},ko.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||M(t.startX)&&M(t.startY)&&M(t.endX)&&M(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,ke("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ko.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,r=n.cy.hasCompoundNodes(),a={map:new Ae,get:function(e){var t=this.map.get(e[0]);return null!=t?t.get(e[1]):null},set:function(e,t){var n=this.map.get(e[0]);null==n&&(n=new Ae,this.map.set(e[0],n)),n.set(e[1],t)}},i=[],o=[],l=0;l<e.length;l++){var s=e[l],u=s._private,c=s.pstyle("curve-style").value;if(!s.removed()&&s.takesUpSpace())if("haystack"!==c){var d="unbundled-bezier"===c||"segments"===c||"straight"===c||"straight-triangle"===c||"taxi"===c,f="unbundled-bezier"===c||"bezier"===c,p=u.source,h=u.target,g=[p.poolIndex(),h.poolIndex()].sort(),v=a.get(g);null==v&&(v={eles:[]},a.set(g,v),i.push(g)),v.eles.push(s),d&&(v.hasUnbundled=!0),f&&(v.hasBezier=!0)}else o.push(s)}for(var y=function(e){var o=i[e],l=a.get(o),s=void 0;if(!l.hasUnbundled){var u=l.eles[0].parallelEdges().filter((function(e){return e.isBundledBezier()}));Te(l.eles),u.forEach((function(e){return l.eles.push(e)})),l.eles.sort((function(e,t){return e.poolIndex()-t.poolIndex()}))}var c=l.eles[0],d=c.source(),f=c.target();if(d.poolIndex()>f.poolIndex()){var p=d;d=f,f=p}var h=l.srcPos=d.position(),g=l.tgtPos=f.position(),v=l.srcW=d.outerWidth(),y=l.srcH=d.outerHeight(),m=l.tgtW=f.outerWidth(),b=l.tgtH=f.outerHeight(),w=l.srcShape=n.nodeShapes[t.getNodeShape(d)],x=l.tgtShape=n.nodeShapes[t.getNodeShape(f)];l.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var E=0;E<l.eles.length;E++){var S=l.eles[E],k=S[0]._private.rscratch,P=S.pstyle("curve-style").value,C="unbundled-bezier"===P||"segments"===P||"taxi"===P,_=!d.same(S.source());if(!l.calculatedIntersection&&d!==f&&(l.hasBezier||l.hasUnbundled)){l.calculatedIntersection=!0;var D=w.intersectLine(h.x,h.y,v,y,g.x,g.y,0),R=l.srcIntn=D,O=x.intersectLine(g.x,g.y,m,b,h.x,h.y,0),T=l.tgtIntn=O,B=l.intersectionPts={x1:D[0],x2:O[0],y1:D[1],y2:O[1]},A=l.posPts={x1:h.x,x2:g.x,y1:h.y,y2:g.y},I=O[1]-D[1],N=O[0]-D[0],L=Math.sqrt(N*N+I*I),j=l.vector={x:N,y:I},z=l.vectorNorm={x:j.x/L,y:j.y/L},F={x:-z.y,y:z.x};l.nodesOverlap=!M(L)||x.checkPoint(D[0],D[1],0,m,b,g.x,g.y)||w.checkPoint(O[0],O[1],0,v,y,h.x,h.y),l.vectorNormInverse=F,s={nodesOverlap:l.nodesOverlap,dirCounts:l.dirCounts,calculatedIntersection:!0,hasBezier:l.hasBezier,hasUnbundled:l.hasUnbundled,eles:l.eles,srcPos:g,tgtPos:h,srcW:m,srcH:b,tgtW:v,tgtH:y,srcIntn:T,tgtIntn:R,srcShape:x,tgtShape:w,posPts:{x1:A.x2,y1:A.y2,x2:A.x1,y2:A.y1},intersectionPts:{x1:B.x2,y1:B.y2,x2:B.x1,y2:B.y1},vector:{x:-j.x,y:-j.y},vectorNorm:{x:-z.x,y:-z.y},vectorNormInverse:{x:-F.x,y:-F.y}}}var V=_?s:l;k.nodesOverlap=V.nodesOverlap,k.srcIntn=V.srcIntn,k.tgtIntn=V.tgtIntn,r&&(d.isParent()||d.isChild()||f.isParent()||f.isChild())&&(d.parents().anySame(f)||f.parents().anySame(d)||d.same(f)&&d.isParent())?t.findCompoundLoopPoints(S,V,E,C):d===f?t.findLoopPoints(S,V,E,C):"segments"===P?t.findSegmentsPoints(S,V):"taxi"===P?t.findTaxiPoints(S,V):"straight"===P||!C&&l.eles.length%2==1&&E===Math.floor(l.eles.length/2)?t.findStraightEdgePoints(S):t.findBezierPoints(S,V,E,C,_),t.findEndpoints(S),t.tryToCorrectInvalidPoints(S,V),t.checkForInvalidEdgeWarning(S),t.storeAllpts(S),t.storeEdgeProjections(S),t.calculateArrowAngles(S),t.recalculateEdgeLabelProjections(S),t.calculateLabelAngles(S)}},m=0;m<i.length;m++)y(m);this.findHaystackPoints(o)}},ko.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return this.recalculateRenderedStyle(e),Po(t.segpts)},ko.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(e),Po(t.ctrlpts)},ko.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var Co={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),a=e.outerHeight();if(2===t.value.length){var i=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(i[0]=i[0]*r),"%"===t.units[1]&&(i[1]=i[1]*a),i[0]+=n.x,i[1]+=n.y,i}var o=t.pfValue[0];o=-Math.PI/2+o;var l=2*Math.max(r,a),s=[n.x+Math.cos(o)*l,n.y+Math.sin(o)*l];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,a,s[0],s[1],0)},findEndpoints:function(e){var t,n,r,a,i,o=this,l=e.source()[0],s=e.target()[0],u=l.position(),c=s.position(),d=e.pstyle("target-arrow-shape").value,f=e.pstyle("source-arrow-shape").value,p=e.pstyle("target-distance-from-node").pfValue,h=e.pstyle("source-distance-from-node").pfValue,g=e.pstyle("curve-style").value,v=e._private.rscratch,y=v.edgeType,m="self"===y||"compound"===y,b="bezier"===y||"multibezier"===y||m,w="bezier"!==y,x="straight"===y||"segments"===y,E="segments"===y,S=b||w||x,k=m||"taxi"===g,P=e.pstyle("source-endpoint"),C=k?"outside-to-node":P.value,_=e.pstyle("target-endpoint"),D=k?"outside-to-node":_.value;if(v.srcManEndpt=P,v.tgtManEndpt=_,b){var R=[v.ctrlpts[0],v.ctrlpts[1]];n=w?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:R,r=R}else if(x){var O=E?v.segpts.slice(0,2):[c.x,c.y];n=E?v.segpts.slice(v.segpts.length-2):[u.x,u.y],r=O}if("inside-to-node"===D)t=[c.x,c.y];else if(_.units)t=this.manualEndptToPx(s,_);else if("outside-to-line"===D)t=v.tgtIntn;else if("outside-to-node"===D||"outside-to-node-or-label"===D?a=n:"outside-to-line"!==D&&"outside-to-line-or-label"!==D||(a=[u.x,u.y]),t=o.nodeShapes[this.getNodeShape(s)].intersectLine(c.x,c.y,s.outerWidth(),s.outerHeight(),a[0],a[1],0),"outside-to-node-or-label"===D||"outside-to-line-or-label"===D){var T=s._private.rscratch,B=T.labelWidth,A=T.labelHeight,I=T.labelX,N=T.labelY,L=B/2,j=A/2,z=s.pstyle("text-valign").value;"top"===z?N-=j:"bottom"===z&&(N+=j);var F=s.pstyle("text-halign").value;"left"===F?I-=L:"right"===F&&(I+=L);var V=Mt(a[0],a[1],[I-L,N-j,I+L,N-j,I+L,N+j,I-L,N+j],c.x,c.y);if(V.length>0){var H=u,W=ot(H,tt(t)),q=ot(H,tt(V)),U=W;q<W&&(t=V,U=q),V.length>2&&ot(H,{x:V[2],y:V[3]})<U&&(t=[V[2],V[3]])}}var K=Bt(t,n,o.arrowShapes[d].spacing(e)+p),G=Bt(t,n,o.arrowShapes[d].gap(e)+p);if(v.endX=G[0],v.endY=G[1],v.arrowEndX=K[0],v.arrowEndY=K[1],"inside-to-node"===C)t=[u.x,u.y];else if(P.units)t=this.manualEndptToPx(l,P);else if("outside-to-line"===C)t=v.srcIntn;else if("outside-to-node"===C||"outside-to-node-or-label"===C?i=r:"outside-to-line"!==C&&"outside-to-line-or-label"!==C||(i=[c.x,c.y]),t=o.nodeShapes[this.getNodeShape(l)].intersectLine(u.x,u.y,l.outerWidth(),l.outerHeight(),i[0],i[1],0),"outside-to-node-or-label"===C||"outside-to-line-or-label"===C){var Y=l._private.rscratch,X=Y.labelWidth,$=Y.labelHeight,Q=Y.labelX,Z=Y.labelY,J=X/2,ee=$/2,te=l.pstyle("text-valign").value;"top"===te?Z-=ee:"bottom"===te&&(Z+=ee);var ne=l.pstyle("text-halign").value;"left"===ne?Q-=J:"right"===ne&&(Q+=J);var re=Mt(i[0],i[1],[Q-J,Z-ee,Q+J,Z-ee,Q+J,Z+ee,Q-J,Z+ee],u.x,u.y);if(re.length>0){var ae=c,ie=ot(ae,tt(t)),oe=ot(ae,tt(re)),le=ie;oe<ie&&(t=[re[0],re[1]],le=oe),re.length>2&&ot(ae,{x:re[2],y:re[3]})<le&&(t=[re[2],re[3]])}}var se=Bt(t,r,o.arrowShapes[f].spacing(e)+h),ue=Bt(t,r,o.arrowShapes[f].gap(e)+h);v.startX=ue[0],v.startY=ue[1],v.arrowStartX=se[0],v.arrowStartY=se[1],S&&(M(v.startX)&&M(v.startY)&&M(v.endX)&&M(v.endY)?v.badLine=!1:v.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}}},_o={};function Do(e,t,n){for(var r=function(e,t,n,r){return st(e,t,n,r)},a=t._private.rstyle.bezierPts,i=0;i<e.bezierProjPcts.length;i++){var o=e.bezierProjPcts[i];a.push({x:r(n[0],n[2],n[4],o),y:r(n[1],n[3],n[5],o)})}}_o.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var a=0;a+5<n.allpts.length;a+=4)Do(this,e,n.allpts.slice(a,a+6))}else if("segments"===r){var i=t.rstyle.linePts=[];for(a=0;a+1<n.allpts.length;a+=2)i.push({x:n.allpts[a],y:n.allpts[a+1]})}else if("haystack"===r){var o=n.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},_o.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Ro={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!z(t)){var n,r,a=e._private,i=e.width(),o=e.height(),l=e.padding(),s=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,d=a.rscratch,f=a.rstyle;switch(u){case"left":n=s.x-i/2-l;break;case"right":n=s.x+i/2+l;break;default:n=s.x}switch(c){case"top":r=s.y-o/2-l;break;case"bottom":r=s.y+o/2+l;break;default:r=s.y}d.labelX=n,d.labelY=r,f.labelX=n,f.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},Oo=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},To=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Oo(n,r)};Ro.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,a=this,i={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(i.mid||i.source||i.target){t={x:r.midX,y:r.midY};var o=function(e,t,r){Be(n.rscratch,e,t,r),Be(n.rstyle,e,t,r)};o("labelX",null,t.x),o("labelY",null,t.y);var l=Oo(r.midDispX,r.midDispY);o("labelAutoAngle",null,l);var s=function e(){if(e.cache)return e.cache;for(var t=[],i=0;i+5<r.allpts.length;i+=4){var o={x:r.allpts[i],y:r.allpts[i+1]},l={x:r.allpts[i+2],y:r.allpts[i+3]},s={x:r.allpts[i+4],y:r.allpts[i+5]};t.push({p0:o,p1:l,p2:s,startDist:0,length:0,segments:[]})}var u=n.rstyle.bezierPts,c=a.bezierProjPcts.length;function d(e,t,n,r,a){var i=it(t,n),o=e.segments[e.segments.length-1],l={p0:t,p1:n,t0:r,t1:a,startDist:o?o.startDist+o.length:0,length:i};e.segments.push(l),e.length+=i}for(var f=0;f<t.length;f++){var p=t[f],h=t[f-1];h&&(p.startDist=h.startDist+h.length),d(p,p.p0,u[f*c],0,a.bezierProjPcts[0]);for(var g=0;g<c-1;g++)d(p,u[f*c+g],u[f*c+g+1],a.bezierProjPcts[g],a.bezierProjPcts[g+1]);d(p,u[f*c+c-1],p.p2,a.bezierProjPcts[c-1],1)}return e.cache=t},u=function(n){var a,l="source"===n;if(i[n]){var u=e.pstyle(n+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var c,d=s(),f=0,p=0,h=0;h<d.length;h++){for(var g=d[l?h:d.length-1-h],v=0;v<g.segments.length;v++){var y=g.segments[l?v:g.segments.length-1-v],m=h===d.length-1&&v===g.segments.length-1;if(f=p,(p+=y.length)>=u||m){c={cp:g,segment:y};break}}if(c)break}var b=c.cp,w=c.segment,x=(u-f)/w.length,E=w.t1-w.t0,S=l?w.t0+E*x:w.t1-E*x;S=ct(0,S,1),t=ut(b.p0,b.p1,b.p2,S),a=function(e,t,n,r){var a=ct(0,r-.001,1),i=ct(0,r+.001,1),o=ut(e,t,n,a),l=ut(e,t,n,i);return To(o,l)}(b.p0,b.p1,b.p2,S);break;case"straight":case"segments":case"haystack":for(var k,P,C,_,D=0,R=r.allpts.length,O=0;O+3<R&&(l?(C={x:r.allpts[O],y:r.allpts[O+1]},_={x:r.allpts[O+2],y:r.allpts[O+3]}):(C={x:r.allpts[R-2-O],y:r.allpts[R-1-O]},_={x:r.allpts[R-4-O],y:r.allpts[R-3-O]}),P=D,!((D+=k=it(C,_))>=u));O+=2);var T=(u-P)/k;T=ct(0,T,1),t=function(e,t,n,r){var a=t.x-e.x,i=t.y-e.y,o=it(e,t),l=a/o,s=i/o;return n=null==n?0:n,r=null!=r?r:n*o,{x:e.x+l*r,y:e.y+s*r}}(C,_,T),a=To(C,_)}o("labelX",n,t.x),o("labelY",n,t.y),o("labelAutoAngle",n,a)}};u("source"),u("target"),this.applyLabelDimensions(e)}},Ro.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},Ro.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),a=this.calculateLabelDimensions(e,r),i=e.pstyle("line-height").pfValue,o=e.pstyle("text-wrap").strValue,l=Me(n.rscratch,"labelWrapCachedLines",t)||[],s="wrap"!==o?1:Math.max(l.length,1),u=a.height/s,c=u*i,d=a.width,f=a.height+(s-1)*(i-1)*u;Be(n.rstyle,"labelWidth",t,d),Be(n.rscratch,"labelWidth",t,d),Be(n.rstyle,"labelHeight",t,f),Be(n.rscratch,"labelHeight",t,f),Be(n.rscratch,"labelLineHeight",t,c)},Ro.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",a=e.pstyle(r+"label").strValue,i=e.pstyle("text-transform").value,o=function(e,r){return r?(Be(n.rscratch,e,t,r),r):Me(n.rscratch,e,t)};if(!a)return"";"none"==i||("uppercase"==i?a=a.toUpperCase():"lowercase"==i&&(a=a.toLowerCase()));var l=e.pstyle("text-wrap").value;if("wrap"===l){var s=o("labelKey");if(null!=s&&o("labelWrapKey")===s)return o("labelWrapCachedText");for(var u=a.split("\n"),c=e.pstyle("text-max-width").pfValue,d="anywhere"===e.pstyle("text-overflow-wrap").value,f=[],p=/[\s\u200b]+/,h=d?"":" ",g=0;g<u.length;g++){var v=u[g],y=this.calculateLabelDimensions(e,v).width;if(d){var m=v.split("").join("");v=m}if(y>c){for(var b=v.split(p),w="",x=0;x<b.length;x++){var E=b[x],S=0===w.length?E:w+h+E;this.calculateLabelDimensions(e,S).width<=c?w+=E+h:(w&&f.push(w),w=E+h)}w.match(/^[\s\u200b]+$/)||f.push(w)}else f.push(v)}o("labelWrapCachedLines",f),a=o("labelWrapCachedText",f.join("\n")),o("labelWrapKey",s)}else if("ellipsis"===l){var k=e.pstyle("text-max-width").pfValue,P="",C=!1;if(this.calculateLabelDimensions(e,a).width<k)return a;for(var _=0;_<a.length&&!(this.calculateLabelDimensions(e,P+a[_]+"").width>k);_++)P+=a[_],_===a.length-1&&(C=!0);return C||(P+=""),P}return a},Ro.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},Ro.calculateLabelDimensions=function(e,t){var n=de(t,e._private.labelDimsKey),r=this.labelDimCache||(this.labelDimCache=[]),a=r[n];if(null!=a)return a;var i=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue,l=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,u=this.labelCalcCanvas,c=this.labelCalcCanvasContext;if(!u){u=this.labelCalcCanvas=document.createElement("canvas"),c=this.labelCalcCanvasContext=u.getContext("2d");var d=u.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}c.font="".concat(i," ").concat(s," ").concat(o,"px ").concat(l);for(var f=0,p=0,h=t.split("\n"),g=0;g<h.length;g++){var v=h[g],y=c.measureText(v),m=Math.ceil(y.width),b=o;f=Math.max(m,f),p+=b}return f+=0,p+=0,r[n]={width:f,height:p}},Ro.calculateLabelAngle=function(e,t){var n=e._private.rscratch,r=e.isEdge(),a=t?t+"-":"",i=e.pstyle(a+"text-rotation"),o=i.strValue;return"none"===o?0:r&&"autorotate"===o?n.labelAutoAngle:"autorotate"===o?0:i.pfValue},Ro.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private.rscratch;r.labelAngle=t.calculateLabelAngle(e),n&&(r.sourceLabelAngle=t.calculateLabelAngle(e,"source"),r.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var Mo={},Bo=!1;Mo.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return Bo||(ke("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Bo=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var Ao={};[Eo,So,ko,Co,_o,Ro,Mo,{registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var r=0;r<e.length;r++){var a=e[r],i=a._private,o=i.rstyle;o.clean=!1,o.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",(function(e){var t=e.target;r(t)})).on("style.* background.*",(function(e){var t=e.target;r(t,!1)}));var a=function(a){if(a){var i=n.onUpdateEleCalcsFns;t.cleanStyle();for(var o=0;o<t.length;o++){var l=t[o],s=l._private.rstyle;l.isNode()&&!s.cleanConnected&&(r(l.connectedEdges()),s.cleanConnected=!0)}if(i)for(var u=0;u<i.length;u++)(0,i[u])(a,t);n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){a(!0)},n.beforeRender(a,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=function(e){return e._private.rstyle.cleanConnected},r=[],a=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var o=e[i],l=o._private,s=l.rstyle;!o.isEdge()||n(o.source())&&n(o.target())||(s.clean=!1),t&&s.clean||o.removed()||"none"!==o.pstyle("display").value&&("nodes"===l.group?a.push(o):r.push(o),s.clean=!0)}for(var u=0;u<a.length;u++){var c=a[u],d=c._private.rstyle,f=c.position();this.recalculateNodeLabelProjection(c),d.nodeX=f.x,d.nodeY=f.y,d.nodeW=c.pstyle("width").pfValue,d.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var p=0;p<r.length;p++){var h=r[p]._private,g=h.rstyle,v=h.rscratch;g.srcX=v.arrowStartX,g.srcY=v.arrowStartY,g.tgtX=v.arrowEndX,g.tgtY=v.arrowEndY,g.midX=v.midX,g.midY=v.midY,g.labelAngle=v.labelAngle,g.sourceLabelAngle=v.sourceLabelAngle,g.targetLabelAngle=v.targetLabelAngle}}}},{updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(a=e[n])._private.rscratch;a.grabbed()&&!a.isParent()?t.push(a):r.inDragLayer?e.drag.push(a):e.nondrag.push(a)}for(n=0;n<t.length;n++){var a=t[n];e.drag.push(a)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Ea),t.interactive=t.filter((function(e){return e.interactive()})),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}}].forEach((function(e){Y(Ao,e)}));var Io={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},a=r[e];if(a)return a.image.complete||a.image.addEventListener("load",n),a.image;var i=(a=r[e]=r[e]||{}).image=new Image;i.addEventListener("load",n),i.addEventListener("error",(function(){i.error=!0}));var o="data:";return e.substring(0,o.length).toLowerCase()===o||(i.crossOrigin=t),i.src=e,i}},No={registerBinding:function(e,t,n,r){var a=Array.prototype.slice.apply(arguments,[1]),i=this.binder(e);return i.on.apply(i,a)},binder:function(e){var t=this,n=e===window||e===document||e===document.body||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement;if(null==t.supportsPassiveEvents){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return r=!0,!0}});window.addEventListener("test",null,a)}catch(e){}t.supportsPassiveEvents=r}var i=function(r,a,i){var o=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(o[2]={capture:null!=i&&i,passive:!1,once:!1}),t.bindings.push({target:e,args:o}),(e.addEventListener||e.on).apply(e,o),this};return{on:i,addEventListener:i,addListener:i,bind:i}},nodeIsDraggable:function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},nodeIsGrabbable:function(e){return this.nodeIsDraggable(e)&&e.interactive()}};No.load=function(){var e=this,t=function(e){return e.selected()},n=function(t,n,r,a){null==t&&(t=e.cy);for(var i=0;i<n.length;i++){var o=n[i];t.emit({originalEvent:r,type:o,position:a})}},r=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},a=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable()){for(var a=0;n&&a<n.length;a++)if((t=n[a]).isNode()&&t.isParent()&&!t.pannable()){r=!1;break}}else r=!0;return r},i=function(e){e[0]._private.rscratch.inDragLayer=!0},o=function(e){e[0]._private.rscratch.isGrabTarget=!0},l=function(e,t){var n=t.addToList;n.has(e)||!e.grabbable()||e.locked()||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},s=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(i),t.neighborhood().stdFilter((function(e){return!r||e.isEdge()})).forEach(i)),n.addToList&&t.forEach((function(e){l(e,n)})),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(i),n.connectedEdges().forEach(i)),t.addToList&&l(n,t)}}(t,n),f(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},c=s,d=function(t){t&&(e.getCachedZSortedEles().forEach((function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)})),e.updateCachedGrabbedEles())},f=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),a=r.connectedEdges();t.inDragLayer&&(a.forEach(i),r.forEach(i)),t.addToList&&r.forEach((function(e){l(e,t)}))}}},p=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},h="undefined"!=typeof MutationObserver,g="undefined"!=typeof ResizeObserver;h?(e.removeObserver=new MutationObserver((function(t){for(var n=0;n<t.length;n++){var r=t[n].removedNodes;if(r)for(var a=0;a<r.length;a++)if(r[a]===e.container){e.destroy();break}}})),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",(function(t){e.destroy()}));var v=u.default((function(){e.cy.resize()}),100);h&&(e.styleObserver=new MutationObserver(v),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",v),g&&(e.resizeObserver=new ResizeObserver(v),e.resizeObserver.observe(e.container));var y=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,(function(t){e.registerBinding(t,"transitionend",y),e.registerBinding(t,"animationend",y),e.registerBinding(t,"scroll",y)})),e.registerBinding(e.container,"contextmenu",(function(e){e.preventDefault()}));var m,b,w,x=function(t){for(var n=e.findContainerClientCoords(),r=n[0],a=n[1],i=n[2],o=n[3],l=t.touches?t.touches:[t],s=!1,u=0;u<l.length;u++){var c=l[u];if(r<=c.clientX&&c.clientX<=r+i&&a<=c.clientY&&c.clientY<=a+o){s=!0;break}}if(!s)return!1;for(var d=e.container,f=t.target.parentNode,p=!1;f;){if(f===d){p=!0;break}f=f.parentNode}return!!p};e.registerBinding(e.container,"mousedown",(function(t){if(x(t)){t.preventDefault(),p(),e.hoverData.capture=!0,e.hoverData.which=t.which;var r=e.cy,a=[t.clientX,t.clientY],i=e.projectIntoViewport(a[0],a[1]),l=e.selection,u=e.findNearestElements(i[0],i[1],!0,!1),d=u[0],f=e.dragData.possibleDragElements;if(e.hoverData.mdownPos=i,e.hoverData.mdownGPos=a,3==t.which){e.hoverData.cxtStarted=!0;var h={originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}};d?(d.activate(),d.emit(h),e.hoverData.down=d):r.emit(h),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(d&&d.activate(),null!=d&&e.nodeIsGrabbable(d)){var g=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};if(o(d),d.selected()){f=e.dragData.possibleDragElements=r.collection();var v=r.$((function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)}));s(v,{addToList:f}),d.emit(g("grabon")),v.forEach((function(e){e.emit(g("grab"))}))}else f=e.dragData.possibleDragElements=r.collection(),c(d,{addToList:f}),d.emit(g("grabon")).emit(g("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=d,e.hoverData.downs=u,e.hoverData.downTime=(new Date).getTime(),n(d,["mousedown","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==d?(l[4]=1,e.data.bgActivePosistion={x:i[0],y:i[1]},e.redrawHint("select",!0),e.redraw()):d.pannable()&&(l[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout((function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.emit({originalEvent:t,type:"taphold",position:{x:i[0],y:i[1]}}):r.emit({originalEvent:t,type:"taphold",position:{x:i[0],y:i[1]}})}}),e.tapholdDuration)}l[0]=l[2]=i[0],l[1]=l[3]=i[1]}}),!1),e.registerBinding(window,"mousemove",(function(t){if(e.hoverData.capture||x(t)){var i=!1,o=e.cy,l=o.zoom(),u=[t.clientX,t.clientY],c=e.projectIntoViewport(u[0],u[1]),f=e.hoverData.mdownPos,p=e.hoverData.mdownGPos,h=e.selection,g=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(g=e.findNearestElement(c[0],c[1],!0,!1));var v,y=e.hoverData.last,m=e.hoverData.down,b=[c[0]-h[2],c[1]-h[3]],w=e.dragData.possibleDragElements;if(p){var E=u[0]-p[0],S=E*E,k=u[1]-p[1],P=S+k*k;e.hoverData.isOverThresholdDrag=v=P>=e.desktopTapThreshold2}var C=r(t);v&&(e.hoverData.tapholdCancelled=!0),i=!0,n(g,["mousemove","vmousemove","tapdrag"],t,{x:c[0],y:c[1]});var _=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:c[0],y:c[1]}}),h[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(v){var D={originalEvent:t,type:"cxtdrag",position:{x:c[0],y:c[1]}};m?m.emit(D):o.emit(D),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&g===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:c[0],y:c[1]}}),e.hoverData.cxtOver=g,g&&g.emit({originalEvent:t,type:"cxtdragover",position:{x:c[0],y:c[1]}}))}}else if(e.hoverData.dragging){if(i=!0,o.panningEnabled()&&o.userPanningEnabled()){var R;if(e.hoverData.justStartedPan){var O=e.hoverData.mdownPos;R={x:(c[0]-O[0])*l,y:(c[1]-O[1])*l},e.hoverData.justStartedPan=!1}else R={x:b[0]*l,y:b[1]*l};o.panBy(R),o.emit("dragpan"),e.hoverData.dragged=!0}c=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=h[4]||null!=m&&!m.pannable()){if(m&&m.pannable()&&m.active()&&m.unactivate(),m&&m.grabbed()||g==y||(y&&n(y,["mouseout","tapdragout"],t,{x:c[0],y:c[1]}),g&&n(g,["mouseover","tapdragover"],t,{x:c[0],y:c[1]}),e.hoverData.last=g),m)if(v){if(o.boxSelectionEnabled()&&C)m&&m.grabbed()&&(d(w),m.emit("freeon"),w.emit("free"),e.dragData.didDrag&&(m.emit("dragfreeon"),w.emit("dragfree"))),_();else if(m&&m.grabbed()&&e.nodeIsDraggable(m)){var T=!e.dragData.didDrag;T&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||s(w,{inDragLayer:!0});var B={x:0,y:0};if(M(b[0])&&M(b[1])&&(B.x+=b[0],B.y+=b[1],T)){var A=e.hoverData.dragDelta;A&&M(A[0])&&M(A[1])&&(B.x+=A[0],B.y+=A[1])}e.hoverData.draggingEles=!0,w.silentShift(B).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(b[0]),t.push(b[1])):(t[0]+=b[0],t[1]+=b[1])}();i=!0}else v&&(e.hoverData.dragging||!o.boxSelectionEnabled()||!C&&o.panningEnabled()&&o.userPanningEnabled()?!e.hoverData.selecting&&o.panningEnabled()&&o.userPanningEnabled()&&a(m,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,h[4]=0,e.data.bgActivePosistion=tt(f),e.redrawHint("select",!0),e.redraw()):_(),m&&m.pannable()&&m.active()&&m.unactivate());return h[2]=c[0],h[3]=c[1],i?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}}),!1),e.registerBinding(window,"mouseup",(function(a){if(e.hoverData.capture){e.hoverData.capture=!1;var i=e.cy,o=e.projectIntoViewport(a.clientX,a.clientY),l=e.selection,s=e.findNearestElement(o[0],o[1],!0,!1),u=e.dragData.possibleDragElements,c=e.hoverData.down,f=r(a);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,c&&c.unactivate(),3===e.hoverData.which){var p={originalEvent:a,type:"cxttapend",position:{x:o[0],y:o[1]}};if(c?c.emit(p):i.emit(p),!e.hoverData.cxtDragged){var h={originalEvent:a,type:"cxttap",position:{x:o[0],y:o[1]}};c?c.emit(h):i.emit(h)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(n(s,["mouseup","tapend","vmouseup"],a,{x:o[0],y:o[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||(n(c,["click","tap","vclick"],a,{x:o[0],y:o[1]}),b=!1,a.timeStamp-w<=i.multiClickDebounceTime()?(m&&clearTimeout(m),b=!0,w=null,n(c,["dblclick","dbltap","vdblclick"],a,{x:o[0],y:o[1]})):(m=setTimeout((function(){b||n(c,["oneclick","onetap","voneclick"],a,{x:o[0],y:o[1]})}),i.multiClickDebounceTime()),w=a.timeStamp)),null!=c||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||r(a)||(i.$(t).unselect(["tapunselect"]),u.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=u=i.collection()),s!=c||e.dragData.didDrag||e.hoverData.selecting||null!=s&&s._private.selectable&&(e.hoverData.dragging||("additive"===i.selectionType()||f?s.selected()?s.unselect(["tapunselect"]):s.select(["tapselect"]):f||(i.$(t).unmerge(s).unselect(["tapunselect"]),s.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var g=i.collection(e.getAllInBox(l[0],l[1],l[2],l[3]));e.redrawHint("select",!0),g.length>0&&e.redrawHint("eles",!0),i.emit({type:"boxend",originalEvent:a,position:{x:o[0],y:o[1]}});"additive"===i.selectionType()||f||i.$(t).unmerge(g).unselect(),g.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!l[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var v=c&&c.grabbed();d(u),v&&(c.emit("freeon"),u.emit("free"),e.dragData.didDrag&&(c.emit("dragfreeon"),u.emit("dragfree")))}}l[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}}),!1);var E,S,k,P,C,_,D,R,O,T,B,A,I,N=function(t){if(!e.scrollingPage){var n=e.cy,r=n.zoom(),a=n.pan(),i=e.projectIntoViewport(t.clientX,t.clientY),o=[i[0]*r+a.x,i[1]*r+a.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){var l;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout((function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()}),150),l=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,l*=e.wheelSensitivity,1===t.deltaMode&&(l*=33);var s=n.zoom()*Math.pow(10,l);"gesturechange"===t.type&&(s=e.gestureStartZoom*t.scale),n.zoom({level:s,renderedPosition:{x:o[0],y:o[1]}}),n.emit("gesturechange"===t.type?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",N,!0),e.registerBinding(window,"scroll",(function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout((function(){e.scrollingPage=!1}),250)}),!0),e.registerBinding(e.container,"gesturestart",(function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()}),!0),e.registerBinding(e.container,"gesturechange",(function(t){e.hasTouchStarted||N(t)}),!0),e.registerBinding(e.container,"mouseout",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),e.registerBinding(e.container,"mouseover",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var L,j,z,F,V,H,W,q=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},U=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",L=function(t){if(e.hasTouchStarted=!0,x(t)){p(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,a=e.touchData.now,i=e.touchData.earlier;if(t.touches[0]){var l=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);a[0]=l[0],a[1]=l[1]}if(t.touches[1]&&(l=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),a[2]=l[0],a[3]=l[1]),t.touches[2]&&(l=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),a[4]=l[0],a[5]=l[1]),t.touches[1]){e.touchData.singleTouchMoved=!0,d(e.dragData.touchDragEles);var u=e.findContainerClientCoords();O=u[0],T=u[1],B=u[2],A=u[3],E=t.touches[0].clientX-O,S=t.touches[0].clientY-T,k=t.touches[1].clientX-O,P=t.touches[1].clientY-T,I=0<=E&&E<=B&&0<=k&&k<=B&&0<=S&&S<=A&&0<=P&&P<=A;var f=r.pan(),h=r.zoom();if(C=q(E,S,k,P),_=U(E,S,k,P),R=[((D=[(E+k)/2,(S+P)/2])[0]-f.x)/h,(D[1]-f.y)/h],_<4e4&&!t.touches[2]){var g=e.findNearestElement(a[0],a[1],!0,!0),v=e.findNearestElement(a[2],a[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:a[0],y:a[1]}}),e.touchData.start=g):v&&v.isNode()?(v.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:a[0],y:a[1]}}),e.touchData.start=v):r.emit({originalEvent:t,type:"cxttapstart",position:{x:a[0],y:a[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])r.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var y=e.findNearestElements(a[0],a[1],!0,!0),m=y[0];if(null!=m&&(m.activate(),e.touchData.start=m,e.touchData.starts=y,e.nodeIsGrabbable(m))){var b=e.dragData.touchDragEles=r.collection(),w=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),m.selected()?(w=r.$((function(t){return t.selected()&&e.nodeIsGrabbable(t)})),s(w,{addToList:b})):c(m,{addToList:b}),o(m);var M=function(e){return{originalEvent:t,type:e,position:{x:a[0],y:a[1]}}};m.emit(M("grabon")),w?w.forEach((function(e){e.emit(M("grab"))})):m.emit(M("grab"))}n(m,["touchstart","tapstart","vmousedown"],t,{x:a[0],y:a[1]}),null==m&&(e.data.bgActivePosistion={x:l[0],y:l[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout((function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:a[0],y:a[1]})}),e.tapholdDuration)}if(t.touches.length>=1){for(var N=e.touchData.startPosition=[],L=0;L<a.length;L++)N[L]=i[L]=a[L];var j=t.touches[0];e.touchData.startGPosition=[j.clientX,j.clientY]}}},!1),e.registerBinding(window,"touchmove",j=function(t){var r=e.touchData.capture;if(r||x(t)){var i=e.selection,o=e.cy,l=e.touchData.now,u=e.touchData.earlier,c=o.zoom();if(t.touches[0]){var f=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);l[0]=f[0],l[1]=f[1]}t.touches[1]&&(f=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),l[2]=f[0],l[3]=f[1]),t.touches[2]&&(f=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),l[4]=f[0],l[5]=f[1]);var p,h=e.touchData.startGPosition;if(r&&t.touches[0]&&h){for(var g=[],v=0;v<l.length;v++)g[v]=l[v]-u[v];var y=t.touches[0].clientX-h[0],m=y*y,b=t.touches[0].clientY-h[1];p=m+b*b>=e.touchTapThreshold2}if(r&&e.touchData.cxt){t.preventDefault();var w=t.touches[0].clientX-O,D=t.touches[0].clientY-T,B=t.touches[1].clientX-O,A=t.touches[1].clientY-T,N=U(w,D,B,A);if(N/_>=2.25||N>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var L={originalEvent:t,type:"cxttapend",position:{x:l[0],y:l[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(L),e.touchData.start=null):o.emit(L)}}if(r&&e.touchData.cxt){L={originalEvent:t,type:"cxtdrag",position:{x:l[0],y:l[1]}},e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(L):o.emit(L),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var j=e.findNearestElement(l[0],l[1],!0,!0);e.touchData.cxtOver&&j===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:l[0],y:l[1]}}),e.touchData.cxtOver=j,j&&j.emit({originalEvent:t,type:"cxtdragover",position:{x:l[0],y:l[1]}}))}else if(r&&t.touches[2]&&o.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:l[0],y:l[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,i[4]=1,i&&0!==i.length&&void 0!==i[0]?(i[2]=(l[0]+l[2]+l[4])/3,i[3]=(l[1]+l[3]+l[5])/3):(i[0]=(l[0]+l[2]+l[4])/3,i[1]=(l[1]+l[3]+l[5])/3,i[2]=(l[0]+l[2]+l[4])/3+1,i[3]=(l[1]+l[3]+l[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(r&&t.touches[1]&&!e.touchData.didSelect&&o.zoomingEnabled()&&o.panningEnabled()&&o.userZoomingEnabled()&&o.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),ee=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var z=0;z<ee.length;z++){var F=ee[z]._private;F.grabbed=!1,F.rscratch.inDragLayer=!1}}var V=e.touchData.start,H=(w=t.touches[0].clientX-O,D=t.touches[0].clientY-T,B=t.touches[1].clientX-O,A=t.touches[1].clientY-T,q(w,D,B,A)),W=H/C;if(I){var K=(w-E+(B-k))/2,G=(D-S+(A-P))/2,Y=o.zoom(),X=Y*W,$=o.pan(),Q=R[0]*Y+$.x,Z=R[1]*Y+$.y,J={x:-X/Y*(Q-$.x-K)+Q,y:-X/Y*(Z-$.y-G)+Z};if(V&&V.active()){var ee=e.dragData.touchDragEles;d(ee),e.redrawHint("drag",!0),e.redrawHint("eles",!0),V.unactivate().emit("freeon"),ee.emit("free"),e.dragData.didDrag&&(V.emit("dragfreeon"),ee.emit("dragfree"))}o.viewport({zoom:X,pan:J,cancelOnFailedZoom:!0}),o.emit("pinchzoom"),C=H,E=w,S=D,k=B,P=A,e.pinching=!0}t.touches[0]&&(f=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),l[0]=f[0],l[1]=f[1]),t.touches[1]&&(f=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),l[2]=f[0],l[3]=f[1]),t.touches[2]&&(f=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),l[4]=f[0],l[5]=f[1])}else if(t.touches[0]&&!e.touchData.didSelect){var te=e.touchData.start,ne=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(j=e.findNearestElement(l[0],l[1],!0,!0)),r&&null!=te&&t.preventDefault(),r&&null!=te&&e.nodeIsDraggable(te))if(p){ee=e.dragData.touchDragEles;var re=!e.dragData.didDrag;re&&s(ee,{inDragLayer:!0}),e.dragData.didDrag=!0;var ae={x:0,y:0};M(g[0])&&M(g[1])&&(ae.x+=g[0],ae.y+=g[1],re&&(e.redrawHint("eles",!0),(ie=e.touchData.dragDelta)&&M(ie[0])&&M(ie[1])&&(ae.x+=ie[0],ae.y+=ie[1]))),e.hoverData.draggingEles=!0,ee.silentShift(ae).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==u[0]&&e.touchData.startPosition[1]==u[1]&&e.redrawHint("eles",!0),e.redraw()}else{var ie;0===(ie=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(ie.push(g[0]),ie.push(g[1])):(ie[0]+=g[0],ie[1]+=g[1])}if(n(te||j,["touchmove","tapdrag","vmousemove"],t,{x:l[0],y:l[1]}),te&&te.grabbed()||j==ne||(ne&&ne.emit({originalEvent:t,type:"tapdragout",position:{x:l[0],y:l[1]}}),j&&j.emit({originalEvent:t,type:"tapdragover",position:{x:l[0],y:l[1]}})),e.touchData.last=j,r)for(z=0;z<l.length;z++)l[z]&&e.touchData.startPosition[z]&&p&&(e.touchData.singleTouchMoved=!0);r&&(null==te||te.pannable())&&o.panningEnabled()&&o.userPanningEnabled()&&(a(te,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=tt(e.touchData.startPosition)),e.swipePanning?(o.panBy({x:g[0]*c,y:g[1]*c}),o.emit("dragpan")):p&&(e.swipePanning=!0,o.panBy({x:y*c,y:b*c}),o.emit("dragpan"),te&&(te.unactivate(),e.redrawHint("select",!0),e.touchData.start=null))),f=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),l[0]=f[0],l[1]=f[1])}for(v=0;v<l.length;v++)u[v]=l[v];r&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(window,"touchcancel",z=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",F=function(r){var a=e.touchData.start;if(e.touchData.capture){0===r.touches.length&&(e.touchData.capture=!1),r.preventDefault();var i=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var o,l=e.cy,s=l.zoom(),u=e.touchData.now,c=e.touchData.earlier;if(r.touches[0]){var f=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);u[0]=f[0],u[1]=f[1]}if(r.touches[1]&&(f=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY),u[2]=f[0],u[3]=f[1]),r.touches[2]&&(f=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY),u[4]=f[0],u[5]=f[1]),a&&a.unactivate(),e.touchData.cxt){if(o={originalEvent:r,type:"cxttapend",position:{x:u[0],y:u[1]}},a?a.emit(o):l.emit(o),!e.touchData.cxtDragged){var p={originalEvent:r,type:"cxttap",position:{x:u[0],y:u[1]}};a?a.emit(p):l.emit(p)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!r.touches[2]&&l.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var h=l.collection(e.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,e.redrawHint("select",!0),l.emit({type:"boxend",originalEvent:r,position:{x:u[0],y:u[1]}}),h.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),h.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=a&&a.unactivate(),r.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var g=e.dragData.touchDragEles;if(null!=a){var v=a._private.grabbed;d(g),e.redrawHint("drag",!0),e.redrawHint("eles",!0),v&&(a.emit("freeon"),g.emit("free"),e.dragData.didDrag&&(a.emit("dragfreeon"),g.emit("dragfree"))),n(a,["touchend","tapend","vmouseup","tapdragout"],r,{x:u[0],y:u[1]}),a.unactivate(),e.touchData.start=null}else{var y=e.findNearestElement(u[0],u[1],!0,!0);n(y,["touchend","tapend","vmouseup","tapdragout"],r,{x:u[0],y:u[1]})}var m=e.touchData.startPosition[0]-u[0],b=m*m,w=e.touchData.startPosition[1]-u[1],x=(b+w*w)*s*s;e.touchData.singleTouchMoved||(a||l.$(":selected").unselect(["tapunselect"]),n(a,["tap","vclick"],r,{x:u[0],y:u[1]}),V=!1,r.timeStamp-W<=l.multiClickDebounceTime()?(H&&clearTimeout(H),V=!0,W=null,n(a,["dbltap","vdblclick"],r,{x:u[0],y:u[1]})):(H=setTimeout((function(){V||n(a,["onetap","voneclick"],r,{x:u[0],y:u[1]})}),l.multiClickDebounceTime()),W=r.timeStamp)),null!=a&&!e.dragData.didDrag&&a._private.selectable&&x<e.touchTapThreshold2&&!e.pinching&&("single"===l.selectionType()?(l.$(t).unmerge(a).unselect(["tapunselect"]),a.select(["tapselect"])):a.selected()?a.unselect(["tapunselect"]):a.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var E=0;E<u.length;E++)c[E]=u[E];e.dragData.didDrag=!1,0===r.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null,e.touchData.didSelect=!1),r.touches.length<2&&(1===r.touches.length&&(e.touchData.startGPosition=[r.touches[0].clientX,r.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var K=[],G=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},Y=function(e){for(var t=0;t<K.length;t++)if(K[t].event.pointerId===e.pointerId)return void K.splice(t,1)},X=function(e){e.touches=K.map((function(e){return e.touch}))},$=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",(function(e){$(e)||(e.preventDefault(),function(e){K.push(function(e){return{event:e,touch:G(e)}}(e))}(e),X(e),L(e))})),e.registerBinding(e.container,"pointerup",(function(e){$(e)||(Y(e),X(e),F(e))})),e.registerBinding(e.container,"pointercancel",(function(e){$(e)||(Y(e),X(e),z())})),e.registerBinding(e.container,"pointermove",(function(e){$(e)||(e.preventDefault(),function(e){var t=K.filter((function(t){return t.event.pointerId===e.pointerId}))[0];t.event=e,t.touch=G(e)}(e),X(e),j(e))}))}};var Lo={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,a){this.renderer.nodeShapeImpl("polygon",e,t,n,r,a,this.points)},intersectLine:function(e,t,n,r,a,i,o){return Mt(a,i,this.points,e,t,n/2,r/2,o)},checkPoint:function(e,t,n,r,a,i,o){return Pt(e,t,this.points,i,o,r,a,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,a){this.renderer.nodeShapeImpl(this.name,e,t,n,r,a)},intersectLine:function(e,t,n,r,a,i,o){return function(e,t,n,r,a,i){var o=n-e,l=r-t;o/=a,l/=i;var s=Math.sqrt(o*o+l*l),u=s-1;if(u<0)return[];var c=u/s;return[(n-e)*c+e,(r-t)*c+t]}(a,i,e,t,n/2+o,r/2+o)},checkPoint:function(e,t,n,r,a,i,o){return Dt(e,t,r,a,i,o,n)}}},generateRoundPolygon:function(e,t){for(var n=new Array(2*t.length),r=0;r<t.length/2;r++){var a,i=2*r;a=r<t.length/2-1?2*(r+1):0,n[4*r]=t[i],n[4*r+1]=t[i+1];var o=t[a]-t[i],l=t[a+1]-t[i+1],s=Math.sqrt(o*o+l*l);n[4*r+2]=o/s,n[4*r+3]=l/s}return this.nodeShapes[e]={renderer:this,name:e,points:n,draw:function(e,t,n,r,a){this.renderer.nodeShapeImpl("round-polygon",e,t,n,r,a,this.points)},intersectLine:function(e,t,n,r,a,i,o){return function(e,t,n,r,a,i,o,l){for(var s,u=[],c=new Array(n.length),d=i/2,f=o/2,p=jt(i,o),h=0;h<n.length/4;h++){var g,v;v=0===h?n.length-2:4*h-2,g=4*h+2;var y=r+d*n[4*h],m=a+f*n[4*h+1],b=-n[v]*n[g]-n[v+1]*n[g+1],w=p/Math.tan(Math.acos(b)/2),x=y-w*n[v],E=m-w*n[v+1],S=y+w*n[g],k=m+w*n[g+1];0===h?(c[n.length-2]=x,c[n.length-1]=E):(c[4*h-2]=x,c[4*h-1]=E),c[4*h]=S,c[4*h+1]=k;var P=n[v+1],C=-n[v];P*n[g]+C*n[g+1]<0&&(P*=-1,C*=-1),0!==(s=Rt(e,t,r,a,x+P*p,E+C*p,p)).length&&u.push(s[0],s[1])}for(var _=0;_<c.length/4;_++)0!==(s=Tt(e,t,r,a,c[4*_],c[4*_+1],c[4*_+2],c[4*_+3],!1)).length&&u.push(s[0],s[1]);if(u.length>2){for(var D=[u[0],u[1]],R=Math.pow(D[0]-e,2)+Math.pow(D[1]-t,2),O=1;O<u.length/2;O++){var T=Math.pow(u[2*O]-e,2)+Math.pow(u[2*O+1]-t,2);T<=R&&(D[0]=u[2*O],D[1]=u[2*O+1],R=T)}return D}return u}(a,i,this.points,e,t,n,r)},checkPoint:function(e,t,n,r,a,i,o){return function(e,t,n,r,a,i,o){for(var l=new Array(n.length),s=i/2,u=o/2,c=jt(i,o),d=c*c,f=0;f<n.length/4;f++){var p,h;h=0===f?n.length-2:4*f-2,p=4*f+2;var g=r+s*n[4*f],v=a+u*n[4*f+1],y=-n[h]*n[p]-n[h+1]*n[p+1],m=c/Math.tan(Math.acos(y)/2),b=g-m*n[h],w=v-m*n[h+1],x=g+m*n[p],E=v+m*n[p+1];l[4*f]=b,l[4*f+1]=w,l[4*f+2]=x,l[4*f+3]=E;var S=n[h+1],k=-n[h];S*n[p]+k*n[p+1]<0&&(S*=-1,k*=-1);var P=b+S*c,C=w+k*c;if(Math.pow(P-e,2)+Math.pow(C-t,2)<=d)return!0}return kt(e,t,l)}(e,t,this.points,i,o,r,a)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:At(4,0),draw:function(e,t,n,r,a){this.renderer.nodeShapeImpl(this.name,e,t,n,r,a)},intersectLine:function(e,t,n,r,a,i,o){return bt(a,i,e,t,n,r,o)},checkPoint:function(e,t,n,r,a,i,o){var l=Lt(r,a),s=2*l;return!!(Pt(e,t,this.points,i,o,r,a-s,[0,-1],n)||Pt(e,t,this.points,i,o,r-s,a,[0,-1],n)||Dt(e,t,s,s,i-r/2+l,o-a/2+l,n)||Dt(e,t,s,s,i+r/2-l,o-a/2+l,n)||Dt(e,t,s,s,i+r/2-l,o+a/2-l,n)||Dt(e,t,s,s,i-r/2+l,o+a/2-l,n))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:At(4,0),draw:function(e,t,n,r,a){this.renderer.nodeShapeImpl(this.name,e,t,n,r,a)},generateCutTrianglePts:function(e,t,n,r){var a=this.cornerLength,i=t/2,o=e/2,l=n-o,s=n+o,u=r-i,c=r+i;return{topLeft:[l,u+a,l+a,u,l+a,u+a],topRight:[s-a,u,s,u+a,s-a,u+a],bottomRight:[s,c-a,s-a,c,s-a,c-a],bottomLeft:[l+a,c,l,c-a,l+a,c-a]}},intersectLine:function(e,t,n,r,a,i,o){var l=this.generateCutTrianglePts(n+2*o,r+2*o,e,t),s=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Mt(a,i,s,e,t)},checkPoint:function(e,t,n,r,a,i,o){if(Pt(e,t,this.points,i,o,r,a-2*this.cornerLength,[0,-1],n))return!0;if(Pt(e,t,this.points,i,o,r-2*this.cornerLength,a,[0,-1],n))return!0;var l=this.generateCutTrianglePts(r,a,i,o);return kt(e,t,l.topLeft)||kt(e,t,l.topRight)||kt(e,t,l.bottomRight)||kt(e,t,l.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:At(4,0),draw:function(e,t,n,r,a){this.renderer.nodeShapeImpl(this.name,e,t,n,r,a)},intersectLine:function(e,t,n,r,a,i,o){var l=this.generateBarrelBezierPts(n+2*o,r+2*o,e,t),s=function(e){var t=ut({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=ut({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=ut({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},u=[].concat(s(l.topLeft),s(l.topRight),s(l.bottomRight),s(l.bottomLeft));return Mt(a,i,u,e,t)},generateBarrelBezierPts:function(e,t,n,r){var a=t/2,i=e/2,o=n-i,l=n+i,s=r-a,u=r+a,c=zt(e,t),d=c.heightOffset,f=c.widthOffset,p=c.ctrlPtOffsetPct*e,h={topLeft:[o,s+d,o+p,s,o+f,s],topRight:[l-f,s,l-p,s,l,s+d],bottomRight:[l,u-d,l-p,u,l-f,u],bottomLeft:[o+f,u,o+p,u,o,u-d]};return h.topLeft.isTop=!0,h.topRight.isTop=!0,h.bottomLeft.isBottom=!0,h.bottomRight.isBottom=!0,h},checkPoint:function(e,t,n,r,a,i,o){var l=zt(r,a),s=l.heightOffset,u=l.widthOffset;if(Pt(e,t,this.points,i,o,r,a-2*s,[0,-1],n))return!0;if(Pt(e,t,this.points,i,o,r-2*u,a,[0,-1],n))return!0;for(var c=this.generateBarrelBezierPts(r,a,i,o),d=function(e,t,n){var r,a,i=n[4],o=n[2],l=n[0],s=n[5],u=n[1],c=Math.min(i,l),d=Math.max(i,l),f=Math.min(s,u),p=Math.max(s,u);if(c<=e&&e<=d&&f<=t&&t<=p){var h=[(r=i)-2*(a=o)+l,2*(a-r),r],g=function(e,t,n,r){var a=t*t-4*e*(n-=r);if(a<0)return[];var i=Math.sqrt(a),o=2*e;return[(-t+i)/o,(-t-i)/o]}(h[0],h[1],h[2],e).filter((function(e){return 0<=e&&e<=1}));if(g.length>0)return g[0]}return null},f=Object.keys(c),p=0;p<f.length;p++){var h=c[f[p]],g=d(e,t,h);if(null!=g){var v=h[5],y=h[3],m=h[1],b=st(v,y,m,g);if(h.isTop&&b<=t)return!0;if(h.isBottom&&t<=b)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:At(4,0),draw:function(e,t,n,r,a){this.renderer.nodeShapeImpl(this.name,e,t,n,r,a)},intersectLine:function(e,t,n,r,a,i,o){var l=t-(r/2+o),s=Tt(a,i,e,t,e-(n/2+o),l,e+(n/2+o),l,!1);return s.length>0?s:bt(a,i,e,t,n,r,o)},checkPoint:function(e,t,n,r,a,i,o){var l=Lt(r,a),s=2*l;if(Pt(e,t,this.points,i,o,r,a-s,[0,-1],n))return!0;if(Pt(e,t,this.points,i,o,r-s,a,[0,-1],n))return!0;var u=r/2+2*n,c=a/2+2*n;return!!kt(e,t,[i-u,o-c,i-u,o,i+u,o,i+u,o-c])||!!Dt(e,t,s,s,i+r/2-l,o+a/2-l,n)||!!Dt(e,t,s,s,i-r/2+l,o+a/2-l,n)}}},registerNodeShapes:function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",At(3,0)),this.generateRoundPolygon("round-triangle",At(3,0)),this.generatePolygon("rectangle",At(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",At(5,0)),this.generateRoundPolygon("round-pentagon",At(5,0)),this.generatePolygon("hexagon",At(6,0)),this.generateRoundPolygon("round-hexagon",At(6,0)),this.generatePolygon("heptagon",At(7,0)),this.generateRoundPolygon("round-heptagon",At(7,0)),this.generatePolygon("octagon",At(8,0)),this.generateRoundPolygon("round-octagon",At(8,0));var r=new Array(20),a=Nt(5,0),i=Nt(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var l=0;l<i.length/2;l++)i[2*l]*=o,i[2*l+1]*=o;for(l=0;l<5;l++)r[4*l]=a[2*l],r[4*l+1]=a[2*l+1],r[4*l+2]=i[2*l],r[4*l+3]=i[2*l+1];r=It(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var s=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",s),this.generateRoundPolygon("round-tag",s),e.makePolygon=function(e){var n,r="polygon-"+e.join("$");return(n=this[r])?n:t.generatePolygon(r,e)}}},jo={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||De();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&Ee("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort((function(e,t){return t.priority-e.priority}))}}},zo=function(e,t,n){for(var r=e.beforeRenderCallbacks,a=0;a<r.length;a++)r[a].fn(t,n)};jo.startRenderLoop=function(){var e=this,t=e.cy;e.renderLoopStarted||(e.renderLoopStarted=!0,te((function n(r){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){zo(e,!0,r);var a=ne();e.render(e.renderOptions);var i=e.lastDrawTime=ne();void 0===e.averageRedrawTime&&(e.averageRedrawTime=i-a),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var o=i-a;e.redrawTotalTime+=o,e.lastRedrawTime=o,e.averageRedrawTime=e.averageRedrawTime/2+o/2,e.requestedFrame=!1}else zo(e,!1,r);e.skipFrame=!1,te(n)}})))};var Fo=function(e){this.init(e)},Vo=Fo.prototype;Vo.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Vo.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(x){var r=x.document,a=r.head,i="__________cytoscape_stylesheet",o="__________cytoscape_container",l=null!=r.getElementById(i);if(n.className.indexOf(o)<0&&(n.className=(n.className||"")+" "+o),!l){var s=r.createElement("style");s.id=i,s.innerHTML="."+o+" { position: relative; }",a.insertBefore(s,a.children[0])}"static"===x.getComputedStyle(n).getPropertyValue("position")&&ke("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=M(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},Vo.notify=function(e,t){var n=this,r=n.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&r.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},Vo.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},Vo.isHeadless=function(){return!1},[xo,Ao,Io,No,Lo,jo].forEach((function(e){Y(Vo,e)}));var Ho=1e3/60,Wo=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var r=u.default((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),e.deqRedrawThreshold),a=e.priority||xe;n.beforeRender((function(a,i){var o=ne(),l=n.averageRedrawTime,s=n.lastRedrawTime,u=[],c=n.cy.extent(),d=n.getPixelRatio();for(a||n.flushRenderedStyleQueue();;){var f=ne(),p=f-o,h=f-i;if(s<Ho){var g=Ho-(a?l:0);if(h>=e.deqFastCost*g)break}else if(a){if(p>=e.deqCost*s||p>=e.deqAvgCost*l)break}else if(h>=e.deqNoDrawCost*Ho)break;var v=e.deq(t,d,c);if(!(v.length>0))break;for(var y=0;y<v.length;y++)u.push(v[y])}u.length>0&&(e.onDeqd(t,u),!a&&e.shouldRedraw(t,u,d,c)&&r())}),a(t))}}},qo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be;g(this,e),this.idsByKey=new Ae,this.keyForId=new Ae,this.cachesByLvl=new Ae,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return y(e,[{key:"getIdsFor",value:function(e){null==e&&Ee("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new Ne,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),r=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(r,t),this.keyForId.set(t,r)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,r=t.get(e);return r||(r=new Ae,t.set(e,r),n.push(e)),r}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),r=this.getCache(n,t);return null!=r&&this.updateKeyMappingFor(e),r}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var r=this.getKey(e);this.setCache(r,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach((function(n){return t.deleteCache(e,n)}))}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var r=this.doesEleInvalidateKey(e);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}]),e}(),Uo={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Ko=Re({getKey:null,doesEleInvalidateKey:be,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:me,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Go=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var r=Ko(t);Y(n,r),n.lookup=new qo(r.getKey,r.doesEleInvalidateKey),n.setupDequeueing()},Yo=Go.prototype;Yo.reasons=Uo,Yo.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},Yo.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},Yo.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new c.default((function(e,t){return t.reqs-e.reqs}))},Yo.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Yo.getElement=function(e,t,n,r,a){var i=this,o=this.renderer,l=o.cy.zoom(),s=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!i.allowEdgeTxrCaching&&e.isEdge()||!i.allowParentTxrCaching&&e.isParent())return null;if(null==r&&(r=Math.ceil(rt(l*n))),r<-4)r=-4;else if(l>=7.99||r>3)return null;var u=Math.pow(2,r),c=t.h*u,d=t.w*u,f=o.eleTextBiggerThanMin(e,u);if(!this.isVisible(e,f))return null;var p,h=s.get(e,r);if(h&&h.invalidated&&(h.invalidated=!1,h.texture.invalidatedWidth-=h.width),h)return h;if(p=c<=25?25:c<=50?50:50*Math.ceil(c/50),c>1024||d>1024)return null;var g=i.getTextureQueue(p),v=g[g.length-2],y=function(){return i.recycleTexture(p,d)||i.addTexture(p,d)};v||(v=g[g.length-1]),v||(v=y()),v.width-v.usedWidth<d&&(v=y());for(var m,b=function(e){return e&&e.scaledLabelShown===f},w=a&&a===Uo.dequeue,x=a&&a===Uo.highQuality,E=a&&a===Uo.downscale,S=r+1;S<=3;S++){var k=s.get(e,S);if(k){m=k;break}}var P=m&&m.level===r+1?m:null,C=function(){v.context.drawImage(P.texture.canvas,P.x,0,P.width,P.height,v.usedWidth,0,d,c)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,d,p),b(P))C();else if(b(m)){if(!x)return i.queueElement(e,m.level-1),m;for(var _=m.level;_>r;_--)P=i.getElement(e,t,n,_,Uo.downscale);C()}else{var D;if(!w&&!x&&!E)for(var R=r-1;R>=-4;R--){var O=s.get(e,R);if(O){D=O;break}}if(b(D))return i.queueElement(e,r),D;v.context.translate(v.usedWidth,0),v.context.scale(u,u),this.drawElement(v.context,e,t,f,!1),v.context.scale(1/u,1/u),v.context.translate(-v.usedWidth,0)}return h={x:v.usedWidth,texture:v,level:r,scale:u,width:d,height:c,scaledLabelShown:f},v.usedWidth+=Math.ceil(d+8),v.eleCaches.push(h),s.set(e,r,h),i.checkTextureFullness(v),h},Yo.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Yo.invalidateElement=function(e){var t=this,n=t.lookup,r=[];if(n.isInvalid(e)){for(var a=-4;a<=3;a++){var i=n.getForCachedKey(e,a);i&&r.push(i)}if(n.invalidate(e))for(var o=0;o<r.length;o++){var l=r[o],s=l.texture;s.invalidatedWidth+=l.width,l.invalidated=!0,t.checkTextureUtility(s)}t.removeFromQueue(e)}},Yo.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},Yo.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?Oe(t,e):e.fullnessChecks++},Yo.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),r=this.lookup;Oe(n,e),e.retired=!0;for(var a=e.eleCaches,i=0;i<a.length;i++){var o=a[i];r.deleteCache(o.key,o.level)}Te(a),this.getRetiredTextureQueue(t).push(e)},Yo.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Yo.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),a=0;a<r.length;a++){var i=r[a];if(i.width>=t)return i.retired=!1,i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,Te(i.eleCaches),i.context.setTransform(1,0,0,1,0,0),i.context.clearRect(0,0,i.width,i.height),Oe(r,i),n.push(i),i}},Yo.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),a=this.getKey(e),i=r[a];if(i)i.level=Math.max(i.level,t),i.eles.merge(e),i.reqs++,n.updateItem(i);else{var o={eles:e.spawn().merge(e),level:t,reqs:1,key:a};n.push(o),r[a]=o}},Yo.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),a=[],i=t.lookup,o=0;o<1&&n.size()>0;o++){var l=n.pop(),s=l.key,u=l.eles[0],c=i.hasCache(u,l.level);if(r[s]=null,!c){a.push(l);var d=t.getBoundingBox(u);t.getElement(u,d,e,l.level,Uo.dequeue)}}return a},Yo.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(e),a=n[r];null!=a&&(1===a.eles.length?(a.reqs=ye,t.updateItem(a),t.pop(),n[r]=null):a.eles.unmerge(e))},Yo.onDequeue=function(e){this.onDequeues.push(e)},Yo.offDequeue=function(e){Oe(this.onDequeues,e)},Yo.setupDequeueing=Wo({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++)(0,e.onDequeues[n])(t)},shouldRedraw:function(e,t,n,r){for(var a=0;a<t.length;a++)for(var i=t[a].eles,o=0;o<i.length;o++){var l=i[o].boundingBox();if(vt(l,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Xo=function(e){var t=this,n=t.renderer=e,r=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=ne()-500,t.skipping=!1,t.eleTxrDeqs=r.collection(),t.scheduleElementRefinement=u.default((function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)}),50),n.beforeRender((function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1}),n.beforeRenderPriorities.lyrTxrSkip),t.layersQueue=new c.default((function(e,t){return t.reqs-e.reqs})),t.setupDequeueing()},$o=Xo.prototype,Qo=0,Zo=Math.pow(2,53)-1;$o.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),a=Math.ceil(e.h*n),i=this.renderer.makeOffscreenCanvas(r,a),o={id:Qo=++Qo%Zo,bb:e,level:t,width:r,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=o.context,s=-o.bb.x1,u=-o.bb.y1;return l.scale(n,n),l.translate(s,u),o},$o.getLayers=function(e,t,n){var r=this,a=r.renderer.cy.zoom(),i=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(rt(a*t)))<-4)n=-4;else if(a>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var o,l,s=r.layersByLevel,u=Math.pow(2,n),c=s[n]=s[n]||[];if(r.levelIsComplete(n,e))return c;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return l=s[t],!0},a=function(e){if(!l)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};a(1),a(-1);for(var i=c.length-1;i>=0;i--){var o=c[i];o.invalid&&Oe(c,o)}}();var d=function(t){var a=(t=t||{}).after;if(function(){if(!o){o=dt();for(var t=0;t<e.length;t++)n=o,r=e[t].boundingBox(),n.x1=Math.min(n.x1,r.x1),n.x2=Math.max(n.x2,r.x2),n.w=n.x2-n.x1,n.y1=Math.min(n.y1,r.y1),n.y2=Math.max(n.y2,r.y2),n.h=n.y2-n.y1}var n,r}(),o.w*u*(o.h*u)>16e6)return null;var i=r.makeLayer(o,n);if(null!=a){var l=c.indexOf(a)+1;c.splice(l,0,i)}else(void 0===t.insert||t.insert)&&c.unshift(i);return i};if(r.skipping&&!i)return null;for(var f=null,p=e.length/1,h=!i,g=0;g<e.length;g++){var v=e[g],y=v._private.rscratch,m=y.imgLayerCaches=y.imgLayerCaches||{},b=m[n];if(b)f=b;else{if((!f||f.eles.length>=p||!mt(f.bb,v.boundingBox()))&&!(f=d({insert:!0,after:f})))return null;l||h?r.queueLayer(f,v):r.drawEleInLayer(f,v,n,t),f.eles.push(v),m[n]=f}}return l||(h?null:c)},$o.getEleLevelForLayerLevel=function(e,t){return e},$o.drawEleInLayer=function(e,t,n,r){var a=this.renderer,i=e.context,o=t.boundingBox();0!==o.w&&0!==o.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,r),a.setImgSmoothing(i,!1),a.drawCachedElement(i,t,null,null,n,!0),a.setImgSmoothing(i,!0))},$o.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,a=0;a<n.length;a++){var i=n[a];if(i.reqs>0)return!1;if(i.invalid)return!1;r+=i.eles.length}return r===t.length},$o.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var a=n[r],i=-1,o=0;o<t.length;o++)if(a.eles[0]===t[o]){i=o;break}if(i<0)this.invalidateLayer(a);else{var l=i;for(o=0;o<a.eles.length;o++)if(a.eles[o]!==t[l+o]){this.invalidateLayer(a);break}}}},$o.updateElementsInLayers=function(e,t){for(var n=I(e[0]),r=0;r<e.length;r++)for(var a=n?null:e[r],i=n?e[r]:e[r].ele,o=i._private.rscratch,l=o.imgLayerCaches=o.imgLayerCaches||{},s=-4;s<=2;s++){var u=l[s];u&&(a&&this.getEleLevelForLayerLevel(u.level)!==a.level||t(u,i,a))}},$o.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},$o.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=ne(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,(function(e,n,r){t.invalidateLayer(e)})))},$o.invalidateLayer=function(e){if(this.lastInvalidationTime=ne(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];Oe(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<n.length;a++){var i=n[a]._private.rscratch.imgLayerCaches;i&&(i[t]=null)}}},$o.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,(function(e,n,r){var a=e.replacement;if(a||((a=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,a.eles=e.eles),!a.reqs)for(var i=0;i<a.eles.length;i++)t.queueLayer(a,a.eles[i])}))},$o.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},$o.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,a=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;r.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},$o.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],a=0;a<1&&0!==n.size();){var i=n.peek();if(i.replacement)n.pop();else if(i.replaces&&i!==i.replaces.replacement)n.pop();else if(i.invalid)n.pop();else{var o=i.elesQueue.shift();o&&(t.drawEleInLayer(i,o,i.level,e),a++),0===r.length&&r.push(!0),0===i.elesQueue.length&&(n.pop(),i.reqs=0,i.replaces&&t.applyLayerReplacement(i),t.requestRedraw())}}return r},$o.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var a=0;a<e.eles.length;a++){var i=e.eles[a]._private,o=i.imgLayerCaches=i.imgLayerCaches||{};o&&(o[e.level]=e)}this.requestRedraw()}},$o.requestRedraw=u.default((function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()}),100),$o.setupDequeueing=Wo({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:xe,shouldRedraw:me,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Jo,el={};function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function nl(e,t,n){for(var r,a=0;a<t.length;a++){var i=t[a];0===a&&(r=i),e.lineTo(i.x,i.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function rl(e,t,n){e.beginPath&&e.beginPath();for(var r=t,a=0;a<r.length;a++){var i=r[a];e.lineTo(i.x,i.y)}var o=n,l=n[0];for(e.moveTo(l.x,l.y),a=1;a<o.length;a++)i=o[a],e.lineTo(i.x,i.y);e.closePath&&e.closePath()}function al(e,t,n,r,a){e.beginPath&&e.beginPath(),e.arc(n,r,a,0,2*Math.PI,!1);var i=t,o=i[0];e.moveTo(o.x,o.y);for(var l=0;l<i.length;l++){var s=i[l];e.lineTo(s.x,s.y)}e.closePath&&e.closePath()}function il(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}el.arrowShapeImpl=function(e){return(Jo||(Jo={polygon:tl,"triangle-backcurve":nl,"triangle-tee":rl,"circle-triangle":al,"triangle-cross":rl,circle:il}))[e]};var ol={drawElement:function(e,t,n,r,a,i){t.isNode()?this.drawNode(e,t,n,r,a,i):this.drawEdge(e,t,n,r,a,i)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawElementUnderlay:function(e,t){t.isNode()?this.drawNodeUnderlay(e,t):this.drawEdgeUnderlay(e,t)},drawCachedElementPortion:function(e,t,n,r,a,i,o,l){var s=this,u=n.getBoundingBox(t);if(0!==u.w&&0!==u.h){var c=n.getElement(t,u,r,a,i);if(null!=c){var d=l(s,t);if(0===d)return;var f,p,h,g,v,y,m=o(s,t),b=u.x1,w=u.y1,x=u.w,E=u.h;if(0!==m){var S=n.getRotationPoint(t);h=S.x,g=S.y,e.translate(h,g),e.rotate(m),(v=s.getImgSmoothing(e))||s.setImgSmoothing(e,!0);var k=n.getRotationOffset(t);f=k.x,p=k.y}else f=b,p=w;1!==d&&(y=e.globalAlpha,e.globalAlpha=y*d),e.drawImage(c.texture.canvas,c.x,0,c.width,c.height,f,p,x,E),1!==d&&(e.globalAlpha=y),0!==m&&(e.rotate(-m),e.translate(-h,-g),v||s.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},ll=function(){return 0},sl=function(e,t){return e.getTextAngle(t,null)},ul=function(e,t){return e.getTextAngle(t,"source")},cl=function(e,t){return e.getTextAngle(t,"target")},dl=function(e,t){return t.effectiveOpacity()},fl=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};ol.drawCachedElement=function(e,t,n,r,a,i){var o=this,l=o.data,s=l.eleTxrCache,u=l.lblTxrCache,c=l.slbTxrCache,d=l.tlbTxrCache,f=t.boundingBox(),p=!0===i?s.reasons.highQuality:null;if(0!==f.w&&0!==f.h&&t.visible()&&(!r||vt(f,r))){var h=t.isEdge(),g=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,s,n,a,p,ll,dl),h&&g||o.drawCachedElementPortion(e,t,u,n,a,p,sl,fl),h&&!g&&(o.drawCachedElementPortion(e,t,c,n,a,p,ul,fl),o.drawCachedElementPortion(e,t,d,n,a,p,cl,fl)),o.drawElementOverlay(e,t)}},ol.drawElements=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},ol.drawCachedElements=function(e,t,n,r){for(var a=0;a<t.length;a++){var i=t[a];this.drawCachedElement(e,i,n,r)}},ol.drawCachedNodes=function(e,t,n,r){for(var a=0;a<t.length;a++){var i=t[a];i.isNode()&&this.drawCachedElement(e,i,n,r)}},ol.drawLayeredElements=function(e,t,n,r){var a=this.data.lyrTxrCache.getLayers(t,n);if(a)for(var i=0;i<a.length;i++){var o=a[i],l=o.bb;0!==l.w&&0!==l.h&&e.drawImage(o.canvas,l.x1,l.y1,l.w,l.h)}else this.drawCachedElements(e,t,n,r)};var pl={drawEdge:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this,l=t._private.rscratch;if((!i||t.visible())&&!l.badLine&&null!=l.allpts&&!isNaN(l.allpts[0])){var s;n&&(s=n,e.translate(-s.x1,-s.y1));var u=i?t.pstyle("opacity").value:1,c=i?t.pstyle("line-opacity").value:1,d=t.pstyle("curve-style").value,f=t.pstyle("line-style").value,p=t.pstyle("width").pfValue,h=t.pstyle("line-cap").value,g=u*c,v=u*c,y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;"straight-triangle"===d?(o.eleStrokeStyle(e,t,n),o.drawEdgeTrianglePath(t,e,l.allpts)):(e.lineWidth=p,e.lineCap=h,o.eleStrokeStyle(e,t,n),o.drawEdgePath(t,e,l.allpts,f),e.lineCap="butt")},m=function(){a&&o.drawEdgeOverlay(e,t)},b=function(){a&&o.drawEdgeUnderlay(e,t)},w=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;o.drawArrowheads(e,t,n)},x=function(){o.drawElementText(e,t,null,r)};e.lineJoin="round";var E="yes"===t.pstyle("ghost").value;if(E){var S=t.pstyle("ghost-offset-x").pfValue,k=t.pstyle("ghost-offset-y").pfValue,P=t.pstyle("ghost-opacity").value,C=g*P;e.translate(S,k),y(C),w(C),e.translate(-S,-k)}b(),y(),w(),m(),x(),n&&e.translate(s.x1,s.y1)}}},hl=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var r=n.pstyle("".concat(e,"-opacity")).value;if(0!==r){var a=this,i=a.usePaths(),o=n._private.rscratch,l=2*n.pstyle("".concat(e,"-padding")).pfValue,s=n.pstyle("".concat(e,"-color")).value;t.lineWidth=l,"self"!==o.edgeType||i?t.lineCap="round":t.lineCap="butt",a.colorStrokeStyle(t,s[0],s[1],s[2],r),a.drawEdgePath(n,t,o.allpts,"solid")}}}};pl.drawEdgeOverlay=hl("overlay"),pl.drawEdgeUnderlay=hl("underlay"),pl.drawEdgePath=function(e,t,n,r){var a,i=e._private.rscratch,o=t,l=!1,s=this.usePaths(),u=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(s){var d=n.join("$");i.pathCacheKey&&i.pathCacheKey===d?(a=t=i.pathCache,l=!0):(a=t=new Path2D,i.pathCacheKey=d,i.pathCache=a)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(u),o.lineDashOffset=c;break;case"solid":o.setLineDash([])}if(!l&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var f=2;f+3<n.length;f+=4)t.quadraticCurveTo(n[f],n[f+1],n[f+2],n[f+3]);break;case"straight":case"segments":case"haystack":for(var p=2;p+1<n.length;p+=2)t.lineTo(n[p],n[p+1])}t=o,s?t.stroke(a):t.stroke(),t.setLineDash&&t.setLineDash([])},pl.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var r=e.pstyle("width").pfValue,a=0;a+1<n.length;a+=2){var i=[n[a+2]-n[a],n[a+3]-n[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),l=[i[1]/o,-i[0]/o],s=[l[0]*r/2,l[1]*r/2];t.beginPath(),t.moveTo(n[a]-s[0],n[a+1]-s[1]),t.lineTo(n[a]+s[0],n[a+1]+s[1]),t.lineTo(n[a+2],n[a+3]),t.closePath(),t.fill()}},pl.drawArrowheads=function(e,t,n){var r=t._private.rscratch,a="haystack"===r.edgeType;a||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),a||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},pl.drawArrowhead=function(e,t,n,r,a,i,o){if(!(isNaN(r)||null==r||isNaN(a)||null==a||isNaN(i)||null==i)){var l=this,s=t.pstyle(n+"-arrow-shape").value;if("none"!==s){var u="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,d=t.pstyle("width").pfValue,f=t.pstyle("opacity").value;void 0===o&&(o=f);var p=e.globalCompositeOperation;1===o&&"hollow"!==c||(e.globalCompositeOperation="destination-out",l.colorFillStyle(e,255,255,255,1),l.colorStrokeStyle(e,255,255,255,1),l.drawArrowShape(t,e,u,d,s,r,a,i),e.globalCompositeOperation=p);var h=t.pstyle(n+"-arrow-color").value;l.colorFillStyle(e,h[0],h[1],h[2],o),l.colorStrokeStyle(e,h[0],h[1],h[2],o),l.drawArrowShape(t,e,c,d,s,r,a,i)}}},pl.drawArrowShape=function(e,t,n,r,a,i,o,l){var s,u=this,c=this.usePaths()&&"triangle-cross"!==a,d=!1,f=t,p={x:i,y:o},h=e.pstyle("arrow-scale").value,g=this.getArrowWidth(r,h),v=u.arrowShapes[a];if(c){var y=u.arrowPathCache=u.arrowPathCache||[],m=de(a),b=y[m];null!=b?(s=t=b,d=!0):(s=t=new Path2D,y[m]=s)}d||(t.beginPath&&t.beginPath(),c?v.draw(t,1,0,{x:0,y:0},1):v.draw(t,g,l,p,r),t.closePath&&t.closePath()),t=f,c&&(t.translate(i,o),t.rotate(l),t.scale(g,g)),"filled"!==n&&"both"!==n||(c?t.fill(s):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=(v.matchEdgeWidth?r:1)/(c?g:1),t.lineJoin="miter",c?t.stroke(s):t.stroke()),c&&(t.scale(1/g,1/g),t.rotate(-l),t.translate(-i,-o))};var gl={safeDrawImage:function(e,t,n,r,a,i,o,l,s,u){if(!(a<=0||i<=0||s<=0||u<=0))try{e.drawImage(t,n,r,a,i,o,l,s,u)}catch(e){ke(e)}},drawInscribedImage:function(e,t,n,r,a){var i=this,o=n.position(),l=o.x,s=o.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),d=c(n,"background-fit","value",r),f=c(n,"background-repeat","value",r),p=n.width(),h=n.height(),g=2*n.padding(),v=p+("inner"===c(n,"background-width-relative-to","value",r)?0:g),y=h+("inner"===c(n,"background-height-relative-to","value",r)?0:g),m=n._private.rscratch,b="node"===c(n,"background-clip","value",r),w=c(n,"background-image-opacity","value",r)*a,x=c(n,"background-image-smoothing","value",r),E=t.width||t.cachedW,S=t.height||t.cachedH;null!=E&&null!=S||(document.body.appendChild(t),E=t.cachedW=t.width||t.offsetWidth,S=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var k=E,P=S;if("auto"!==c(n,"background-width","value",r)&&(k="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*v:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(P="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*y:c(n,"background-height","pfValue",r)),0!==k&&0!==P){if("contain"===d)k*=C=Math.min(v/k,y/P),P*=C;else if("cover"===d){var C;k*=C=Math.max(v/k,y/P),P*=C}var _=l-v/2,D=c(n,"background-position-x","units",r),R=c(n,"background-position-x","pfValue",r);_+="%"===D?(v-k)*R:R;var O=c(n,"background-offset-x","units",r),T=c(n,"background-offset-x","pfValue",r);_+="%"===O?(v-k)*T:T;var M=s-y/2,B=c(n,"background-position-y","units",r),A=c(n,"background-position-y","pfValue",r);M+="%"===B?(y-P)*A:A;var I=c(n,"background-offset-y","units",r),N=c(n,"background-offset-y","pfValue",r);M+="%"===I?(y-P)*N:N,m.pathCache&&(_-=l,M-=s,l=0,s=0);var L=e.globalAlpha;e.globalAlpha=w;var j=i.getImgSmoothing(e),z=!1;if("no"===x&&j?(i.setImgSmoothing(e,!1),z=!0):"yes"!==x||j||(i.setImgSmoothing(e,!0),z=!0),"no-repeat"===f)b&&(e.save(),m.pathCache?e.clip(m.pathCache):(i.nodeShapes[i.getNodeShape(n)].draw(e,l,s,v,y),e.clip())),i.safeDrawImage(e,t,0,0,E,S,_,M,k,P),b&&e.restore();else{var F=e.createPattern(t,f);e.fillStyle=F,i.nodeShapes[i.getNodeShape(n)].draw(e,l,s,v,y),e.translate(_,M),e.fill(),e.translate(-_,-M)}e.globalAlpha=L,z&&i.setImgSmoothing(e,j)}}},vl={};function yl(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+a-i),e.quadraticCurveTo(t+r,n+a,t+r-i,n+a),e.lineTo(t+i,n+a),e.quadraticCurveTo(t,n+a,t,n+a-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),e.fill()}vl.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),a=Math.ceil(rt(n*r));t=Math.pow(2,a)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},vl.drawElementText=function(e,t,n,r,a){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this;if(null==r){if(i&&!o.eleTextBiggerThanMin(t))return}else if(!1===r)return;if(t.isNode()){var l=t.pstyle("label");if(!l||!l.value)return;var s=o.getLabelJustification(t);e.textAlign=s,e.textBaseline="bottom"}else{var u=t.element()._private.rscratch.badLine,c=t.pstyle("label"),d=t.pstyle("source-label"),f=t.pstyle("target-label");if(u||(!c||!c.value)&&(!d||!d.value)&&(!f||!f.value))return;e.textAlign="center",e.textBaseline="bottom"}var p,h=!n;n&&(p=n,e.translate(-p.x1,-p.y1)),null==a?(o.drawText(e,t,null,h,i),t.isEdge()&&(o.drawText(e,t,"source",h,i),o.drawText(e,t,"target",h,i))):o.drawText(e,t,a,h,i),n&&e.translate(p.x1,p.y1)},vl.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},vl.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pstyle("font-style").strValue,a=t.pstyle("font-size").pfValue+"px",i=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,l=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,s=t.pstyle("text-outline-opacity").value*l,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=r+" "+o+" "+a+" "+i,e.lineJoin="round",this.colorFillStyle(e,u[0],u[1],u[2],l),this.colorStrokeStyle(e,c[0],c[1],c[2],s)},vl.getTextAngle=function(e,t){var n=e._private.rscratch,r=t?t+"-":"",a=e.pstyle(r+"text-rotation"),i=Me(n,"labelAngle",t);return"autorotate"===a.strValue?e.isEdge()?i:0:"none"===a.strValue?0:a.pfValue},vl.drawText=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=t._private,o=i.rscratch,l=a?t.effectiveOpacity():1;if(!a||0!==l&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var s,u,c=Me(o,"labelX",n),d=Me(o,"labelY",n),f=this.getLabelText(t,n);if(null!=f&&""!==f&&!isNaN(c)&&!isNaN(d)){this.setupTextStyle(e,t,a);var p,h=n?n+"-":"",g=Me(o,"labelWidth",n),v=Me(o,"labelHeight",n),y=t.pstyle(h+"text-margin-x").pfValue,m=t.pstyle(h+"text-margin-y").pfValue,b=t.isEdge(),w=t.pstyle("text-halign").value,x=t.pstyle("text-valign").value;switch(b&&(w="center",x="center"),c+=y,d+=m,0!==(p=r?this.getTextAngle(t,n):0)&&(s=c,u=d,e.translate(s,u),e.rotate(p),c=0,d=0),x){case"top":break;case"center":d+=v/2;break;case"bottom":d+=v}var E=t.pstyle("text-background-opacity").value,S=t.pstyle("text-border-opacity").value,k=t.pstyle("text-border-width").pfValue,P=t.pstyle("text-background-padding").pfValue;if(E>0||k>0&&S>0){var C=c-P;switch(w){case"left":C-=g;break;case"center":C-=g/2}var _=d-v-P,D=g+2*P,R=v+2*P;if(E>0){var O=e.fillStyle,T=t.pstyle("text-background-color").value;e.fillStyle="rgba("+T[0]+","+T[1]+","+T[2]+","+E*l+")";var M=t.pstyle("text-background-shape").strValue;0===M.indexOf("round")?yl(e,C,_,D,R,2):e.fillRect(C,_,D,R),e.fillStyle=O}if(k>0&&S>0){var B=e.strokeStyle,A=e.lineWidth,I=t.pstyle("text-border-color").value,N=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+S*l+")",e.lineWidth=k,e.setLineDash)switch(N){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=k/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(C,_,D,R),"double"===N){var L=k/2;e.strokeRect(C+L,_+L,D-2*L,R-2*L)}e.setLineDash&&e.setLineDash([]),e.lineWidth=A,e.strokeStyle=B}}var j=2*t.pstyle("text-outline-width").pfValue;if(j>0&&(e.lineWidth=j),"wrap"===t.pstyle("text-wrap").value){var z=Me(o,"labelWrapCachedLines",n),F=Me(o,"labelLineHeight",n),V=g/2,H=this.getLabelJustification(t);switch("auto"===H||("left"===w?"left"===H?c+=-g:"center"===H&&(c+=-V):"center"===w?"left"===H?c+=-V:"right"===H&&(c+=V):"right"===w&&("center"===H?c+=V:"right"===H&&(c+=g))),x){case"top":d-=(z.length-1)*F;break;case"center":case"bottom":d-=(z.length-1)*F}for(var W=0;W<z.length;W++)j>0&&e.strokeText(z[W],c,d),e.fillText(z[W],c,d),d+=F}else j>0&&e.strokeText(f,c,d),e.fillText(f,c,d);0!==p&&(e.rotate(-p),e.translate(-s,-u))}}};var ml={drawNode:function(e,t,n){var r,a,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this,u=t._private,c=u.rscratch,d=t.position();if(M(d.x)&&M(d.y)&&(!l||t.visible())){var f,p,h=l?t.effectiveOpacity():1,g=s.usePaths(),v=!1,y=t.padding();r=t.width()+2*y,a=t.height()+2*y,n&&(p=n,e.translate(-p.x1,-p.y1));for(var m=t.pstyle("background-image"),b=m.value,w=new Array(b.length),x=new Array(b.length),E=0,S=0;S<b.length;S++){var k=b[S],P=w[S]=null!=k&&"none"!==k;if(P){var C=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",S);E++,x[S]=s.getCachedImage(k,C,(function(){u.backgroundTimestamp=Date.now(),t.emitAndNotify("background")}))}}var _=t.pstyle("background-blacken").value,D=t.pstyle("border-width").pfValue,R=t.pstyle("background-opacity").value*h,O=t.pstyle("border-color").value,T=t.pstyle("border-style").value,B=t.pstyle("border-opacity").value*h;e.lineJoin="miter";var A=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;s.eleFillStyle(e,t,n)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;s.colorStrokeStyle(e,O[0],O[1],O[2],t)},N=t.pstyle("shape").strValue,L=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(d.x,d.y);var j=s.nodePathCache=s.nodePathCache||[],z=fe("polygon"===N?N+","+L.join(","):N,""+a,""+r),F=j[z];null!=F?(f=F,v=!0,c.pathCache=f):(f=new Path2D,j[z]=c.pathCache=f)}var V=function(){if(!v){var n=d;g&&(n={x:0,y:0}),s.nodeShapes[s.getNodeShape(t)].draw(f||e,n.x,n.y,r,a)}g?e.fill(f):e.fill()},H=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=u.backgrounding,i=0,o=0;o<x.length;o++){var l=t.cy().style().getIndexedStyle(t,"background-image-containment","value",o);r&&"over"===l||!r&&"inside"===l?i++:w[o]&&x[o].complete&&!x[o].error&&(i++,s.drawInscribedImage(e,x[o],t,o,n))}u.backgrounding=!(i===E),a!==u.backgrounding&&t.updateStyle(!1)},W=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;s.hasPie(t)&&(s.drawPie(e,t,i),n&&(g||s.nodeShapes[s.getNodeShape(t)].draw(e,d.x,d.y,r,a)))},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=(_>0?_:-_)*t,r=_>0?0:255;0!==_&&(s.colorFillStyle(e,r,r,r,n),g?e.fill(f):e.fill())},U=function(){if(D>0){if(e.lineWidth=D,e.lineCap="butt",e.setLineDash)switch(T){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}if(g?e.stroke(f):e.stroke(),"double"===T){e.lineWidth=D/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(f):e.stroke(),e.globalCompositeOperation=t}e.setLineDash&&e.setLineDash([])}},K=function(){o&&s.drawNodeOverlay(e,t,d,r,a)},G=function(){o&&s.drawNodeUnderlay(e,t,d,r,a)},Y=function(){s.drawElementText(e,t,null,i)},X="yes"===t.pstyle("ghost").value;if(X){var $=t.pstyle("ghost-offset-x").pfValue,Q=t.pstyle("ghost-offset-y").pfValue,Z=t.pstyle("ghost-opacity").value,J=Z*h;e.translate($,Q),A(Z*R),V(),H(J,!0),I(Z*B),U(),W(0!==_||0!==D),H(J,!1),q(J),e.translate(-$,-Q)}g&&e.translate(-d.x,-d.y),G(),g&&e.translate(d.x,d.y),A(),V(),H(h,!0),I(),U(),W(0!==_||0!==D),H(h,!1),q(),g&&e.translate(-d.x,-d.y),Y(),K(),n&&e.translate(p.x1,p.y1)}}},bl=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,r,a,i){if(n.visible()){var o=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,s=n.pstyle("".concat(e,"-color")).value,u=n.pstyle("".concat(e,"-shape")).value;if(l>0){if(r=r||n.position(),null==a||null==i){var c=n.padding();a=n.width()+2*c,i=n.height()+2*c}this.colorFillStyle(t,s[0],s[1],s[2],l),this.nodeShapes[u].draw(t,r.x,r.y,a+2*o,i+2*o),t.fill()}}}};ml.drawNodeOverlay=bl("overlay"),ml.drawNodeUnderlay=bl("underlay"),ml.hasPie=function(e){return(e=e[0])._private.hasPie},ml.drawPie=function(e,t,n,r){t=t[0],r=r||t.position();var a=t.cy().style(),i=t.pstyle("pie-size"),o=r.x,l=r.y,s=t.width(),u=t.height(),c=Math.min(s,u)/2,d=0;this.usePaths()&&(o=0,l=0),"%"===i.units?c*=i.pfValue:void 0!==i.pfValue&&(c=i.pfValue/2);for(var f=1;f<=a.pieBackgroundN;f++){var p=t.pstyle("pie-"+f+"-background-size").value,h=t.pstyle("pie-"+f+"-background-color").value,g=t.pstyle("pie-"+f+"-background-opacity").value*n,v=p/100;v+d>1&&(v=1-d);var y=1.5*Math.PI+2*Math.PI*d,m=y+2*Math.PI*v;0===p||d>=1||d+v>1||(e.beginPath(),e.moveTo(o,l),e.arc(o,l,c,y,m),e.closePath(),this.colorFillStyle(e,h[0],h[1],h[2],g),e.fill(),d+=v)}};for(var wl={getPixelRatio:function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},paintCache:function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,a=0;a<n.length;a++)if((t=n[a]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},createGradientStyleFor:function(e,t,n,r,a){var i,o=this.usePaths(),l=n.pstyle(t+"-gradient-stop-colors").value,s=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var u=n.sourceEndpoint(),c=n.targetEndpoint(),d=n.midpoint(),f=it(u,d),p=it(c,d);i=e.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(f,p))}else{var h=o?{x:0,y:0}:n.position(),g=n.paddedWidth(),v=n.paddedHeight();i=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(g,v))}else if(n.isEdge()){var y=n.sourceEndpoint(),m=n.targetEndpoint();i=e.createLinearGradient(y.x,y.y,m.x,m.y)}else{var b=o?{x:0,y:0}:n.position(),w=n.paddedWidth()/2,x=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":i=e.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":i=e.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":i=e.createLinearGradient(b.x+w,b.y,b.x-w,b.y);break;case"to-right":i=e.createLinearGradient(b.x-w,b.y,b.x+w,b.y);break;case"to-bottom-right":case"to-right-bottom":i=e.createLinearGradient(b.x-w,b.y-x,b.x+w,b.y+x);break;case"to-top-right":case"to-right-top":i=e.createLinearGradient(b.x-w,b.y+x,b.x+w,b.y-x);break;case"to-bottom-left":case"to-left-bottom":i=e.createLinearGradient(b.x+w,b.y-x,b.x-w,b.y+x);break;case"to-top-left":case"to-left-top":i=e.createLinearGradient(b.x+w,b.y+x,b.x-w,b.y-x)}}if(!i)return null;for(var E=s.length===l.length,S=l.length,k=0;k<S;k++)i.addColorStop(E?s[k]:k/(S-1),"rgba("+l[k][0]+","+l[k][1]+","+l[k][2]+","+a+")");return i},gradientFillStyle:function(e,t,n,r){var a=this.createGradientStyleFor(e,"background",t,n,r);if(!a)return null;e.fillStyle=a},colorFillStyle:function(e,t,n,r,a){e.fillStyle="rgba("+t+","+n+","+r+","+a+")"},eleFillStyle:function(e,t,n){var r=t.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(e,t,r,n);else{var a=t.pstyle("background-color").value;this.colorFillStyle(e,a[0],a[1],a[2],n)}},gradientStrokeStyle:function(e,t,n,r){var a=this.createGradientStyleFor(e,"line",t,n,r);if(!a)return null;e.strokeStyle=a},colorStrokeStyle:function(e,t,n,r,a){e.strokeStyle="rgba("+t+","+n+","+r+","+a+")"},eleStrokeStyle:function(e,t,n){var r=t.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(e,t,r,n);else{var a=t.pstyle("line-color").value;this.colorStrokeStyle(e,a[0],a[1],a[2],n)}},matchCanvasSize:function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),a=r[2],i=r[3],o=t.getPixelRatio(),l=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=l);var s,u=a*o,c=i*o;if(u!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var d=n.canvasContainer;d.style.width=a+"px",d.style.height=i+"px";for(var f=0;f<t.CANVAS_LAYERS;f++)(s=n.canvases[f]).width=u,s.height=c,s.style.width=a+"px",s.style.height=i+"px";for(f=0;f<t.BUFFER_COUNT;f++)(s=n.bufferCanvases[f]).width=u,s.height=c,s.style.width=a+"px",s.style.height=i+"px";t.textureMult=1,o<=1&&(s=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,s.width=u*t.textureMult,s.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c}},renderTo:function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},render:function(e){var t=(e=e||De()).forcedContext,n=e.drawAllLayers,r=e.drawOnlyNodeLayer,a=e.forcedZoom,i=e.forcedPan,o=this,l=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,s=o.cy,u=o.data,c=u.canvasNeedsRedraw,d=o.textureOnViewport&&!t&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),f=void 0!==e.motionBlur?e.motionBlur:o.motionBlur,p=o.motionBlurPxRatio,h=s.hasCompoundNodes(),g=o.hoverData.draggingEles,v=!(!o.hoverData.selecting&&!o.touchData.selecting),y=f=f&&!t&&o.motionBlurEnabled&&!v;t||(o.prevPxRatio!==l&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=l),!t&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),f&&(null==o.mbFrames&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(y=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!d&&(c[o.NODE]=!0,c[o.SELECT_BOX]=!0);var m=s.style(),b=s.zoom(),w=void 0!==a?a:b,x=s.pan(),E={x:x.x,y:x.y},S={zoom:b,pan:{x:x.x,y:x.y}},k=o.prevViewport;void 0===k||S.zoom!==k.zoom||S.pan.x!==k.pan.x||S.pan.y!==k.pan.y||g&&!h||(o.motionBlurPxRatio=1),i&&(E=i),w*=l,E.x*=l,E.y*=l;var P=o.getCachedZSortedEles();function C(e,t,n,r,a){var i=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",o.colorFillStyle(e,255,255,255,o.motionBlurTransparency),e.fillRect(t,n,r,a),e.globalCompositeOperation=i}function _(e,r){var l,s,c,d;o.clearingMotionBlur||e!==u.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]&&e!==u.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]?(l=E,s=w,c=o.canvasWidth,d=o.canvasHeight):(l={x:x.x*p,y:x.y*p},s=b*p,c=o.canvasWidth*p,d=o.canvasHeight*p),e.setTransform(1,0,0,1,0,0),"motionBlur"===r?C(e,0,0,c,d):t||void 0!==r&&!r||e.clearRect(0,0,c,d),n||(e.translate(l.x,l.y),e.scale(s,s)),i&&e.translate(i.x,i.y),a&&e.scale(a,a)}if(d||(o.textureDrawLastFrame=!1),d){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=s.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var D=o.data.bufferContexts[o.TEXTURE_BUFFER];D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:D,drawOnlyNodeLayer:!0,forcedPxRatio:l*o.textureMult}),(S=o.textureCache.viewport={zoom:s.zoom(),pan:s.pan(),width:o.canvasWidth,height:o.canvasHeight}).mpan={x:(0-S.pan.x)/S.zoom,y:(0-S.pan.y)/S.zoom}}c[o.DRAG]=!1,c[o.NODE]=!1;var R=u.contexts[o.NODE],O=o.textureCache.texture;S=o.textureCache.viewport,R.setTransform(1,0,0,1,0,0),f?C(R,0,0,S.width,S.height):R.clearRect(0,0,S.width,S.height);var T=m.core("outside-texture-bg-color").value,M=m.core("outside-texture-bg-opacity").value;o.colorFillStyle(R,T[0],T[1],T[2],M),R.fillRect(0,0,S.width,S.height),b=s.zoom(),_(R,!1),R.clearRect(S.mpan.x,S.mpan.y,S.width/S.zoom/l,S.height/S.zoom/l),R.drawImage(O,S.mpan.x,S.mpan.y,S.width/S.zoom/l,S.height/S.zoom/l)}else o.textureOnViewport&&!t&&(o.textureCache=null);var B=s.extent(),A=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),I=o.hideEdgesOnViewport&&A,N=[];if(N[o.NODE]=!c[o.NODE]&&f&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,N[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),N[o.DRAG]=!c[o.DRAG]&&f&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,N[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),c[o.NODE]||n||r||N[o.NODE]){var L=f&&!N[o.NODE]&&1!==p;_(R=t||(L?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:u.contexts[o.NODE]),f&&!L?"motionBlur":void 0),I?o.drawCachedNodes(R,P.nondrag,l,B):o.drawLayeredElements(R,P.nondrag,l,B),o.debug&&o.drawDebugPoints(R,P.nondrag),n||f||(c[o.NODE]=!1)}if(!r&&(c[o.DRAG]||n||N[o.DRAG])&&(L=f&&!N[o.DRAG]&&1!==p,_(R=t||(L?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:u.contexts[o.DRAG]),f&&!L?"motionBlur":void 0),I?o.drawCachedNodes(R,P.drag,l,B):o.drawCachedElements(R,P.drag,l,B),o.debug&&o.drawDebugPoints(R,P.drag),n||f||(c[o.DRAG]=!1)),o.showFps||!r&&c[o.SELECT_BOX]&&!n){if(_(R=t||u.contexts[o.SELECT_BOX]),1==o.selection[4]&&(o.hoverData.selecting||o.touchData.selecting)){b=o.cy.zoom();var j=m.core("selection-box-border-width").value/b;R.lineWidth=j,R.fillStyle="rgba("+m.core("selection-box-color").value[0]+","+m.core("selection-box-color").value[1]+","+m.core("selection-box-color").value[2]+","+m.core("selection-box-opacity").value+")",R.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),j>0&&(R.strokeStyle="rgba("+m.core("selection-box-border-color").value[0]+","+m.core("selection-box-border-color").value[1]+","+m.core("selection-box-border-color").value[2]+","+m.core("selection-box-opacity").value+")",R.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(u.bgActivePosistion&&!o.hoverData.selecting){b=o.cy.zoom();var z=u.bgActivePosistion;R.fillStyle="rgba("+m.core("active-bg-color").value[0]+","+m.core("active-bg-color").value[1]+","+m.core("active-bg-color").value[2]+","+m.core("active-bg-opacity").value+")",R.beginPath(),R.arc(z.x,z.y,m.core("active-bg-size").pfValue/b,0,2*Math.PI),R.fill()}var F=o.lastRedrawTime;if(o.showFps&&F){F=Math.round(F);var V=Math.round(1e3/F);R.setTransform(1,0,0,1,0,0),R.fillStyle="rgba(255, 0, 0, 0.75)",R.strokeStyle="rgba(255, 0, 0, 0.75)",R.lineWidth=1,R.fillText("1 frame = "+F+" ms = "+V+" fps",0,20),R.strokeRect(0,30,250,20),R.fillRect(0,30,250*Math.min(V/60,1),20)}n||(c[o.SELECT_BOX]=!1)}if(f&&1!==p){var H=u.contexts[o.NODE],W=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],q=u.contexts[o.DRAG],U=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],K=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!y?e.clearRect(0,0,o.canvasWidth,o.canvasHeight):C(e,0,0,o.canvasWidth,o.canvasHeight);var r=p;e.drawImage(t,0,0,o.canvasWidth*r,o.canvasHeight*r,0,0,o.canvasWidth,o.canvasHeight)};(c[o.NODE]||N[o.NODE])&&(K(H,W,N[o.NODE]),c[o.NODE]=!1),(c[o.DRAG]||N[o.DRAG])&&(K(q,U,N[o.DRAG]),c[o.DRAG]=!1)}o.prevViewport=S,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),f&&(o.motionBlurTimeout=setTimeout((function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!d,o.mbFrames=0,c[o.NODE]=!0,c[o.DRAG]=!0,o.redraw()}),100)),t||s.emit("render")}},xl={drawPolygonPath:function(e,t,n,r,a,i){var o=r/2,l=a/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*i[0],n+l*i[1]);for(var s=1;s<i.length/2;s++)e.lineTo(t+o*i[2*s],n+l*i[2*s+1]);e.closePath()},drawRoundPolygonPath:function(e,t,n,r,a,i){var o=r/2,l=a/2,s=jt(r,a);e.beginPath&&e.beginPath();for(var u=0;u<i.length/4;u++){var c,d;d=0===u?i.length-2:4*u-2,c=4*u+2;var f=t+o*i[4*u],p=n+l*i[4*u+1],h=-i[d]*i[c]-i[d+1]*i[c+1],g=s/Math.tan(Math.acos(h)/2),v=f-g*i[d],y=p-g*i[d+1],m=f+g*i[c],b=p+g*i[c+1];0===u?e.moveTo(v,y):e.lineTo(v,y),e.arcTo(f,p,m,b,s)}e.closePath()},drawRoundRectanglePath:function(e,t,n,r,a){var i=r/2,o=a/2,l=Lt(r,a);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.arcTo(t+i,n-o,t+i,n,l),e.arcTo(t+i,n+o,t,n+o,l),e.arcTo(t-i,n+o,t-i,n,l),e.arcTo(t-i,n-o,t,n-o,l),e.lineTo(t,n-o),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,a){var i=r/2,o=a/2,l=Lt(r,a);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.lineTo(t+i,n-o),e.lineTo(t+i,n),e.arcTo(t+i,n+o,t,n+o,l),e.arcTo(t-i,n+o,t-i,n,l),e.lineTo(t-i,n-o),e.lineTo(t,n-o),e.closePath()},drawCutRectanglePath:function(e,t,n,r,a){var i=r/2,o=a/2;e.beginPath&&e.beginPath(),e.moveTo(t-i+8,n-o),e.lineTo(t+i-8,n-o),e.lineTo(t+i,n-o+8),e.lineTo(t+i,n+o-8),e.lineTo(t+i-8,n+o),e.lineTo(t-i+8,n+o),e.lineTo(t-i,n+o-8),e.lineTo(t-i,n-o+8),e.closePath()},drawBarrelPath:function(e,t,n,r,a){var i=r/2,o=a/2,l=t-i,s=t+i,u=n-o,c=n+o,d=zt(r,a),f=d.widthOffset,p=d.heightOffset,h=d.ctrlPtOffsetPct*f;e.beginPath&&e.beginPath(),e.moveTo(l,u+p),e.lineTo(l,c-p),e.quadraticCurveTo(l+h,c,l+f,c),e.lineTo(s-f,c),e.quadraticCurveTo(s-h,c,s,c-p),e.lineTo(s,u+p),e.quadraticCurveTo(s-h,u,s-f,u),e.lineTo(l+f,u),e.quadraticCurveTo(l+h,u,l,u+p),e.closePath()}},El=Math.sin(0),Sl=Math.cos(0),kl={},Pl={},Cl=Math.PI/40,_l=0*Math.PI;_l<2*Math.PI;_l+=Cl)kl[_l]=Math.sin(_l),Pl[_l]=Math.cos(_l);xl.drawEllipsePath=function(e,t,n,r,a){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,a/2,0,0,2*Math.PI);else for(var i,o,l=r/2,s=a/2,u=0*Math.PI;u<2*Math.PI;u+=Cl)i=t-l*kl[u]*El+l*Pl[u]*Sl,o=n+s*Pl[u]*El+s*kl[u]*Sl,0===u?e.moveTo(i,o):e.lineTo(i,o);e.closePath()};var Dl={};function Rl(e){var t=e.indexOf(",");return e.substr(t+1)}function Ol(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new Qn((function(r,a){try{t.toBlob((function(e){null!=e?r(e):a(new Error("`canvas.toBlob()` sent a null value in its callback"))}),n,e.quality)}catch(e){a(e)}}));case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r),i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return new Blob([r],{type:t})}(Rl(r()),n);case"base64":return Rl(r());case"base64uri":default:return r()}}Dl.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},Dl.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),a=e.full?Math.ceil(n.w):r[2],i=e.full?Math.ceil(n.h):r[3],o=M(e.maxWidth)||M(e.maxHeight),l=this.getPixelRatio(),s=1;if(void 0!==e.scale)a*=e.scale,i*=e.scale,s=e.scale;else if(o){var u=1/0,c=1/0;M(e.maxWidth)&&(u=s*e.maxWidth/a),M(e.maxHeight)&&(c=s*e.maxHeight/i),a*=s=Math.min(u,c),i*=s}o||(a*=l,i*=l,s*=l);var d=document.createElement("canvas");d.width=a,d.height=i,d.style.width=a+"px",d.style.height=i+"px";var f=d.getContext("2d");if(a>0&&i>0){f.clearRect(0,0,a,i),f.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(e.full)f.translate(-n.x1*s,-n.y1*s),f.scale(s,s),this.drawElements(f,p),f.scale(1/s,1/s),f.translate(n.x1*s,n.y1*s);else{var h=t.pan(),g={x:h.x*s,y:h.y*s};s*=t.zoom(),f.translate(g.x,g.y),f.scale(s,s),this.drawElements(f,p),f.scale(1/s,1/s),f.translate(-g.x,-g.y)}e.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=e.bg,f.rect(0,0,a,i),f.fill())}return d},Dl.png=function(e){return Ol(e,this.bufferCanvasImage(e),"image/png")},Dl.jpg=function(e){return Ol(e,this.bufferCanvasImage(e),"image/jpeg")};var Tl=Bl,Ml=Bl.prototype;function Bl(e){var t=this;t.data={canvases:new Array(Ml.CANVAS_LAYERS),contexts:new Array(Ml.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ml.CANVAS_LAYERS),bufferCanvases:new Array(Ml.BUFFER_COUNT),bufferContexts:new Array(Ml.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",r="rgba(0,0,0,0)";t.data.canvasContainer=document.createElement("div");var a=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=r,a.position="relative",a.zIndex="0",a.overflow="hidden";var i=e.cy.container();i.appendChild(t.data.canvasContainer),i.style[n]=r;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};E&&E.userAgent.match(/msie|trident|edge/i)&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var l=0;l<Ml.CANVAS_LAYERS;l++){var s=t.data.canvases[l]=document.createElement("canvas");t.data.contexts[l]=s.getContext("2d"),Object.keys(o).forEach((function(e){s.style[e]=o[e]})),s.style.position="absolute",s.setAttribute("data-id","layer"+l),s.style.zIndex=String(Ml.CANVAS_LAYERS-l),t.data.canvasContainer.appendChild(s),t.data.canvasNeedsRedraw[l]=!1}for(t.data.topCanvas=t.data.canvases[0],t.data.canvases[Ml.NODE].setAttribute("data-id","layer"+Ml.NODE+"-node"),t.data.canvases[Ml.SELECT_BOX].setAttribute("data-id","layer"+Ml.SELECT_BOX+"-selectbox"),t.data.canvases[Ml.DRAG].setAttribute("data-id","layer"+Ml.DRAG+"-drag"),l=0;l<Ml.BUFFER_COUNT;l++)t.data.bufferCanvases[l]=document.createElement("canvas"),t.data.bufferContexts[l]=t.data.bufferCanvases[l].getContext("2d"),t.data.bufferCanvases[l].style.position="absolute",t.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),t.data.bufferCanvases[l].style.zIndex=String(-l-1),t.data.bufferCanvases[l].style.visibility="hidden";t.pathsEnabled=!0;var u=dt(),c=function(e){return{x:-e.w/2,y:-e.h/2}},d=function(e){return e.boundingBox(),e[0]._private.bodyBounds},f=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||u},p=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||u},h=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||u},g=function(e,t){return t},v=function(e,t,n){var r=e?e+"-":"";return{x:t.x+n.pstyle(r+"text-margin-x").pfValue,y:t.y+n.pstyle(r+"text-margin-y").pfValue}},y=function(e,t,n){var r=e[0]._private.rscratch;return{x:r[t],y:r[n]}},m=t.data.eleTxrCache=new Go(t,{getKey:function(e){return e[0]._private.nodeKey},doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:function(e,n,r,a,i){return t.drawElement(e,n,r,!1,!1,i)},getBoundingBox:d,getRotationPoint:function(e){return{x:((t=d(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},getRotationOffset:function(e){return c(d(e))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),b=t.data.lblTxrCache=new Go(t,{getKey:function(e){return e[0]._private.labelStyleKey},drawElement:function(e,n,r,a,i){return t.drawElementText(e,n,r,a,"main",i)},getBoundingBox:f,getRotationPoint:function(e){return v("",y(e,"labelX","labelY"),e)},getRotationOffset:function(e){var t=f(e),n=c(f(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w;break;case"right":n.x=0}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h;break;case"bottom":n.y=0}}return n},isVisible:g}),w=t.data.slbTxrCache=new Go(t,{getKey:function(e){return e[0]._private.sourceLabelStyleKey},drawElement:function(e,n,r,a,i){return t.drawElementText(e,n,r,a,"source",i)},getBoundingBox:p,getRotationPoint:function(e){return v("source",y(e,"sourceLabelX","sourceLabelY"),e)},getRotationOffset:function(e){return c(p(e))},isVisible:g}),x=t.data.tlbTxrCache=new Go(t,{getKey:function(e){return e[0]._private.targetLabelStyleKey},drawElement:function(e,n,r,a,i){return t.drawElementText(e,n,r,a,"target",i)},getBoundingBox:h,getRotationPoint:function(e){return v("target",y(e,"targetLabelX","targetLabelY"),e)},getRotationOffset:function(e){return c(h(e))},isVisible:g}),S=t.data.lyrTxrCache=new Xo(t);t.onUpdateEleCalcs((function(e,t){m.invalidateElements(t),b.invalidateElements(t),w.invalidateElements(t),x.invalidateElements(t),S.invalidateElements(t);for(var n=0;n<t.length;n++){var r=t[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}}));var k=function(e){for(var t=0;t<e.length;t++)S.enqueueElementRefinement(e[t].ele)};m.onDequeue(k),b.onDequeue(k),w.onDequeue(k),x.onDequeue(k)}Ml.CANVAS_LAYERS=3,Ml.SELECT_BOX=0,Ml.DRAG=1,Ml.NODE=2,Ml.BUFFER_COUNT=3,Ml.TEXTURE_BUFFER=0,Ml.MOTIONBLUR_BUFFER_NODE=1,Ml.MOTIONBLUR_BUFFER_DRAG=2,Ml.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[Ml.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[Ml.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[Ml.SELECT_BOX]=t}};var Al="undefined"!=typeof Path2D;Ml.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},Ml.usePaths=function(){return Al&&this.pathsEnabled},Ml.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},Ml.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},Ml.makeOffscreenCanvas=function(e,t){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":h(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=document.createElement("canvas")).width=e,n.height=t),n},[el,ol,pl,gl,vl,ml,wl,xl,Dl,{nodeShapeImpl:function(e,t,n,r,a,i,o){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,a,i);case"polygon":return this.drawPolygonPath(t,n,r,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,a,i,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,a,i);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,a,i);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,a,i);case"barrel":return this.drawBarrelPath(t,n,r,a,i)}}}].forEach((function(e){Y(Ml,e)}));var Il=[{type:"layout",extensions:yo},{type:"renderer",extensions:[{name:"null",impl:mo},{name:"base",impl:Fo},{name:"canvas",impl:Tl}]}],Nl={},Ll={};function jl(e,t,n){var r=n,a=function(n){ke("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(Oi.prototype[t])return a(t);Oi.prototype[t]=n}else if("collection"===e){if(Ga.prototype[t])return a(t);Ga.prototype[t]=n}else if("layout"===e){for(var i=function(e){this.options=e,n.call(this,e),T(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(n.prototype),l=[],s=0;s<l.length;s++){var u=l[s];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=n.prototype.stop;o.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var d=function(e){return e._private.cy},f={addEventFields:function(e,t){t.layout=e,t.cy=d(e),t.target=e},bubble:function(){return!0},parent:function(e){return d(e)}};Y(o,{createEmitter:function(){return this._private.emitter=new fa(f,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),er.eventAliasesOn(o),r=i}else if("renderer"===e&&"null"!==t&&"base"!==t){var p=zl("renderer","base"),h=p.prototype,g=n,v=n.prototype,y=function(){p.apply(this,arguments),g.apply(this,arguments)},m=y.prototype;for(var b in h){var w=h[b];if(null!=v[b])return a(b);m[b]=w}for(var x in v)m[x]=v[x];h.clientFunctions.forEach((function(e){m[e]=m[e]||function(){Ee("Renderer does not implement `renderer."+e+"()` on its prototype")}})),r=y}else if("__proto__"===e||"constructor"===e||"prototype"===e)return Ee(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return $({map:Nl,keys:[e,t],value:r})}function zl(e,t){return Q({map:Nl,keys:[e,t]})}function Fl(e,t,n,r,a){return $({map:Ll,keys:[e,t,n,r],value:a})}function Vl(e,t,n,r){return Q({map:Ll,keys:[e,t,n,r]})}var Hl=function(){return 2===arguments.length?zl.apply(null,arguments):3===arguments.length?jl.apply(null,arguments):4===arguments.length?Vl.apply(null,arguments):5===arguments.length?Fl.apply(null,arguments):void Ee("Invalid extension access syntax")};Oi.prototype.extension=Hl,Il.forEach((function(e){e.extensions.forEach((function(t){jl(e.type,t.name,t.impl)}))}));var Wl=function e(){if(!(this instanceof e))return new e;this.length=0},ql=Wl.prototype;ql.instanceString=function(){return"stylesheet"},ql.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},ql.css=function(e,t){var n=this.length-1;if(D(e))this[n].properties.push({name:e,value:t});else if(T(e))for(var r=e,a=Object.keys(r),i=0;i<a.length;i++){var o=a[i],l=r[o];if(null!=l){var s=Pi.properties[o]||Pi.properties[W(o)];if(null!=s){var u=s.name,c=l;this[n].properties.push({name:u,value:c})}}}return this},ql.style=ql.css,ql.generateStyle=function(e){var t=new Pi(e);return this.appendToStyle(t)},ql.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,a=n.properties;e.selector(r);for(var i=0;i<a.length;i++){var o=a[i];e.css(o.name,o.value)}}return e};var Ul=function(e){return void 0===e&&(e={}),T(e)?new Oi(e):D(e)?Hl.apply(Hl,arguments):void 0};Ul.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Ul),e.apply(null,t),this},Ul.warnings=function(e){return Se(e)},Ul.version="3.23.0",Ul.stylesheet=Ul.Stylesheet=Wl,e.exports=Ul},4485:(e,t,n)=>{e.exports=n(2894)},2894:function(e,t){var n,r,a;(function(){var i,o,l,s,u,c,d,f,p,h,g,v,y,m,b;l=Math.floor,h=Math.min,o=function(e,t){return e<t?-1:e>t?1:0},p=function(e,t,n,r,a){var i;if(null==n&&(n=0),null==a&&(a=o),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)a(t,e[i=l((n+r)/2)])<0?r=i:n=i+1;return[].splice.apply(e,[n,n-n].concat(t)),t},c=function(e,t,n){return null==n&&(n=o),e.push(t),m(e,0,e.length-1,n)},u=function(e,t){var n,r;return null==t&&(t=o),n=e.pop(),e.length?(r=e[0],e[0]=n,b(e,0,t)):r=n,r},f=function(e,t,n){var r;return null==n&&(n=o),r=e[0],e[0]=t,b(e,0,n),r},d=function(e,t,n){var r;return null==n&&(n=o),e.length&&n(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],b(e,0,n)),t},s=function(e,t){var n,r,a,i,s,u;for(null==t&&(t=o),s=[],r=0,a=(i=function(){u=[];for(var t=0,n=l(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)u.push(t);return u}.apply(this).reverse()).length;r<a;r++)n=i[r],s.push(b(e,n,t));return s},y=function(e,t,n){var r;if(null==n&&(n=o),-1!==(r=e.indexOf(t)))return m(e,0,r,n),b(e,r,n)},g=function(e,t,n){var r,a,i,l,u;if(null==n&&(n=o),!(a=e.slice(0,t)).length)return a;for(s(a,n),i=0,l=(u=e.slice(t)).length;i<l;i++)r=u[i],d(a,r,n);return a.sort(n).reverse()},v=function(e,t,n){var r,a,i,l,c,d,f,g,v;if(null==n&&(n=o),10*t<=e.length){if(!(i=e.slice(0,t).sort(n)).length)return i;for(a=i[i.length-1],l=0,d=(f=e.slice(t)).length;l<d;l++)n(r=f[l],a)<0&&(p(i,r,0,null,n),i.pop(),a=i[i.length-1]);return i}for(s(e,n),v=[],c=0,g=h(t,e.length);0<=g?c<g:c>g;0<=g?++c:--c)v.push(u(e,n));return v},m=function(e,t,n,r){var a,i,l;for(null==r&&(r=o),a=e[n];n>t&&r(a,i=e[l=n-1>>1])<0;)e[n]=i,n=l;return e[n]=a},b=function(e,t,n){var r,a,i,l,s;for(null==n&&(n=o),a=e.length,s=t,i=e[t],r=2*t+1;r<a;)(l=r+1)<a&&!(n(e[r],e[l])<0)&&(r=l),e[t]=e[r],r=2*(t=r)+1;return e[t]=i,m(e,s,t,n)},i=function(){function e(e){this.cmp=null!=e?e:o,this.nodes=[]}return e.push=c,e.pop=u,e.replace=f,e.pushpop=d,e.heapify=s,e.updateItem=y,e.nlargest=g,e.nsmallest=v,e.prototype.push=function(e){return c(this.nodes,e,this.cmp)},e.prototype.pop=function(){return u(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return f(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return d(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return s(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return y(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),r=[],void 0===(a="function"==typeof(n=function(){return i})?n.apply(t,r):n)||(e.exports=a)}).call(this)},1989:(e,t,n)=>{var r=n(1789),a=n(401),i=n(7667),o=n(1327),l=n(1866);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,e.exports=s},8407:(e,t,n)=>{var r=n(7040),a=n(4125),i=n(2117),o=n(7518),l=n(4705);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,e.exports=s},7071:(e,t,n)=>{var r=n(852)(n(5639),"Map");e.exports=r},3369:(e,t,n)=>{var r=n(4785),a=n(1285),i=n(6e3),o=n(9916),l=n(5265);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,e.exports=s},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},9932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},4865:(e,t,n)=>{var r=n(9465),a=n(7813),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];i.call(e,t)&&a(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},8470:(e,t,n)=>{var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},9465:(e,t,n)=>{var r=n(8777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7786:(e,t,n)=>{var r=n(1811),a=n(327);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},4239:(e,t,n)=>{var r=n(2705),a=n(9607),i=n(2333),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},8458:(e,t,n)=>{var r=n(3560),a=n(5346),i=n(3218),o=n(346),l=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,d=u.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?f:l).test(o(e))}},611:(e,t,n)=>{var r=n(4865),a=n(1811),i=n(5776),o=n(3218),l=n(327);e.exports=function(e,t,n,s){if(!o(e))return e;for(var u=-1,c=(t=a(t,e)).length,d=c-1,f=e;null!=f&&++u<c;){var p=l(t[u]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(u!=d){var g=f[p];void 0===(h=s?s(g,p,f):void 0)&&(h=o(g)?g:i(t[u+1])?[]:{})}r(f,p,h),f=f[p]}return e}},531:(e,t,n)=>{var r=n(2705),a=n(9932),i=n(1469),o=n(3448),l=r?r.prototype:void 0,s=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7561:(e,t,n)=>{var r=n(7990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1811:(e,t,n)=>{var r=n(1469),a=n(5403),i=n(5514),o=n(9833);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},278:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4429:(e,t,n)=>{var r=n(5639)["__core-js_shared__"];e.exports=r},8777:(e,t,n)=>{var r=n(852),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},5050:(e,t,n)=>{var r=n(7019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:(e,t,n)=>{var r=n(8458),a=n(7801);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},9607:(e,t,n)=>{var r=n(2705),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var a=o.call(e);return r&&(t?e[l]=n:delete e[l]),a}},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,n)=>{var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var r=n(4536),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var r=n(4536),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},1866:(e,t,n)=>{var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5403:(e,t,n)=>{var r=n(1469),a=n(3448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||o.test(e)||!i.test(e)||null!=t&&e in Object(t)}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var r,a=n(4429),i=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var r=n(8470),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var r=n(8470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var r=n(8470);e.exports=function(e){return r(this.__data__,e)>-1}},4705:(e,t,n)=>{var r=n(8470);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},4785:(e,t,n)=>{var r=n(1989),a=n(8407),i=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},1285:(e,t,n)=>{var r=n(5050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:(e,t,n)=>{var r=n(5050);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},4523:(e,t,n)=>{var r=n(8306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4536:(e,t,n)=>{var r=n(852)(Object,"create");e.exports=r},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:(e,t,n)=>{var r=n(1957),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},5514:(e,t,n)=>{var r=n(4523),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)})),t}));e.exports=o},327:(e,t,n)=>{var r=n(3448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3279:(e,t,n)=>{var r=n(3218),a=n(7771),i=n(4841),o=Math.max,l=Math.min;e.exports=function(e,t,n){var s,u,c,d,f,p,h=0,g=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=s,r=u;return s=u=void 0,h=t,d=e.apply(r,n)}function b(e){return h=e,f=setTimeout(x,t),g?m(e):d}function w(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-h>=c}function x(){var e=a();if(w(e))return E(e);f=setTimeout(x,function(e){var n=t-(e-p);return v?l(n,c-(e-h)):n}(e))}function E(e){return f=void 0,y&&s?m(e):(s=u=void 0,d)}function S(){var e=a(),n=w(e);if(s=arguments,u=this,p=e,n){if(void 0===f)return b(p);if(v)return clearTimeout(f),f=setTimeout(x,t),m(p)}return void 0===f&&(f=setTimeout(x,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,c=(v="maxWait"in n)?o(i(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==f&&clearTimeout(f),h=0,s=p=u=f=void 0},S.flush=function(){return void 0===f?d:E(a())},S}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},7361:(e,t,n)=>{var r=n(7786);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},1469:e=>{var t=Array.isArray;e.exports=t},3560:(e,t,n)=>{var r=n(4239),a=n(3218);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,n)=>{var r=n(4239),a=n(7005);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},8306:(e,t,n)=>{var r=n(3369);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},7771:(e,t,n)=>{var r=n(5639);e.exports=function(){return r.Date.now()}},6968:(e,t,n)=>{var r=n(611);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},4841:(e,t,n)=>{var r=n(7561),a=n(3218),i=n(3448),o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}},84:(e,t,n)=>{var r=n(9932),a=n(278),i=n(1469),o=n(3448),l=n(5514),s=n(327),u=n(9833);e.exports=function(e){return i(e)?r(e,s):o(e)?[e]:a(l(u(e)))}},9833:(e,t,n)=>{var r=n(531);e.exports=function(e){return null==e?"":r(e)}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,l,s=a(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(s[c]=o[c]);if(t){l=t(o);for(var d=0;d<l.length;d++)r.call(o,l[d])&&(s[l[d]]=o[l[d]])}}return s}},4448:(e,t,n)=>{"use strict";var r=n(7294),a=n(7418),i=n(3840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var l=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},g={};function v(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var a=y.hasOwnProperty(t)?y[t]:null;(null!==a?0===a.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!p.call(g,e)||!p.call(h,e)&&(f.test(e)?g[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,k=60107,P=60108,C=60114,_=60109,D=60110,R=60112,O=60113,T=60120,M=60115,B=60116,A=60121,I=60128,N=60129,L=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var z=Symbol.for;E=z("react.element"),S=z("react.portal"),k=z("react.fragment"),P=z("react.strict_mode"),C=z("react.profiler"),_=z("react.provider"),D=z("react.context"),R=z("react.forward_ref"),O=z("react.suspense"),T=z("react.suspense_list"),M=z("react.memo"),B=z("react.lazy"),A=z("react.block"),z("react.scope"),I=z("react.opaque.id"),N=z("react.debug_trace_mode"),L=z("react.offscreen"),j=z("react.legacy_hidden")}var F,V="function"==typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=V&&e[V]||e["@@iterator"])?e:null}function W(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var q=!1;function U(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var a=e.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(1!==o||1!==l)do{if(o--,0>--l||a[o]!==i[l])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=l);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function K(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 22:return U(e.type._render,!1);case 1:return U(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case P:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return G(e.type);case A:return G(e._render);case B:t=e._payload,e=e._init;try{return G(e(t))}catch(e){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function le(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ue(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,ge,ve=(ge=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(me).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var Ee=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Pe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,_e=null,De=null;function Re(e){if(e=Jr(e)){if("function"!=typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ta(t),Ce(e.stateNode,e.type,t))}}function Oe(e){_e?De?De.push(e):De=[e]:_e=e}function Te(){if(_e){var e=_e,t=De;if(De=_e=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Me(e,t){return e(t)}function Be(e,t,n,r,a){return e(t,n,r,a)}function Ae(){}var Ie=Me,Ne=!1,Le=!1;function je(){null===_e&&null===De||(Ae(),Te())}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=ta(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Fe=!1;if(d)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ge){Fe=!1}function He(e,t,n,r,a,i,o,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var We=!1,qe=null,Ue=!1,Ke=null,Ge={onError:function(e){We=!0,qe=e}};function Ye(e,t,n,r,a,i,o,l,s){We=!1,qe=null,He.apply(Ge,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Qe(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Qe(a),e;if(i===r)return Qe(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,s=a.child;s;){if(s===n){l=!0,n=a,r=i;break}if(s===r){l=!0,r=a,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=a;break}if(s===r){l=!0,r=i,n=a;break}s=s.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Je(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,at=!1,it=[],ot=null,lt=null,st=null,ut=new Map,ct=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function gt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=pt(t,n,r,a,i),null!==t&&null!==(t=Jr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function vt(e){var t=Zr(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Jr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function mt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(at=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=Jr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==ot&&yt(ot)&&(ot=null),null!==lt&&yt(lt)&&(lt=null),null!==st&&yt(st)&&(st=null),ut.forEach(mt),ct.forEach(mt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<it.length){wt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&wt(ot,e),null!==lt&&wt(lt,e),null!==st&&wt(st,e),ut.forEach(t),ct.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},kt={},Pt={};function Ct(e){if(kt[e])return kt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pt)return kt[e]=n[t];return e}d&&(Pt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var _t=Ct("animationend"),Dt=Ct("animationiteration"),Rt=Ct("animationstart"),Ot=Ct("transitionend"),Tt=new Map,Mt=new Map,Bt=["abort","abort",_t,"animationEnd",Dt,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function At(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),Mt.set(r,t),Tt.set(r,a),u(a,[r])}}(0,i.unstable_now)();var It=8;function Nt(e){if(0!=(1&e))return It=15,1;if(0!=(2&e))return It=14,2;if(0!=(4&e))return It=13,4;var t=24&e;return 0!==t?(It=12,t):0!=(32&e)?(It=11,32):0!=(t=192&e)?(It=10,t):0!=(256&e)?(It=9,256):0!=(t=3584&e)?(It=8,t):0!=(4096&e)?(It=7,4096):0!=(t=4186112&e)?(It=6,t):0!=(t=62914560&e)?(It=5,t):67108864&e?(It=4,67108864):0!=(134217728&e)?(It=3,134217728):0!=(t=805306368&e)?(It=2,t):0!=(1073741824&e)?(It=1,1073741824):(It=8,e)}function Lt(e,t){var n=e.pendingLanes;if(0===n)return It=0;var r=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,l=e.pingedLanes;if(0!==i)r=i,a=It=15;else if(0!=(i=134217727&n)){var s=i&~o;0!==s?(r=Nt(s),a=It):0!=(l&=i)&&(r=Nt(l),a=It)}else 0!=(i=n&~o)?(r=Nt(i),a=It):0!==l&&(r=Nt(l),a=It);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Nt(t),a<=It)return t;It=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Wt(t)),r|=e[n],t&=~a;return r}function jt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ft(24&~t))?zt(10,t):e;case 10:return 0===(e=Ft(192&~t))?zt(8,t):e;case 8:return 0===(e=Ft(3584&~t))&&0===(e=Ft(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ft(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ft(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Ut|0)|0},qt=Math.log,Ut=Math.LN2,Kt=i.unstable_UserBlockingPriority,Gt=i.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){Ne||Ae();var a=Qt,i=Ne;Ne=!0;try{Be(a,e,t,n,r)}finally{(Ne=i)||je()}}function $t(e,t,n,r){Gt(Kt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var a;if(Yt)if((a=0==(4&t))&&0<it.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),it.push(e);else{var i=Zt(e,t,n,r);if(null===i)a&&ht(e,r);else{if(a){if(-1<ft.indexOf(e))return e=pt(i,e,t,n,r),void it.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return ot=gt(ot,e,t,n,r,a),!0;case"dragenter":return lt=gt(lt,e,t,n,r,a),!0;case"mouseover":return st=gt(st,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ut.set(i,gt(ut.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ct.set(i,gt(ct.get(i)||null,e,t,n,r,a)),!0}return!1}(i,e,t,n,r))return;ht(e,r)}Tr(e,t,r,null,n)}}}function Zt(e,t,n,r){var a=Pe(r);if(null!==(a=Zr(a))){var i=Xe(a);if(null===i)a=null;else{var o=i.tag;if(13===o){if(null!==(a=$e(i)))return a;a=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Tr(e,t,r,a,n),null}var Jt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return tn=a.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function ln(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?an:on,this.isPropagationStopped=on,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var sn,un,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(dn),pn=a({},dn,{view:0,detail:0}),hn=ln(pn),gn=a({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=ln(gn),yn=ln(a({},gn,{dataTransfer:0})),mn=ln(a({},pn,{relatedTarget:0})),bn=ln(a({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=ln(a({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=ln(a({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Pn}var _n=ln(a({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Dn=ln(a({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=ln(a({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=ln(a({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=ln(a({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Mn=[9,13,27,32],Bn=d&&"CompositionEvent"in window,An=null;d&&"documentMode"in document&&(An=document.documentMode);var In=d&&"TextEvent"in window&&!An,Nn=d&&(!Bn||An&&8<An&&11>=An),Ln=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Oe(r),0<(t=Br(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,Kn=null;function Gn(e){Pr(e,0)}function Yn(e){if(Q(ea(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(d){var Qn;if(d){var Zn="oninput"in document;if(!Zn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Zn="function"==typeof Jn.oninput}Qn=Zn}else Qn=!1;$n=Qn&&(!document.documentMode||9<document.documentMode)}function er(){Un&&(Un.detachEvent("onpropertychange",tr),Kn=Un=null)}function tr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];if(qn(t,Kn,e,Pe(e)),e=Gn,Ne)e(t);else{Ne=!0;try{Me(e,t)}finally{Ne=!1,je()}}}}function nr(e,t,n){"focusin"===e?(er(),Kn=n,(Un=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},lr=Object.prototype.hasOwnProperty;function sr(e,t){if(or(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!or(e[n[r]],t[n[r]]))return!1;return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,mr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==gr||gr!==Z(r)||(r="selectionStart"in(r=gr)&&pr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Br(vr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}At("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),At("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),At(Bt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<wr.length;xr++)Mt.set(wr[xr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,l,s,u){if(Ye.apply(this,arguments),We){if(!We)throw Error(o(198));var c=qe;We=!1,qe=null,Ue||(Ue=!0,Ke=c)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==i&&a.isPropagationStopped())break e;kr(a,l,u),i=s}else for(o=0;o<r.length;o++){if(s=(l=r[o]).instance,u=l.currentTarget,l=l.listener,s!==i&&a.isPropagationStopped())break e;kr(a,l,u),i=s}}}if(Ue)throw e=Ke,Ue=!1,Ke=null,e}function Cr(e,t){var n=na(t),r=e+"__bubble";n.has(r)||(Or(t,e,2,!1),n.add(r))}var _r="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[_r]||(e[_r]=!0,l.forEach((function(t){Sr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;a|=2,i=r}var o=na(i),l=e+"__"+(t?"capture":"bubble");o.has(l)||(t&&(a|=4),Or(i,e,a,t),o.add(l))}function Or(e,t,n,r){var a=Mt.get(t);switch(void 0===a?2:a){case 0:a=Xt;break;case 1:a=$t;break;default:a=Qt}n=a.bind(null,t,n,e),a=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Tr(e,t,n,r,a){var i=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;o=o.return}for(;null!==l;){if(null===(o=Zr(l)))return;if(5===(s=o.tag)||6===s){r=i=o;continue e}l=l.parentNode}}r=r.return}!function(e,t,n){if(Le)return e();Le=!0;try{Ie(e,t,n)}finally{Le=!1,je()}}((function(){var r=i,a=Pe(n),o=[];e:{var l=Tt.get(e);if(void 0!==l){var s=fn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":s=_n;break;case"focusin":u="focus",s=mn;break;case"focusout":u="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case _t:case Dt:case Rt:s=bn;break;case Ot:s=On;break;case"scroll":s=hn;break;case"wheel":s=Tn;break;case"copy":case"cut":case"paste":s=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Dn}var c=0!=(4&t),d=!c&&"scroll"===e,f=c?null!==l?l+"Capture":null:l;c=[];for(var p,h=r;null!==h;){var g=(p=h).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==f&&null!=(g=ze(h,f))&&c.push(Mr(h,g,p))),d)break;h=h.return}0<c.length&&(l=new s(l,u,null,n,a),o.push({event:l,listeners:c}))}}if(0==(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!Zr(u)&&!u[$r])&&(s||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?Zr(u):null)&&(u!==(d=Xe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=vn,g="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Dn,g="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==s?l:ea(s),p=null==u?l:ea(u),(l=new c(g,h+"leave",s,n,a)).target=d,l.relatedTarget=p,g=null,Zr(a)===r&&((c=new c(f,h+"enter",u,n,a)).target=p,c.relatedTarget=d,g=c),d=g,s&&u)e:{for(f=u,h=0,p=c=s;p;p=Ar(p))h++;for(p=0,g=f;g;g=Ar(g))p++;for(;0<h-p;)c=Ar(c),h--;for(;0<p-h;)f=Ar(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=Ar(c),f=Ar(f)}c=null}else c=null;null!==s&&Ir(o,l,s,c,!1),null!==u&&null!==d&&Ir(o,d,u,c,!0)}if("select"===(s=(l=r?ea(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var v=Xn;else if(Wn(l))if($n)v=ir;else{v=rr;var y=nr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(v=ar);switch(v&&(v=v(e,r))?qn(o,v,n,a):(y&&y(e,l,r),"focusout"===e&&(y=l._wrapperState)&&y.controlled&&"number"===l.type&&ae(l,"number",l.value)),y=r?ea(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,br(o,n,a);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":br(o,n,a)}var m;if(Bn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(m=nn()):(en="value"in(Jt=a)?Jt.value:Jt.textContent,Vn=!0)),0<(y=Br(r,b)).length&&(b=new xn(b,e,null,n,a),o.push({event:b,listeners:y}),(m||null!==(m=Fn(n)))&&(b.data=m))),(m=In?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(jn=!0,Ln);case"textInput":return(e=t.data)===Ln&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Bn&&zn(e,t)?(e=nn(),tn=en=Jt=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Br(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=m)}Pr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Br(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=ze(e,n))&&r.unshift(Mr(e,i,a)),null!=(i=ze(e,t))&&r.push(Mr(e,i,a))),e=e.return}return r}function Ar(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ir(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,a?null!=(s=ze(n,i))&&o.unshift(Mr(n,s,l)):a||null!=(s=ze(n,i))&&o.push(Mr(n,s,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Nr(){}var Lr=null,jr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Fr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vr="function"==typeof setTimeout?setTimeout:void 0,Hr="function"==typeof clearTimeout?clearTimeout:void 0;function Wr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Kr=0,Gr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Gr,Xr="__reactProps$"+Gr,$r="__reactContainer$"+Gr,Qr="__reactEvents$"+Gr;function Zr(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$r]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ur(e);null!==e;){if(n=e[Yr])return n;e=Ur(e)}return t}n=(e=n).parentNode}return null}function Jr(e){return!(e=e[Yr]||e[$r])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ea(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ta(e){return e[Xr]||null}function na(e){var t=e[Qr];return void 0===t&&(t=e[Qr]=new Set),t}var ra=[],aa=-1;function ia(e){return{current:e}}function oa(e){0>aa||(e.current=ra[aa],ra[aa]=null,aa--)}function la(e,t){aa++,ra[aa]=e.current,e.current=t}var sa={},ua=ia(sa),ca=ia(!1),da=sa;function fa(e,t){var n=e.type.contextTypes;if(!n)return sa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function pa(e){return null!=e.childContextTypes}function ha(){oa(ca),oa(ua)}function ga(e,t,n){if(ua.current!==sa)throw Error(o(168));la(ua,t),la(ca,n)}function va(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,G(t)||"Unknown",i));return a({},n,r)}function ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sa,da=ua.current,la(ua,e),la(ca,ca.current),!0}function ma(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=va(e,t,da),r.__reactInternalMemoizedMergedChildContext=e,oa(ca),oa(ua),la(ua,e)):oa(ca),la(ca,n)}var ba=null,wa=null,xa=i.unstable_runWithPriority,Ea=i.unstable_scheduleCallback,Sa=i.unstable_cancelCallback,ka=i.unstable_shouldYield,Pa=i.unstable_requestPaint,Ca=i.unstable_now,_a=i.unstable_getCurrentPriorityLevel,Da=i.unstable_ImmediatePriority,Ra=i.unstable_UserBlockingPriority,Oa=i.unstable_NormalPriority,Ta=i.unstable_LowPriority,Ma=i.unstable_IdlePriority,Ba={},Aa=void 0!==Pa?Pa:function(){},Ia=null,Na=null,La=!1,ja=Ca(),za=1e4>ja?Ca:function(){return Ca()-ja};function Fa(){switch(_a()){case Da:return 99;case Ra:return 98;case Oa:return 97;case Ta:return 96;case Ma:return 95;default:throw Error(o(332))}}function Va(e){switch(e){case 99:return Da;case 98:return Ra;case 97:return Oa;case 96:return Ta;case 95:return Ma;default:throw Error(o(332))}}function Ha(e,t){return e=Va(e),xa(e,t)}function Wa(e,t,n){return e=Va(e),Ea(e,t,n)}function qa(){if(null!==Na){var e=Na;Na=null,Sa(e)}Ua()}function Ua(){if(!La&&null!==Ia){La=!0;var e=0;try{var t=Ia;Ha(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ia=null}catch(t){throw null!==Ia&&(Ia=Ia.slice(e+1)),Ea(Da,qa),t}finally{La=!1}}}var Ka=x.ReactCurrentBatchConfig;function Ga(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ya=ia(null),Xa=null,$a=null,Qa=null;function Za(){Qa=$a=Xa=null}function Ja(e){var t=Ya.current;oa(Ya),e.type._context._currentValue=t}function ei(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ti(e,t){Xa=e,Qa=$a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Bo=!0),e.firstContext=null)}function ni(e,t){if(Qa!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Qa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$a){if(null===Xa)throw Error(o(308));$a=t,Xa.dependencies={lanes:0,firstContext:t,responders:null}}else $a=$a.next=t;return e._currentValue}var ri=!1;function ai(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function li(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function si(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ui(e,t,n,r){var i=e.updateQueue;ri=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===l?o=c:l.next=c,l=u;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==l&&(null===f?d.firstBaseUpdate=c:f.next=c,d.lastBaseUpdate=u)}}if(null!==o){for(f=i.baseState,l=0,d=c=u=null;;){s=o.lane;var p=o.eventTime;if((r&s)===s){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,g=o;switch(s=t,p=n,g.tag){case 1:if("function"==typeof(h=g.payload)){f=h.call(p,f,s);break e}f=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(s="function"==typeof(h=g.payload)?h.call(p,f,s):h))break e;f=a({},f,s);break e;case 2:ri=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else p={eventTime:p,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,u=f):d=d.next=p,l|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===d&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,Il|=l,e.lanes=l,e.memoizedState=f}}function ci(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!=typeof a)throw Error(o(191,a));a.call(r)}}}var di=(new r.Component).refs;function fi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pi={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=os(),a=ls(e),i=oi(r,a);i.payload=t,null!=n&&(i.callback=n),li(e,i),ss(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=os(),a=ls(e),i=oi(r,a);i.tag=1,i.payload=t,null!=n&&(i.callback=n),li(e,i),ss(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=os(),r=ls(e),a=oi(n,r);a.tag=2,null!=t&&(a.callback=t),li(e,a),ss(e,r,n)}};function hi(e,t,n,r,a,i,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!(t.prototype&&t.prototype.isPureReactComponent&&sr(n,r)&&sr(a,i))}function gi(e,t,n){var r=!1,a=sa,i=t.contextType;return"object"==typeof i&&null!==i?i=ni(i):(a=pa(t)?da:ua.current,i=(r=null!=(r=t.contextTypes))?fa(e,a):sa),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function vi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pi.enqueueReplaceState(t,t.state,null)}function yi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=di,ai(e);var i=t.contextType;"object"==typeof i&&null!==i?a.context=ni(i):(i=pa(t)?da:ua.current,a.context=fa(e,i)),ui(e,n,a,r),a.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(fi(e,t,i,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&pi.enqueueReplaceState(a,a.state,null),ui(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4)}var mi=Array.isArray;function bi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===di&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function wi(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Fs(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function l(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=qs(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=bi(e,t,n),r.return=e,r):((r=Vs(n.type,n.key,n.props,null,e.mode,r)).ref=bi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Us(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Hs(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=qs(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Vs(t.type,t.key,t.props,null,e.mode,n)).ref=bi(e,null,t),n.return=e,n;case S:return(t=Us(t,e.mode,n)).return=e,t}if(mi(t)||H(t))return(t=Hs(t,e.mode,n,null)).return=e,t;wi(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==a?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===a?n.type===k?d(e,t,n.props.children,r,a):u(e,t,n,r):null;case S:return n.key===a?c(e,t,n,r):null}if(mi(n)||H(n))return null!==a?null:d(e,t,n,r,null);wi(e,n)}return null}function h(e,t,n,r,a){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===k?d(t,e,r.props.children,a,r.key):u(t,e,r,a);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(mi(r)||H(r))return d(t,e=e.get(n)||null,r,a,null);wi(t,r)}return null}function g(a,o,l,s){for(var u=null,c=null,d=o,g=o=0,v=null;null!==d&&g<l.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var y=p(a,d,l[g],s);if(null===y){null===d&&(d=v);break}e&&d&&null===y.alternate&&t(a,d),o=i(y,o,g),null===c?u=y:c.sibling=y,c=y,d=v}if(g===l.length)return n(a,d),u;if(null===d){for(;g<l.length;g++)null!==(d=f(a,l[g],s))&&(o=i(d,o,g),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(a,d);g<l.length;g++)null!==(v=h(d,a,g,l[g],s))&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),o=i(v,o,g),null===c?u=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(a,e)})),u}function v(a,l,s,u){var c=H(s);if("function"!=typeof c)throw Error(o(150));if(null==(s=c.call(s)))throw Error(o(151));for(var d=c=null,g=l,v=l=0,y=null,m=s.next();null!==g&&!m.done;v++,m=s.next()){g.index>v?(y=g,g=null):y=g.sibling;var b=p(a,g,m.value,u);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(a,g),l=i(b,l,v),null===d?c=b:d.sibling=b,d=b,g=y}if(m.done)return n(a,g),c;if(null===g){for(;!m.done;v++,m=s.next())null!==(m=f(a,m.value,u))&&(l=i(m,l,v),null===d?c=m:d.sibling=m,d=m);return c}for(g=r(a,g);!m.done;v++,m=s.next())null!==(m=h(g,a,v,m.value,u))&&(e&&null!==m.alternate&&g.delete(null===m.key?v:m.key),l=i(m,l,v),null===d?c=m:d.sibling=m,d=m);return e&&g.forEach((function(e){return t(a,e)})),c}return function(e,r,i,s){var u="object"==typeof i&&null!==i&&i.type===k&&null===i.key;u&&(i=i.props.children);var c="object"==typeof i&&null!==i;if(c)switch(i.$$typeof){case E:e:{for(c=i.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(i.type===k){n(e,u.sibling),(r=a(u,i.props.children)).return=e,e=r;break e}break;default:if(u.elementType===i.type){n(e,u.sibling),(r=a(u,i.props)).ref=bi(e,u,i),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}i.type===k?((r=Hs(i.props.children,e.mode,s,i.key)).return=e,e=r):((s=Vs(i.type,i.key,i.props,null,e.mode,s)).ref=bi(e,r,i),s.return=e,e=s)}return l(e);case S:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Us(i,e.mode,s)).return=e,e=r}return l(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=qs(i,e.mode,s)).return=e,e=r),l(e);if(mi(i))return g(e,r,i,s);if(H(i))return v(e,r,i,s);if(c&&wi(e,i),void 0===i&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ei=xi(!0),Si=xi(!1),ki={},Pi=ia(ki),Ci=ia(ki),_i=ia(ki);function Di(e){if(e===ki)throw Error(o(174));return e}function Ri(e,t){switch(la(_i,t),la(Ci,e),la(Pi,ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}oa(Pi),la(Pi,t)}function Oi(){oa(Pi),oa(Ci),oa(_i)}function Ti(e){Di(_i.current);var t=Di(Pi.current),n=pe(t,e.type);t!==n&&(la(Ci,e),la(Pi,n))}function Mi(e){Ci.current===e&&(oa(Pi),oa(Ci))}var Bi=ia(0);function Ai(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ii=null,Ni=null,Li=!1;function ji(e,t){var n=js(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Fi(e){if(Li){var t=Ni;if(t){var n=t;if(!zi(e,t)){if(!(t=qr(n.nextSibling))||!zi(e,t))return e.flags=-1025&e.flags|2,Li=!1,void(Ii=e);ji(Ii,n)}Ii=e,Ni=qr(t.firstChild)}else e.flags=-1025&e.flags|2,Li=!1,Ii=e}}function Vi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ii=e}function Hi(e){if(e!==Ii)return!1;if(!Li)return Vi(e),Li=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Fr(t,e.memoizedProps))for(t=Ni;t;)ji(e,t),t=qr(t.nextSibling);if(Vi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ni=qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ni=null}}else Ni=Ii?qr(e.stateNode.nextSibling):null;return!0}function Wi(){Ni=Ii=null,Li=!1}var qi=[];function Ui(){for(var e=0;e<qi.length;e++)qi[e]._workInProgressVersionPrimary=null;qi.length=0}var Ki=x.ReactCurrentDispatcher,Gi=x.ReactCurrentBatchConfig,Yi=0,Xi=null,$i=null,Qi=null,Zi=!1,Ji=!1;function eo(){throw Error(o(321))}function to(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function no(e,t,n,r,a,i){if(Yi=i,Xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ki.current=null===e||null===e.memoizedState?Ro:Oo,e=n(r,a),Ji){i=0;do{if(Ji=!1,!(25>i))throw Error(o(301));i+=1,Qi=$i=null,t.updateQueue=null,Ki.current=To,e=n(r,a)}while(Ji)}if(Ki.current=Do,t=null!==$i&&null!==$i.next,Yi=0,Qi=$i=Xi=null,Zi=!1,t)throw Error(o(300));return e}function ro(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qi?Xi.memoizedState=Qi=e:Qi=Qi.next=e,Qi}function ao(){if(null===$i){var e=Xi.alternate;e=null!==e?e.memoizedState:null}else e=$i.next;var t=null===Qi?Xi.memoizedState:Qi.next;if(null!==t)Qi=t,$i=e;else{if(null===e)throw Error(o(310));e={memoizedState:($i=e).memoizedState,baseState:$i.baseState,baseQueue:$i.baseQueue,queue:$i.queue,next:null},null===Qi?Xi.memoizedState=Qi=e:Qi=Qi.next=e}return Qi}function io(e,t){return"function"==typeof t?t(e):t}function oo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=$i,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var s=l=i=null,u=a;do{var c=u.lane;if((Yi&c)===c)null!==s&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(l=s=d,i=r):s=s.next=d,Xi.lanes|=c,Il|=c}u=u.next}while(null!==u&&u!==a);null===s?i=r:s.next=l,or(r,t.memoizedState)||(Bo=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);or(i,t.memoizedState)||(Bo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function so(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Yi&e)===e)&&(t._workInProgressVersionPrimary=r,qi.push(t))),e)return n(t._source);throw qi.push(t),Error(o(350))}function uo(e,t,n,r){var a=_l;if(null===a)throw Error(o(349));var i=t._getVersion,l=i(t._source),s=Ki.current,u=s.useState((function(){return so(a,t,n)})),c=u[1],d=u[0];u=Qi;var f=e.memoizedState,p=f.refs,h=p.getSnapshot,g=f.source;f=f.subscribe;var v=Xi;return e.memoizedState={refs:p,source:t,subscribe:r},s.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var e=i(t._source);if(!or(l,e)){e=n(t._source),or(d,e)||(c(e),e=ls(v),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,o=e;0<o;){var s=31-Wt(o),u=1<<s;r[s]|=e,o&=~u}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=ls(v);a.mutableReadLanes|=r&a.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),or(h,n)&&or(g,t)&&or(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:io,lastRenderedState:d}).dispatch=c=_o.bind(null,Xi,e),u.queue=e,u.baseQueue=null,d=so(a,t,n),u.memoizedState=u.baseState=d),d}function co(e,t,n){return uo(ao(),e,t,n)}function fo(e){var t=ro();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:io,lastRenderedState:e}).dispatch=_o.bind(null,Xi,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xi.updateQueue)?(t={lastEffect:null},Xi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ho(e){return e={current:e},ro().memoizedState=e}function go(){return ao().memoizedState}function vo(e,t,n,r){var a=ro();Xi.flags|=e,a.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function yo(e,t,n,r){var a=ao();r=void 0===r?null:r;var i=void 0;if(null!==$i){var o=$i.memoizedState;if(i=o.destroy,null!==r&&to(r,o.deps))return void po(t,n,i,r)}Xi.flags|=e,a.memoizedState=po(1|t,n,i,r)}function mo(e,t){return vo(516,4,e,t)}function bo(e,t){return yo(516,4,e,t)}function wo(e,t){return yo(4,2,e,t)}function xo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!=n?n.concat([e]):null,yo(4,2,xo.bind(null,t,e),n)}function So(){}function ko(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&to(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Po(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&to(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Co(e,t){var n=Fa();Ha(98>n?98:n,(function(){e(!0)})),Ha(97<n?97:n,(function(){var n=Gi.transition;Gi.transition=1;try{e(!1),t()}finally{Gi.transition=n}}))}function _o(e,t,n){var r=os(),a=ls(e),i={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Xi||null!==o&&o===Xi)Ji=Zi=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=o(l,n);if(i.eagerReducer=o,i.eagerState=s,or(s,l))return}catch(e){}ss(e,a,r)}}var Do={readContext:ni,useCallback:eo,useContext:eo,useEffect:eo,useImperativeHandle:eo,useLayoutEffect:eo,useMemo:eo,useReducer:eo,useRef:eo,useState:eo,useDebugValue:eo,useDeferredValue:eo,useTransition:eo,useMutableSource:eo,useOpaqueIdentifier:eo,unstable_isNewReconciler:!1},Ro={readContext:ni,useCallback:function(e,t){return ro().memoizedState=[e,void 0===t?null:t],e},useContext:ni,useEffect:mo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,vo(4,2,xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vo(4,2,e,t)},useMemo:function(e,t){var n=ro();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ro();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=_o.bind(null,Xi,e),[r.memoizedState,e]},useRef:ho,useState:fo,useDebugValue:So,useDeferredValue:function(e){var t=fo(e),n=t[0],r=t[1];return mo((function(){var t=Gi.transition;Gi.transition=1;try{r(e)}finally{Gi.transition=t}}),[e]),n},useTransition:function(){var e=fo(!1),t=e[0];return ho(e=Co.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ro();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},uo(r,e,t,n)},useOpaqueIdentifier:function(){if(Li){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Kr++).toString(36))),Error(o(355))})),n=fo(t)[1];return 0==(2&Xi.mode)&&(Xi.flags|=516,po(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),t}return fo(t="r:"+(Kr++).toString(36)),t},unstable_isNewReconciler:!1},Oo={readContext:ni,useCallback:ko,useContext:ni,useEffect:bo,useImperativeHandle:Eo,useLayoutEffect:wo,useMemo:Po,useReducer:oo,useRef:go,useState:function(){return oo(io)},useDebugValue:So,useDeferredValue:function(e){var t=oo(io),n=t[0],r=t[1];return bo((function(){var t=Gi.transition;Gi.transition=1;try{r(e)}finally{Gi.transition=t}}),[e]),n},useTransition:function(){var e=oo(io)[0];return[go().current,e]},useMutableSource:co,useOpaqueIdentifier:function(){return oo(io)[0]},unstable_isNewReconciler:!1},To={readContext:ni,useCallback:ko,useContext:ni,useEffect:bo,useImperativeHandle:Eo,useLayoutEffect:wo,useMemo:Po,useReducer:lo,useRef:go,useState:function(){return lo(io)},useDebugValue:So,useDeferredValue:function(e){var t=lo(io),n=t[0],r=t[1];return bo((function(){var t=Gi.transition;Gi.transition=1;try{r(e)}finally{Gi.transition=t}}),[e]),n},useTransition:function(){var e=lo(io)[0];return[go().current,e]},useMutableSource:co,useOpaqueIdentifier:function(){return lo(io)[0]},unstable_isNewReconciler:!1},Mo=x.ReactCurrentOwner,Bo=!1;function Ao(e,t,n,r){t.child=null===e?Si(t,null,n,r):Ei(t,e.child,n,r)}function Io(e,t,n,r,a){n=n.render;var i=t.ref;return ti(t,a),r=no(e,t,n,r,i,a),null===e||Bo?(t.flags|=1,Ao(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,Jo(e,t,a))}function No(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!=typeof o||zs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vs(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Lo(e,t,o,r,a,i))}return o=e.child,0==(a&i)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)?Jo(e,t,i):(t.flags|=1,(e=Fs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Lo(e,t,n,r,a,i){if(null!==e&&sr(e.memoizedProps,r)&&e.ref===t.ref){if(Bo=!1,0==(i&a))return t.lanes=e.lanes,Jo(e,t,i);0!=(16384&e.flags)&&(Bo=!0)}return Fo(e,t,n,r,i)}function jo(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},vs(0,n);else{if(0==(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},vs(0,e),null;t.memoizedState={baseLanes:0},vs(0,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,vs(0,r);return Ao(e,t,a,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Fo(e,t,n,r,a){var i=pa(n)?da:ua.current;return i=fa(t,i),ti(t,a),n=no(e,t,n,r,i,a),null===e||Bo?(t.flags|=1,Ao(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,Jo(e,t,a))}function Vo(e,t,n,r,a){if(pa(n)){var i=!0;ya(t)}else i=!1;if(ti(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),gi(t,n,r),yi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,l=t.memoizedProps;o.props=l;var s=o.context,u=n.contextType;u="object"==typeof u&&null!==u?ni(u):fa(t,u=pa(n)?da:ua.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(l!==r||s!==u)&&vi(t,o,r,u),ri=!1;var f=t.memoizedState;o.state=f,ui(t,r,o,a),s=t.memoizedState,l!==r||f!==s||ca.current||ri?("function"==typeof c&&(fi(t,n,c,r),s=t.memoizedState),(l=ri||hi(t,n,l,r,f,s,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=u,r=l):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ii(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ga(t.type,l),o.props=u,d=t.pendingProps,f=o.context,s="object"==typeof(s=n.contextType)&&null!==s?ni(s):fa(t,s=pa(n)?da:ua.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(l!==d||f!==s)&&vi(t,o,r,s),ri=!1,f=t.memoizedState,o.state=f,ui(t,r,o,a);var h=t.memoizedState;l!==d||f!==h||ca.current||ri?("function"==typeof p&&(fi(t,n,p,r),h=t.memoizedState),(u=ri||hi(t,n,u,r,f,h,s))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,s),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,s)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=s,r=u):("function"!=typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,i,a)}function Ho(e,t,n,r,a,i){zo(e,t);var o=0!=(64&t.flags);if(!r&&!o)return a&&ma(t,n,!1),Jo(e,t,i);r=t.stateNode,Mo.current=t;var l=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,l,i)):Ao(e,t,l,i),t.memoizedState=r.state,a&&ma(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?ga(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ga(0,t.context,!1),Ri(e,t.containerInfo)}var qo,Uo,Ko,Go={dehydrated:null,retryLane:0};function Yo(e,t,n){var r,a=t.pendingProps,i=Bi.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&i)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),la(Bi,1&i),null===e?(void 0!==a.fallback&&Fi(t),e=a.children,i=a.fallback,o?(e=Xo(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Go,e):"number"==typeof a.unstable_expectedLoadTime?(e=Xo(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Go,t.lanes=33554432,e):((n=Ws({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=function(e,t,n,r,a){var i=t.mode,o=e.child;e=o.sibling;var l={mode:"hidden",children:n};return 0==(2&i)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=l,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Fs(o,l),null!==e?r=Fs(e,r):(r=Hs(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,a.children,a.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Go,a):(n=function(e,t,n,r){var a=e.child;return e=a.sibling,n=Fs(a,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,a.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0==(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=Ws(t,a,0,null),n=Hs(n,a,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function $o(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ei(e.return,t)}function Qo(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=i)}function Zo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ao(e,t,r.children,n),0!=(2&(r=Bi.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,n);else if(19===e.tag)$o(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(la(Bi,r),0==(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Ai(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Qo(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ai(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Qo(t,!0,n,null,i,t.lastEffect);break;case"together":Qo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function el(e,t){if(!Li)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pa(t.type)&&ha(),null;case 3:return Oi(),oa(ca),oa(ua),Ui(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Hi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mi(t);var i=Di(_i.current);if(n=t.type,null!==e&&null!=t.stateNode)Uo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Di(Pi.current),Hi(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Yr]=t,r[Xr]=l,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Cr(Er[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,l),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Cr("invalid",r);break;case"textarea":se(r,l),Cr("invalid",r)}for(var u in Se(n,l),e=null,l)l.hasOwnProperty(u)&&(i=l[u],"children"===u?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):s.hasOwnProperty(u)&&null!=i&&"onScroll"===u&&Cr("scroll",r));switch(n){case"input":$(r),re(r,l,!0);break;case"textarea":$(r),ce(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=Nr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===i.nodeType?i:i.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Yr]=t,e[Xr]=r,qo(e,t),t.stateNode=e,u=ke(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),i=r;break;case"iframe":case"object":case"embed":Cr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Er.length;i++)Cr(Er[i],e);i=r;break;case"source":Cr("error",e),i=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),i=r;break;case"details":Cr("toggle",e),i=r;break;case"input":ee(e,r),i=J(e,r),Cr("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=a({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":se(e,r),i=le(e,r),Cr("invalid",e);break;default:i=r}Se(n,i);var c=i;for(l in c)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?xe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===l?"string"==typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"==typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Cr("scroll",e):null!=d&&w(e,l,d,u))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?oe(e,!!r.multiple,l,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Nr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ko(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));n=Di(_i.current),Di(Pi.current),Hi(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return oa(Bi),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Hi(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Bi.current)?0===Ml&&(Ml=3):(0!==Ml&&3!==Ml||(Ml=4),null===_l||0==(134217727&Il)&&0==(134217727&Nl)||fs(_l,Rl))),(r||n)&&(t.flags|=4),null);case 4:return Oi(),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return Ja(t),null;case 17:return pa(t.type)&&ha(),null;case 19:if(oa(Bi),null===(r=t.memoizedState))return null;if(l=0!=(64&t.flags),null===(u=r.rendering))if(l)el(r,!1);else{if(0!==Ml||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Ai(e))){for(t.flags|=64,el(r,!1),null!==(l=u.updateQueue)&&(t.updateQueue=l,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(u=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,e=u.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return la(Bi,1&Bi.current|2),t.child}e=e.sibling}null!==r.tail&&za()>Fl&&(t.flags|=64,l=!0,el(r,!1),t.lanes=33554432)}else{if(!l)if(null!==(e=Ai(u))){if(t.flags|=64,l=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),el(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Li)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*za()-r.renderingStartTime>Fl&&1073741824!==n&&(t.flags|=64,l=!0,el(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=za(),n.sibling=null,t=Bi.current,la(Bi,l?1&t|2:1&t),n):null;case 23:case 24:return ys(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function nl(e){switch(e.tag){case 1:pa(e.type)&&ha();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Oi(),oa(ca),oa(ua),Ui(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Mi(e),null;case 13:return oa(Bi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return oa(Bi),null;case 4:return Oi(),null;case 10:return Ja(e),null;case 23:case 24:return ys(),null;default:return null}}function rl(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var a=n}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a}}function al(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Uo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Di(Pi.current);var o,l=null;switch(n){case"input":i=J(e,i),r=J(e,r),l=[];break;case"option":i=ie(e,i),r=ie(e,r),l=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),l=[];break;case"textarea":i=le(e,i),r=le(e,r),l=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Nr)}for(d in Se(n,r),n=null,i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var u=i[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(u=null!=i?i[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(null!=c||null!=u))if("style"===d)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Cr("scroll",e),l||u===c||(l=[])):"object"==typeof c&&null!==c&&c.$$typeof===I?c.toString():(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ko=function(e,t,n,r){n!==r&&(t.flags|=4)};var il="function"==typeof WeakMap?WeakMap:Map;function ol(e,t,n){(n=oi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Ul=r),al(0,t)},n}function ll(e,t,n){(n=oi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return al(0,t),r(a)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this),al(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var sl="function"==typeof WeakSet?WeakSet:Set;function ul(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){As(e,t)}else t.current=null}function cl(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ga(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function dl(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!=(4&(a=a.tag))&&0!=(1&a)&&(Ts(n,e),Os(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ga(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ci(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ci(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function fl(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=null!=a&&a.hasOwnProperty("display")?a.display:null,r.style.display=we("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function pl(e,t){if(wa&&"function"==typeof wa.onCommitFiberUnmount)try{wa.onCommitFiberUnmount(ba,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!=(4&r))Ts(t,n);else{r=t;try{a()}catch(e){As(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ul(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){As(t,e)}break;case 5:ul(t);break;case 4:bl(e,t)}}function hl(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gl(e){return 5===e.tag||3===e.tag||4===e.tag}function vl(e){e:{for(var t=e.return;null!==t;){if(gl(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gl(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?yl(e,n,t):ml(e,n,t)}function yl(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Nr));else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function ml(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function bl(e,t){for(var n,r,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(o(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var l=e,s=a,u=s;;)if(pl(l,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===s)break e;for(;null===u.sibling;){if(null===u.return||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(l=n,s=a.stateNode,8===l.nodeType?l.parentNode.removeChild(s):l.removeChild(s)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(pl(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function wl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,a),t=ke(e,r),a=0;a<i.length;a+=2){var l=i[a],s=i[a+1];"style"===l?xe(n,s):"dangerouslySetInnerHTML"===l?ve(n,s):"children"===l?ye(n,s):w(n,l,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?oe(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(zl=za(),fl(t.child,!0)),void xl(t);case 19:return void xl(t);case 17:return;case 23:case 24:return void fl(t,null!==t.memoizedState)}throw Error(o(163))}function xl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sl),t.forEach((function(t){var r=Ns.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function El(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Sl=Math.ceil,kl=x.ReactCurrentDispatcher,Pl=x.ReactCurrentOwner,Cl=0,_l=null,Dl=null,Rl=0,Ol=0,Tl=ia(0),Ml=0,Bl=null,Al=0,Il=0,Nl=0,Ll=0,jl=null,zl=0,Fl=1/0;function Vl(){Fl=za()+500}var Hl,Wl=null,ql=!1,Ul=null,Kl=null,Gl=!1,Yl=null,Xl=90,$l=[],Ql=[],Zl=null,Jl=0,es=null,ts=-1,ns=0,rs=0,as=null,is=!1;function os(){return 0!=(48&Cl)?za():-1!==ts?ts:ts=za()}function ls(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Fa()?1:2;if(0===ns&&(ns=Al),0!==Ka.transition){0!==rs&&(rs=null!==jl?jl.pendingLanes:0),e=ns;var t=4186112&~rs;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Fa(),e=zt(0!=(4&Cl)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ns)}function ss(e,t,n){if(50<Jl)throw Jl=0,es=null,Error(o(185));if(null===(e=us(e,t)))return null;Ht(e,t,n),e===_l&&(Nl|=t,4===Ml&&fs(e,Rl));var r=Fa();1===t?0!=(8&Cl)&&0==(48&Cl)?ps(e):(cs(e,n),0===Cl&&(Vl(),qa())):(0==(4&Cl)||98!==r&&99!==r||(null===Zl?Zl=new Set([e]):Zl.add(e)),cs(e,n)),jl=e}function us(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cs(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-Wt(l),u=1<<s,c=i[s];if(-1===c){if(0==(u&r)||0!=(u&a)){c=t,Nt(u);var d=It;i[s]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);l&=~u}if(r=Lt(e,e===_l?Rl:0),t=It,0===r)null!==n&&(n!==Ba&&Sa(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ba&&Sa(n)}15===t?(n=ps.bind(null,e),null===Ia?(Ia=[n],Na=Ea(Da,Ua)):Ia.push(n),n=Ba):n=14===t?Wa(99,ps.bind(null,e)):Wa(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),ds.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ds(e){if(ts=-1,rs=ns=0,0!=(48&Cl))throw Error(o(327));var t=e.callbackNode;if(Rs()&&e.callbackNode!==t)return null;var n=Lt(e,e===_l?Rl:0);if(0===n)return null;var r=n,a=Cl;Cl|=16;var i=ws();for(_l===e&&Rl===r||(Vl(),ms(e,r));;)try{Ss();break}catch(t){bs(e,t)}if(Za(),kl.current=i,Cl=a,null!==Dl?r=0:(_l=null,Rl=0,r=Ml),0!=(Al&Nl))ms(e,0);else if(0!==r){if(2===r&&(Cl|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=jt(e))&&(r=xs(e,n))),1===r)throw t=Bl,ms(e,0),fs(e,n),cs(e,za()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Cs(e);break;case 3:if(fs(e,n),(62914560&n)===n&&10<(r=zl+500-za())){if(0!==Lt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){os(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Vr(Cs.bind(null,e),r);break}Cs(e);break;case 4:if(fs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var l=31-Wt(n);i=1<<l,(l=r[l])>a&&(a=l),n&=~i}if(n=a,10<(n=(120>(n=za()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sl(n/1960))-n)){e.timeoutHandle=Vr(Cs.bind(null,e),n);break}Cs(e);break;case 5:Cs(e);break;default:throw Error(o(329))}}return cs(e,za()),e.callbackNode===t?ds.bind(null,e):null}function fs(e,t){for(t&=~Ll,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ps(e){if(0!=(48&Cl))throw Error(o(327));if(Rs(),e===_l&&0!=(e.expiredLanes&Rl)){var t=Rl,n=xs(e,t);0!=(Al&Nl)&&(n=xs(e,t=Lt(e,t)))}else n=xs(e,t=Lt(e,0));if(0!==e.tag&&2===n&&(Cl|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=jt(e))&&(n=xs(e,t))),1===n)throw n=Bl,ms(e,0),fs(e,t),cs(e,za()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cs(e),cs(e,za()),null}function hs(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Vl(),qa())}}function gs(e,t){var n=Cl;Cl&=-2,Cl|=8;try{return e(t)}finally{0===(Cl=n)&&(Vl(),qa())}}function vs(e,t){la(Tl,Ol),Ol|=t,Al|=t}function ys(){Ol=Tl.current,oa(Tl)}function ms(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&ha();break;case 3:Oi(),oa(ca),oa(ua),Ui();break;case 5:Mi(r);break;case 4:Oi();break;case 13:case 19:oa(Bi);break;case 10:Ja(r);break;case 23:case 24:ys()}n=n.return}_l=e,Dl=Fs(e.current,null),Rl=Ol=Al=t,Ml=0,Bl=null,Ll=Nl=Il=0}function bs(e,t){for(;;){var n=Dl;try{if(Za(),Ki.current=Do,Zi){for(var r=Xi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}Zi=!1}if(Yi=0,Qi=$i=Xi=null,Ji=!1,Pl.current=null,null===n||null===n.return){Ml=1,Bl=t,Dl=null;break}e:{var i=e,o=n.return,l=n,s=t;if(t=Rl,l.flags|=2048,l.firstEffect=l.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s;if(0==(2&l.mode)){var c=l.alternate;c?(l.updateQueue=c.updateQueue,l.memoizedState=c.memoizedState,l.lanes=c.lanes):(l.updateQueue=null,l.memoizedState=null)}var d=0!=(1&Bi.current),f=o;do{var p;if(p=13===f.tag){var h=f.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var g=f.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(p){var v=f.updateQueue;if(null===v){var y=new Set;y.add(u),f.updateQueue=y}else v.add(u);if(0==(2&f.mode)){if(f.flags|=64,l.flags|=16384,l.flags&=-2981,1===l.tag)if(null===l.alternate)l.tag=17;else{var m=oi(-1,1);m.tag=2,li(l,m)}l.lanes|=1;break e}s=void 0,l=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new il,s=new Set,b.set(u,s)):void 0===(s=b.get(u))&&(s=new Set,b.set(u,s)),!s.has(l)){s.add(l);var w=Is.bind(null,i,u,l);u.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);s=Error((G(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ml&&(Ml=2),s=rl(s,l),f=o;do{switch(f.tag){case 3:i=s,f.flags|=4096,t&=-t,f.lanes|=t,si(f,ol(0,i,t));break e;case 1:i=s;var x=f.type,E=f.stateNode;if(0==(64&f.flags)&&("function"==typeof x.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Kl||!Kl.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,si(f,ll(f,i,t));break e}}f=f.return}while(null!==f)}Ps(n)}catch(e){t=e,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function ws(){var e=kl.current;return kl.current=Do,null===e?Do:e}function xs(e,t){var n=Cl;Cl|=16;var r=ws();for(_l===e&&Rl===t||ms(e,t);;)try{Es();break}catch(t){bs(e,t)}if(Za(),Cl=n,kl.current=r,null!==Dl)throw Error(o(261));return _l=null,Rl=0,Ml}function Es(){for(;null!==Dl;)ks(Dl)}function Ss(){for(;null!==Dl&&!ka();)ks(Dl)}function ks(e){var t=Hl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?Ps(e):Dl=t,Pl.current=null}function Ps(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=tl(n,t,Ol)))return void(Dl=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ol)||0==(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=nl(t)))return n.flags&=2047,void(Dl=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ml&&(Ml=5)}function Cs(e){var t=Fa();return Ha(99,_s.bind(null,e,t)),null}function _s(e,t){do{Rs()}while(null!==Yl);if(0!=(48&Cl))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var l=e.eventTimes,s=e.expirationTimes;0<i;){var u=31-Wt(i),c=1<<u;a[u]=0,l[u]=-1,s[u]=-1,i&=~c}if(null!==Zl&&0==(24&r)&&Zl.has(e)&&Zl.delete(e),e===_l&&(Dl=_l=null,Rl=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Cl,Cl|=32,Pl.current=null,Lr=Yt,pr(l=fr())){if("selectionStart"in l)s={start:l.selectionStart,end:l.selectionEnd};else e:if(s=(s=l.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,i=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{s.nodeType,u.nodeType}catch(e){s=null;break e}var d=0,f=-1,p=-1,h=0,g=0,v=l,y=null;t:for(;;){for(var m;v!==s||0!==i&&3!==v.nodeType||(f=d+i),v!==u||0!==c&&3!==v.nodeType||(p=d+c),3===v.nodeType&&(d+=v.nodeValue.length),null!==(m=v.firstChild);)y=v,v=m;for(;;){if(v===l)break t;if(y===s&&++h===i&&(f=d),y===u&&++g===c&&(p=d),null!==(m=v.nextSibling))break;y=(v=y).parentNode}v=m}s=-1===f||-1===p?null:{start:f,end:p}}else s=null;s=s||{start:0,end:0}}else s=null;jr={focusedElem:l,selectionRange:s},Yt=!1,as=null,is=!1,Wl=r;do{try{Ds()}catch(e){if(null===Wl)throw Error(o(330));As(Wl,e),Wl=Wl.nextEffect}}while(null!==Wl);as=null,Wl=r;do{try{for(l=e;null!==Wl;){var b=Wl.flags;if(16&b&&ye(Wl.stateNode,""),128&b){var w=Wl.alternate;if(null!==w){var x=w.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&b){case 2:vl(Wl),Wl.flags&=-3;break;case 6:vl(Wl),Wl.flags&=-3,wl(Wl.alternate,Wl);break;case 1024:Wl.flags&=-1025;break;case 1028:Wl.flags&=-1025,wl(Wl.alternate,Wl);break;case 4:wl(Wl.alternate,Wl);break;case 8:bl(l,s=Wl);var E=s.alternate;hl(s),null!==E&&hl(E)}Wl=Wl.nextEffect}}catch(e){if(null===Wl)throw Error(o(330));As(Wl,e),Wl=Wl.nextEffect}}while(null!==Wl);if(x=jr,w=fr(),b=x.focusedElem,l=x.selectionRange,w!==b&&b&&b.ownerDocument&&dr(b.ownerDocument.documentElement,b)){null!==l&&pr(b)&&(w=l.start,void 0===(x=l.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),s=b.textContent.length,E=Math.min(l.start,s),l=void 0===l.end?E:Math.min(l.end,s),!x.extend&&E>l&&(s=l,l=E,E=s),s=cr(b,E),i=cr(b,l),s&&i&&(1!==x.rangeCount||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==i.node||x.focusOffset!==i.offset)&&((w=w.createRange()).setStart(s.node,s.offset),x.removeAllRanges(),E>l?(x.addRange(w),x.extend(i.node,i.offset)):(w.setEnd(i.node,i.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Yt=!!Lr,jr=Lr=null,e.current=n,Wl=r;do{try{for(b=e;null!==Wl;){var S=Wl.flags;if(36&S&&dl(b,Wl.alternate,Wl),128&S){w=void 0;var k=Wl.ref;if(null!==k){var P=Wl.stateNode;switch(Wl.tag){case 5:w=P;break;default:w=P}"function"==typeof k?k(w):k.current=w}}Wl=Wl.nextEffect}}catch(e){if(null===Wl)throw Error(o(330));As(Wl,e),Wl=Wl.nextEffect}}while(null!==Wl);Wl=null,Aa(),Cl=a}else e.current=n;if(Gl)Gl=!1,Yl=e,Xl=t;else for(Wl=r;null!==Wl;)t=Wl.nextEffect,Wl.nextEffect=null,8&Wl.flags&&((S=Wl).sibling=null,S.stateNode=null),Wl=t;if(0===(r=e.pendingLanes)&&(Kl=null),1===r?e===es?Jl++:(Jl=0,es=e):Jl=0,n=n.stateNode,wa&&"function"==typeof wa.onCommitFiberRoot)try{wa.onCommitFiberRoot(ba,n,void 0,64==(64&n.current.flags))}catch(e){}if(cs(e,za()),ql)throw ql=!1,e=Ul,Ul=null,e;return 0!=(8&Cl)||qa(),null}function Ds(){for(;null!==Wl;){var e=Wl.alternate;is||null===as||(0!=(8&Wl.flags)?Je(Wl,as)&&(is=!0):13===Wl.tag&&El(e,Wl)&&Je(Wl,as)&&(is=!0));var t=Wl.flags;0!=(256&t)&&cl(e,Wl),0==(512&t)||Gl||(Gl=!0,Wa(97,(function(){return Rs(),null}))),Wl=Wl.nextEffect}}function Rs(){if(90!==Xl){var e=97<Xl?97:Xl;return Xl=90,Ha(e,Ms)}return!1}function Os(e,t){$l.push(t,e),Gl||(Gl=!0,Wa(97,(function(){return Rs(),null})))}function Ts(e,t){Ql.push(t,e),Gl||(Gl=!0,Wa(97,(function(){return Rs(),null})))}function Ms(){if(null===Yl)return!1;var e=Yl;if(Yl=null,0!=(48&Cl))throw Error(o(331));var t=Cl;Cl|=32;var n=Ql;Ql=[];for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1],l=a.destroy;if(a.destroy=void 0,"function"==typeof l)try{l()}catch(e){if(null===i)throw Error(o(330));As(i,e)}}for(n=$l,$l=[],r=0;r<n.length;r+=2){a=n[r],i=n[r+1];try{var s=a.create;a.destroy=s()}catch(e){if(null===i)throw Error(o(330));As(i,e)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Cl=t,qa(),!0}function Bs(e,t,n){li(e,t=ol(0,t=rl(n,t),1)),t=os(),null!==(e=us(e,1))&&(Ht(e,1,t),cs(e,t))}function As(e,t){if(3===e.tag)Bs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){var a=ll(n,e=rl(t,e),1);if(li(n,a),a=os(),null!==(n=us(n,1)))Ht(n,1,a),cs(n,a);else if("function"==typeof r.componentDidCatch&&(null===Kl||!Kl.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Is(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=os(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Rl&n)===n&&(4===Ml||3===Ml&&(62914560&Rl)===Rl&&500>za()-zl?ms(e,0):Ll|=n),cs(e,t)}function Ns(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Fa()?1:2:(0===ns&&(ns=Al),0===(t=Ft(62914560&~ns))&&(t=4194304))),n=os(),null!==(e=us(e,t))&&(Ht(e,t,n),cs(e,n))}function Ls(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function js(e,t,n,r){return new Ls(e,t,n,r)}function zs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fs(e,t){var n=e.alternate;return null===n?((n=js(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vs(e,t,n,r,a,i){var l=2;if(r=e,"function"==typeof e)zs(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case k:return Hs(n.children,a,i,t);case N:l=8,a|=16;break;case P:l=8,a|=1;break;case C:return(e=js(12,n,t,8|a)).elementType=C,e.type=C,e.lanes=i,e;case O:return(e=js(13,n,t,a)).type=O,e.elementType=O,e.lanes=i,e;case T:return(e=js(19,n,t,a)).elementType=T,e.lanes=i,e;case L:return Ws(n,a,i,t);case j:return(e=js(24,n,t,a)).elementType=j,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case _:l=10;break e;case D:l=9;break e;case R:l=11;break e;case M:l=14;break e;case B:l=16,r=null;break e;case A:l=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=js(l,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Hs(e,t,n,r){return(e=js(7,e,r,t)).lanes=n,e}function Ws(e,t,n,r){return(e=js(23,e,r,t)).elementType=L,e.lanes=n,e}function qs(e,t,n){return(e=js(6,e,null,t)).lanes=n,e}function Us(e,t,n){return(t=js(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ks(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Gs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ys(e,t,n,r){var a=t.current,i=os(),l=ls(a);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(pa(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var u=n.type;if(pa(u)){n=va(n,u,s);break e}}n=s}else n=sa;return null===t.context?t.context=n:t.pendingContext=n,(t=oi(i,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),li(a,t),ss(a,l,i),l}function Xs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $s(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qs(e,t){$s(e,t),(e=e.alternate)&&$s(e,t)}function Zs(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ks(e,t,null!=n&&!0===n.hydrate),t=js(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ai(t),e[$r]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function Js(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"==typeof a){var l=a;a=function(){var e=Xs(o);l.call(e)}}Ys(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Zs(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"==typeof a){var s=a;a=function(){var e=Xs(o);s.call(e)}}gs((function(){Ys(t,o,e,a)}))}return Xs(o)}function tu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Js(t))throw Error(o(200));return Gs(e,t,null,n)}Hl=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ca.current)Bo=!0;else{if(0==(n&r)){switch(Bo=!1,t.tag){case 3:Wo(t),Wi();break;case 5:Ti(t);break;case 1:pa(t.type)&&ya(t);break;case 4:Ri(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;la(Ya,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Yo(e,t,n):(la(Bi,1&Bi.current),null!==(t=Jo(e,t,n))?t.sibling:null);la(Bi,1&Bi.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Zo(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),la(Bi,Bi.current),r)break;return null;case 23:case 24:return t.lanes=0,jo(e,t,n)}return Jo(e,t,n)}Bo=0!=(16384&e.flags)}else Bo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=fa(t,ua.current),ti(t,n),a=no(null,t,r,e,a,n),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pa(r)){var i=!0;ya(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ai(t);var l=r.getDerivedStateFromProps;"function"==typeof l&&fi(t,r,l,e),a.updater=pi,t.stateNode=a,a._reactInternals=t,yi(t,r,e,n),t=Ho(null,t,r,!0,i,n)}else t.tag=0,Ao(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"==typeof e)return zs(e)?1:0;if(null!=e){if((e=e.$$typeof)===R)return 11;if(e===M)return 14}return 2}(a),e=Ga(a,e),i){case 0:t=Fo(null,t,a,e,n);break e;case 1:t=Vo(null,t,a,e,n);break e;case 11:t=Io(null,t,a,e,n);break e;case 14:t=No(null,t,a,Ga(a.type,e),r,n);break e}throw Error(o(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Fo(e,t,r,a=t.elementType===r?a:Ga(r,a),n);case 1:return r=t.type,a=t.pendingProps,Vo(e,t,r,a=t.elementType===r?a:Ga(r,a),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,ii(e,t),ui(t,r,null,n),(r=t.memoizedState.element)===a)Wi(),t=Jo(e,t,n);else{if((i=(a=t.stateNode).hydrate)&&(Ni=qr(t.stateNode.containerInfo.firstChild),Ii=t,i=Li=!0),i){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(i=e[a])._workInProgressVersionPrimary=e[a+1],qi.push(i);for(n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ao(e,t,r,n),Wi();t=t.child}return t;case 5:return Ti(t),null===e&&Fi(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,Fr(r,a)?l=null:null!==i&&Fr(r,i)&&(t.flags|=16),zo(e,t),Ao(e,t,l,n),t.child;case 6:return null===e&&Fi(t),null;case 13:return Yo(e,t,n);case 4:return Ri(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ei(t,null,r,n):Ao(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Io(e,t,r,a=t.elementType===r?a:Ga(r,a),n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value;var s=t.type._context;if(la(Ya,s._currentValue),s._currentValue=i,null!==l)if(s=l.value,0==(i=or(s,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,i):1073741823))){if(l.children===a.children&&!ca.current){t=Jo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){l=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&i)){1===s.tag&&((c=oi(-1,n&-n)).tag=2,li(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),ei(s.return,n),u.lanes|=n;break}c=c.next}}else l=10===s.tag&&s.type===t.type?null:s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}Ao(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,ti(t,n),r=r(a=ni(a,i.unstable_observedBits)),t.flags|=1,Ao(e,t,r,n),t.child;case 14:return i=Ga(a=t.type,t.pendingProps),No(e,t,a,i=Ga(a.type,i),r,n);case 15:return Lo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ga(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pa(r)?(e=!0,ya(t)):e=!1,ti(t,n),gi(t,r,a),yi(t,r,a,n),Ho(null,t,r,!0,e,n);case 19:return Zo(e,t,n);case 23:case 24:return jo(e,t,n)}throw Error(o(156,t.tag))},Zs.prototype.render=function(e){Ys(e,this._internalRoot,null,null)},Zs.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ys(null,e,null,(function(){t[$r]=null}))},et=function(e){13===e.tag&&(ss(e,4,os()),Qs(e,4))},tt=function(e){13===e.tag&&(ss(e,67108864,os()),Qs(e,67108864))},nt=function(e){if(13===e.tag){var t=os(),n=ls(e);ss(e,n,t),Qs(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ta(r);if(!a)throw Error(o(90));Q(r),ne(r,a)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Me=hs,Be=function(e,t,n,r,a){var i=Cl;Cl|=4;try{return Ha(98,e.bind(null,t,n,r,a))}finally{0===(Cl=i)&&(Vl(),qa())}},Ae=function(){0==(49&Cl)&&(function(){if(null!==Zl){var e=Zl;Zl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cs(e,za())}))}qa()}(),Rs())},Ie=function(e,t){var n=Cl;Cl|=2;try{return e(t)}finally{0===(Cl=n)&&(Vl(),qa())}};var nu={Events:[Jr,ea,ta,Oe,Te,Rs,{current:!1}]},ru={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},au={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{ba=iu.inject(au),wa=iu}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=tu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Cl;if(0!=(48&n))return e(t);Cl|=1;try{if(e)return Ha(99,e.bind(null,t))}finally{Cl=n,qa()}},t.hydrate=function(e,t,n){if(!Js(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Js(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Js(e))throw Error(o(40));return!!e._reactRootContainer&&(gs((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[$r]=null}))})),!0)},t.unstable_batchedUpdates=hs,t.unstable_createPortal=function(e,t){return tu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Js(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="17.0.2"},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},1852:function(e,t,n){var r;r=e=>(()=>{var t={"./node_modules/css-mediaquery/index.js":(e,t)=>{"use strict";t.match=function(e,t){return l(e).some((function(e){var n=e.inverse,r="all"===e.type||t.type===e.type;if(r&&n||!r&&!n)return!1;var a=e.expressions.every((function(e){var n=e.feature,r=e.modifier,a=e.value,i=t[n];if(!i)return!1;switch(n){case"orientation":case"scan":return i.toLowerCase()===a.toLowerCase();case"width":case"height":case"device-width":case"device-height":a=c(a),i=c(i);break;case"resolution":a=u(a),i=u(i);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":a=s(a),i=s(i);break;case"grid":case"color":case"color-index":case"monochrome":a=parseInt(a,10)||1,i=parseInt(i,10)||0}switch(r){case"min":return i>=a;case"max":return i<=a;default:return i===a}}));return a&&!n||!a&&n}))},t.parse=l;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,r=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,a=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function l(e){return e.split(",").map((function(e){var t=(e=e.trim()).match(n),i=t[1],o=t[2],l=t[3]||"",s={};return s.inverse=!!i&&"not"===i.toLowerCase(),s.type=o?o.toLowerCase():"all",l=l.match(/\([^\)]+\)/g)||[],s.expressions=l.map((function(e){var t=e.match(r),n=t[1].toLowerCase().match(a);return{modifier:n[1],feature:n[2],value:t[2]}})),s}))}function s(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function u(e){var t=parseFloat(e);switch(String(e).match(o)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function c(e){var t=parseFloat(e);switch(String(e).match(i)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},"./node_modules/hyphenate-style-name/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=/[A-Z]/g,a=/^ms-/,i={};function o(e){return"-"+e.toLowerCase()}const l=function(e){if(i.hasOwnProperty(e))return i[e];var t=e.replace(r,o);return i[e]=a.test(t)?"-"+t:t}},"./node_modules/matchmediaquery/index.js":(e,t,n)=>{"use strict";var r=n("./node_modules/css-mediaquery/index.js").match,a="undefined"!=typeof window?window.matchMedia:null;function i(e,t,n){var i=this;if(a&&!n){var o=a.call(window,e);this.matches=o.matches,this.media=o.media,o.addListener(l)}else this.matches=r(e,t),this.media=e;function l(e){i.matches=e.matches,i.media=e.media}this.addListener=function(e){o&&o.addListener(e)},this.removeListener=function(e){o&&o.removeListener(e)},this.dispose=function(){o&&o.removeListener(l)}}e.exports=function(e,t,n){return new i(e,t,n)}},"./node_modules/object-assign/index.js":e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,l,s=a(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(s[c]=o[c]);if(t){l=t(o);for(var d=0;d<l.length;d++)r.call(o,l[d])&&(s[l[d]]=o[l[d]])}}return s}},"./node_modules/prop-types/checkPropTypes.js":(e,t,n)=>{"use strict";var r=function(){},a=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),i={},o=n("./node_modules/prop-types/lib/has.js");function l(e,t,n,l,s){for(var u in e)if(o(e,u)){var c;try{if("function"!=typeof e[u]){var d=Error((l||"React class")+": "+n+" type `"+u+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[u]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw d.name="Invariant Violation",d}c=e[u](t,u,l,n,null,a)}catch(e){c=e}if(!c||c instanceof Error||r((l||"React class")+": type specification of "+n+" `"+u+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof c+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),c instanceof Error&&!(c.message in i)){i[c.message]=!0;var f=s?s():"";r("Failed "+n+" type: "+c.message+(null!=f?f:""))}}}r=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},l.resetWarningCache=function(){i={}},e.exports=l},"./node_modules/prop-types/factoryWithTypeCheckers.js":(e,t,n)=>{"use strict";var r,a=n("./node_modules/react-is/index.js"),i=n("./node_modules/object-assign/index.js"),o=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),l=n("./node_modules/prop-types/lib/has.js"),s=n("./node_modules/prop-types/checkPropTypes.js");function u(){return null}r=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,c="<<anonymous>>",d={array:g("array"),bigint:g("bigint"),bool:g("boolean"),func:g("function"),number:g("number"),object:g("object"),string:g("string"),symbol:g("symbol"),any:h(u),arrayOf:function(e){return h((function(t,n,r,a,i){if("function"!=typeof e)return new p("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var l=t[n];if(!Array.isArray(l))return new p("Invalid "+a+" `"+i+"` of type `"+m(l)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<l.length;s++){var u=e(l,s,r,a,i+"["+s+"]",o);if(u instanceof Error)return u}return null}))},element:h((function(t,n,r,a,i){var o=t[n];return e(o)?null:new p("Invalid "+a+" `"+i+"` of type `"+m(o)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:h((function(e,t,n,r,i){var o=e[t];return a.isValidElementType(o)?null:new p("Invalid "+r+" `"+i+"` of type `"+m(o)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return h((function(t,n,r,a,i){if(!(t[n]instanceof e)){var o=e.name||c;return new p("Invalid "+a+" `"+i+"` of type `"+((l=t[n]).constructor&&l.constructor.name?l.constructor.name:c)+"` supplied to `"+r+"`, expected instance of `"+o+"`.")}var l;return null}))},node:h((function(e,t,n,r,a){return y(e[t])?null:new p("Invalid "+r+" `"+a+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return h((function(t,n,r,a,i){if("function"!=typeof e)return new p("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=m(s);if("object"!==u)return new p("Invalid "+a+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(l(s,c)){var d=e(s,c,r,a,i+"."+c,o);if(d instanceof Error)return d}return null}))},oneOf:function(e){if(!Array.isArray(e))return r(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),u;function t(t,n,r,a,i){for(var o=t[n],l=0;l<e.length;l++)if(f(o,e[l]))return null;var s=JSON.stringify(e,(function(e,t){return"symbol"===b(t)?String(t):t}));return new p("Invalid "+a+" `"+i+"` of value `"+String(o)+"` supplied to `"+r+"`, expected one of "+s+".")}return h(t)},oneOfType:function(e){if(!Array.isArray(e))return r("Invalid argument supplied to oneOfType, expected an instance of array."),u;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return r("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+w(n)+" at index "+t+"."),u}return h((function(t,n,r,a,i){for(var s=[],u=0;u<e.length;u++){var c=(0,e[u])(t,n,r,a,i,o);if(null==c)return null;c.data&&l(c.data,"expectedType")&&s.push(c.data.expectedType)}return new p("Invalid "+a+" `"+i+"` supplied to `"+r+"`"+(s.length>0?", expected one of type ["+s.join(", ")+"]":"")+".")}))},shape:function(e){return h((function(t,n,r,a,i){var l=t[n],s=m(l);if("object"!==s)return new p("Invalid "+a+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var c=e[u];if("function"!=typeof c)return v(r,a,i,u,b(c));var d=c(l,u,r,a,i+"."+u,o);if(d)return d}return null}))},exact:function(e){return h((function(t,n,r,a,s){var u=t[n],c=m(u);if("object"!==c)return new p("Invalid "+a+" `"+s+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var d=i({},t[n],e);for(var f in d){var h=e[f];if(l(e,f)&&"function"!=typeof h)return v(r,a,s,f,b(h));if(!h)return new p("Invalid "+a+" `"+s+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var g=h(u,f,r,a,s+"."+f,o);if(g)return g}return null}))}};function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function h(e){var n={},a=0;function i(i,l,s,u,d,f,h){if(u=u||c,f=f||s,h!==o){if(t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}if("undefined"!=typeof console){var v=u+":"+s;!n[v]&&a<3&&(r("You are manually calling a React.PropTypes validation function for the `"+f+"` prop on `"+u+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[v]=!0,a++)}}return null==l[s]?i?null===l[s]?new p("The "+d+" `"+f+"` is marked as required in `"+u+"`, but its value is `null`."):new p("The "+d+" `"+f+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:e(l,s,u,d,f)}var l=i.bind(null,!1);return l.isRequired=i.bind(null,!0),l}function g(e){return h((function(t,n,r,a,i,o){var l=t[n];return m(l)!==e?new p("Invalid "+a+" `"+i+"` of type `"+b(l)+"` supplied to `"+r+"`, expected `"+e+"`.",{expectedType:e}):null}))}function v(e,t,n,r,a){return new p((e||"React class")+": "+t+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+a+"`.")}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var a,i=r.call(t);if(r!==t.entries){for(;!(a=i.next()).done;)if(!y(a.value))return!1}else for(;!(a=i.next()).done;){var o=a.value;if(o&&!y(o[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function b(e){if(null==e)return""+e;var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function w(e){var t=b(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,d.checkPropTypes=s,d.resetWarningCache=s.resetWarningCache,d.PropTypes=d,d}},"./node_modules/prop-types/index.js":(e,t,n)=>{var r=n("./node_modules/react-is/index.js");e.exports=n("./node_modules/prop-types/factoryWithTypeCheckers.js")(r.isElement,!0)},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/prop-types/lib/has.js":e=>{e.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(e,t)=>{"use strict";!function(){var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,m=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var p=e.type;switch(p){case u:case c:case a:case o:case i:case f:return p;default:var v=p&&p.$$typeof;switch(v){case s:case d:case g:case h:case l:return v;default:return t}}case r:return t}}}var x=u,E=c,S=s,k=l,P=n,C=d,_=a,D=g,R=h,O=r,T=o,M=i,B=f,A=!1;function I(e){return w(e)===c}t.AsyncMode=x,t.ConcurrentMode=E,t.ContextConsumer=S,t.ContextProvider=k,t.Element=P,t.ForwardRef=C,t.Fragment=_,t.Lazy=D,t.Memo=R,t.Portal=O,t.Profiler=T,t.StrictMode=M,t.Suspense=B,t.isAsyncMode=function(e){return A||(A=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),I(e)||w(e)===u},t.isConcurrentMode=I,t.isContextConsumer=function(e){return w(e)===s},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===h},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===o},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===c||e===o||e===i||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===l||e.$$typeof===s||e.$$typeof===d||e.$$typeof===y||e.$$typeof===m||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w}()},"./node_modules/react-is/index.js":(e,t,n)=>{"use strict";e.exports=n("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(e,t,n)=>{"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),a=n.length;if(r.length!==a)return!1;for(var i=0;i<a;i++){var o=n[i];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}function a(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}n.r(t),n.d(t,{shallowEqualArrays:()=>a,shallowEqualObjects:()=>r})},"./src/Component.ts":function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("./src/useMediaQuery.ts"));t.default=function(e){var t=e.children,n=e.device,a=e.onChange,o=r(e,["children","device","onChange"]),l=(0,i.default)(o,n,a);return"function"==typeof t?t(l):l?t:null}},"./src/Context.ts":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(0,n("react").createContext)(void 0);t.default=r},"./src/index.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.toQuery=t.useMediaQuery=t.default=void 0;var a=r(n("./src/useMediaQuery.ts"));t.useMediaQuery=a.default;var i=r(n("./src/Component.ts"));t.default=i.default;var o=r(n("./src/toQuery.ts"));t.toQuery=o.default;var l=r(n("./src/Context.ts"));t.Context=l.default},"./src/mediaQuery.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n("./node_modules/prop-types/index.js")),l=o.default.oneOfType([o.default.string,o.default.number]),s={all:o.default.bool,grid:o.default.bool,aural:o.default.bool,braille:o.default.bool,handheld:o.default.bool,print:o.default.bool,projection:o.default.bool,screen:o.default.bool,tty:o.default.bool,tv:o.default.bool,embossed:o.default.bool},u={orientation:o.default.oneOf(["portrait","landscape"]),scan:o.default.oneOf(["progressive","interlace"]),aspectRatio:o.default.string,deviceAspectRatio:o.default.string,height:l,deviceHeight:l,width:l,deviceWidth:l,color:o.default.bool,colorIndex:o.default.bool,monochrome:o.default.bool,resolution:l,type:Object.keys(s)},c=a(u,["type"]),d=r({minAspectRatio:o.default.string,maxAspectRatio:o.default.string,minDeviceAspectRatio:o.default.string,maxDeviceAspectRatio:o.default.string,minHeight:l,maxHeight:l,minDeviceHeight:l,maxDeviceHeight:l,minWidth:l,maxWidth:l,minDeviceWidth:l,maxDeviceWidth:l,minColor:o.default.number,maxColor:o.default.number,minColorIndex:o.default.number,maxColorIndex:o.default.number,minMonochrome:o.default.number,maxMonochrome:o.default.number,minResolution:l,maxResolution:l},c),f=r(r({},s),d);t.default={all:f,types:s,matchers:u,features:d}},"./src/toQuery.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("./node_modules/hyphenate-style-name/index.js")),i=r(n("./src/mediaQuery.ts"));t.default=function(e){var t=[];return Object.keys(i.default.all).forEach((function(n){var r=e[n];null!=r&&t.push(function(e,t){var n=(0,a.default)(e);return"number"==typeof t&&(t="".concat(t,"px")),!0===t?n:!1===t?"not ".concat(n):"(".concat(n,": ").concat(t,")")}(n,r))})),t.join(" and ")}},"./src/useMediaQuery.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n("react"),i=r(n("./node_modules/matchmediaquery/index.js")),o=r(n("./node_modules/hyphenate-style-name/index.js")),l=n("./node_modules/shallow-equal/dist/index.esm.js"),s=r(n("./src/toQuery.ts")),u=r(n("./src/Context.ts")),c=function(e){if(e)return Object.keys(e).reduce((function(t,n){return t[(0,o.default)(n)]=e[n],t}),{})},d=function(){var e=(0,a.useRef)(!1);return(0,a.useEffect)((function(){e.current=!0}),[]),e.current};t.default=function(e,t,n){var r=function(e){var t=(0,a.useContext)(u.default),n=function(){return c(e)||c(t)},r=(0,a.useState)(n),i=r[0],o=r[1];return(0,a.useEffect)((function(){var e=n();(0,l.shallowEqualObjects)(i,e)||o(e)}),[e,t]),i}(t),o=function(e){var t=function(){return function(e){return e.query||(0,s.default)(e)}(e)},n=(0,a.useState)(t),r=n[0],i=n[1];return(0,a.useEffect)((function(){var e=t();r!==e&&i(e)}),[e]),r}(e);if(!o)throw new Error("Invalid or missing MediaQuery!");var f=function(e,t){var n=function(){return(0,i.default)(e,t||{},!!t)},r=(0,a.useState)(n),o=r[0],l=r[1],s=d();return(0,a.useEffect)((function(){if(s){var e=n();return l(e),function(){e&&e.dispose()}}}),[e,t]),o}(o,r),p=function(e){var t=(0,a.useState)(e.matches),n=t[0],r=t[1];return(0,a.useEffect)((function(){var t=function(e){r(e.matches)};return e.addListener(t),r(e.matches),function(){e.removeListener(t)}}),[e]),n}(f),h=d();return(0,a.useEffect)((function(){h&&n&&n(p)}),[p]),(0,a.useEffect)((function(){return function(){f&&f.dispose()}}),[]),p}},react:t=>{"use strict";t.exports=e}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r("./src/index.ts")})(),e.exports=r(n(7294))},4022:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbortedDeferredError:()=>L,Await:()=>gt,BrowserRouter:()=>At,Form:()=>zt,HashRouter:()=>It,Link:()=>Lt,MemoryRouter:()=>ut,NavLink:()=>jt,Navigate:()=>ct,NavigationType:()=>r,Outlet:()=>dt,Route:()=>ft,Router:()=>pt,RouterProvider:()=>st,Routes:()=>ht,ScrollRestoration:()=>Vt,UNSAFE_DataRouterContext:()=>Ce,UNSAFE_DataRouterStateContext:()=>_e,UNSAFE_DataStaticRouterContext:()=>Pe,UNSAFE_LocationContext:()=>Oe,UNSAFE_NavigationContext:()=>Re,UNSAFE_RouteContext:()=>Te,UNSAFE_enhanceManualRouteObjects:()=>xt,createBrowserRouter:()=>Mt,createHashRouter:()=>Bt,createMemoryRouter:()=>Et,createPath:()=>h,createRoutesFromChildren:()=>bt,createRoutesFromElements:()=>bt,createSearchParams:()=>Dt,defer:()=>F,generatePath:()=>P,isRouteErrorResponse:()=>W,json:()=>N,matchPath:()=>C,matchRoutes:()=>b,parsePath:()=>g,redirect:()=>V,renderMatches:()=>wt,resolvePath:()=>O,unstable_HistoryRouter:()=>Nt,useActionData:()=>at,useAsyncError:()=>lt,useAsyncValue:()=>ot,useFetcher:()=>Yt,useFetchers:()=>Xt,useFormAction:()=>Kt,useHref:()=>Be,useInRouterContext:()=>Ae,useLinkClickHandler:()=>Ht,useLoaderData:()=>nt,useLocation:()=>Ie,useMatch:()=>Le,useMatches:()=>tt,useNavigate:()=>ze,useNavigation:()=>Je,useNavigationType:()=>Ne,useOutlet:()=>He,useOutletContext:()=>Ve,useParams:()=>We,useResolvedPath:()=>qe,useRevalidator:()=>et,useRouteError:()=>it,useRouteLoaderData:()=>rt,useRoutes:()=>Ue,useSearchParams:()=>Wt,useSubmit:()=>qt});var r,a=n(7294),i=n.t(a,2);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function s(e){void 0===e&&(e={});let t,{initialEntries:n=["/"],initialIndex:a,v5Compat:i=!1}=e;t=n.map(((e,t)=>f(e,"string"==typeof e?null:e.state,0===t?"default":void 0)));let o=u(null==a?t.length-1:a),l=r.Pop,s=null;function u(e){return Math.min(Math.max(e,0),t.length-1)}function c(){return t[o]}function f(e,n,r){void 0===n&&(n=null);let a=p(t?c().pathname:"/",e,n,r);return d("/"===a.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),a}return{get index(){return o},get action(){return l},get location(){return c()},createHref:e=>"string"==typeof e?e:h(e),push(e,n){l=r.Push;let a=f(e,n);o+=1,t.splice(o,t.length,a),i&&s&&s({action:l,location:a})},replace(e,n){l=r.Replace;let a=f(e,n);t[o]=a,i&&s&&s({action:l,location:a})},go(e){l=r.Pop,o=u(o+e),s&&s({action:l,location:c()})},listen:e=>(s=e,()=>{s=null})}}function u(e){return void 0===e&&(e={}),v((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return p("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:h(t)}),null,e)}function c(e){return void 0===e&&(e={}),v((function(e,t){let{pathname:n="/",search:r="",hash:a=""}=g(e.location.hash.substr(1));return p("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:h(t))}),(function(e,t){d("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function d(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function f(e){return{usr:e.state,key:e.key}}function p(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,a){void 0===a&&(a={});let{window:i=document.defaultView,v5Compat:o=!1}=a,s=i.history,u=r.Pop,c=null;function d(){u=r.Pop,c&&c({action:u,location:h.location})}let h={get action(){return u},get location(){return e(i,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(l,d),c=e,()=>{i.removeEventListener(l,d),c=null}},createHref:e=>t(i,e),push:function(e,t){u=r.Push;let a=p(h.location,e,t);n&&n(a,e);let l=f(a),d=h.createHref(a);try{s.pushState(l,"",d)}catch(e){i.location.assign(d)}o&&c&&c({action:u,location:a})},replace:function(e,t){u=r.Replace;let a=p(h.location,e,t);n&&n(a,e);let i=f(a),l=h.createHref(a);s.replaceState(i,"",l),o&&c&&c({action:u,location:a})},go:e=>s.go(e)};return h}var y;function m(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=new Set),e.map(((e,r)=>{let a=[...t,r],i="string"==typeof e.id?e.id:a.join("-");return D(!n.has(i),'Found a route id collision on id "'+i+"\".  Route id's must be globally unique within Data Router usages"),n.add(i),o({},e,{id:i,children:e.children?m(e.children,a,n):void 0})}))}function b(e,t,n){void 0===n&&(n="/");let r=_(("string"==typeof t?g(t):t).pathname||"/",n);if(null==r)return null;let a=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let i=null;for(let e=0;null==i&&e<a.length;++e)i=k(a[e],r);return i}function w(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,a)=>{let i={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(D(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=M([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(D(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:l})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));const x=/^:\w+$/,E=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=-2),t&&(r+=2),n.filter((e=>!E(e))).reduce(((e,t)=>e+(x.test(t)?3:""===t?1:10)),r)}function k(e,t){let{routesMeta:n}=e,r={},a="/",i=[];for(let e=0;e<n.length;++e){let o=n[e],l=e===n.length-1,s="/"===a?t:t.slice(a.length)||"/",u=C({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},s);if(!u)return null;Object.assign(r,u.params);let c=o.route;i.push({params:r,pathname:M([a,u.pathname]),pathnameBase:B(M([a,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(a=M([a,u.pathnameBase]))}return i}function P(e,t){return void 0===t&&(t={}),e.replace(/:(\w+)/g,((e,n)=>(D(null!=t[n],'Missing ":'+n+'" param'),t[n]))).replace(/(\/?)\*/,((e,n,r,a)=>null==t["*"]?"/*"===a?"/":"":""+n+t["*"]))}function C(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));return e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=l[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:i,pathnameBase:o,pattern:e}}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t){if(!1===e||null==e)throw new Error(t)}function R(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function O(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"==typeof e?g(e):e;return{pathname:n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t,search:A(r),hash:I(a)}}function T(e,t,n,r){void 0===r&&(r=!1);let a,i="string"==typeof e?g(e):o({},e),l=""===e||""===i.pathname,s=l?"/":i.pathname;if(r||null==s)a=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=O(i,a),c=s&&"/"!==s&&s.endsWith("/"),d=(l||"."===s)&&n.endsWith("/");return u.pathname.endsWith("/")||!c&&!d||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",I=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",N=function(e,t){void 0===t&&(t={});let n="number"==typeof t?{status:t}:t,r=new Headers(n.headers);return r.has("Content-Type")||r.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),o({},n,{headers:r}))};class L extends Error{}class j{constructor(e){let t;this.pendingKeys=new Set,this.subscriber=void 0,D(e&&"object"==typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise(((e,n)=>t=n)),this.controller=new AbortController;let n=()=>t(new L("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",n),this.controller.signal.addEventListener("abort",n),this.data=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:this.trackPromise(n,r)})}),{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let n=Promise.race([t,this.abortPromise]).then((t=>this.onSettle(n,e,null,t)),(t=>this.onSettle(n,e,t)));return n.catch((()=>{})),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,t,n,r){if(this.controller.signal.aborted&&n instanceof L)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();const a=this.subscriber;return n?(Object.defineProperty(e,"_error",{get:()=>n}),a&&a(!1),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>r}),a&&a(!1),r)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach(((e,t)=>this.pendingKeys.delete(t)));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),t=await new Promise((t=>{this.subscribe((r=>{e.removeEventListener("abort",n),(r||this.done)&&t(r)}))}))}return t}get done(){return 0===this.pendingKeys.size}get unwrappedData(){return D(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:z(r)})}),{})}}function z(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}function F(e){return new j(e)}const V=function(e,t){void 0===t&&(t=302);let n=t;"number"==typeof n?n={status:n}:void 0===n.status&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",e),new Response(null,o({},n,{headers:r}))};class H{constructor(e,t,n){this.status=e,this.statusText=t||"",this.data=n}}function W(e){return e instanceof H}const q={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},U={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};function K(e){D(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=m(e.routes),n=null,a=new Set,i=null,l=null,s=null,u=!1,c=b(t,e.history.location,e.basename),d=null;if(null==c){let{matches:e,route:n,error:r}=ae(t);c=e,d={[n.id]:r}}let f,h,g=!c.some((e=>e.route.loader))||null!=e.hydrationData,v={historyAction:e.history.action,location:e.history.location,matches:c,initialized:g,navigation:q,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||d,fetchers:new Map},y=r.Pop,w=!1,x=!1,E=!1,S=[],k=[],P=new Map,C=0,_=-1,R=new Map,O=new Set,T=new Map,M=new Map;function B(e){v=o({},v,e),a.forEach((e=>e(v)))}function A(t,n){B(o({},null!=v.actionData&&null!=v.navigation.formMethod&&"loading"===v.navigation.state?{}:{actionData:null},n,n.loaderData?{loaderData:ne(v.loaderData,n.loaderData,n.matches||[])}:{},{historyAction:y,location:t,initialized:!0,navigation:q,revalidation:"idle",restoreScrollPosition:!v.navigation.formData&&ee(t,n.matches||v.matches),preventScrollReset:w})),x||y===r.Pop||(y===r.Push?e.history.push(t,t.state):y===r.Replace&&e.history.replace(t,t.state)),y=r.Pop,w=!1,x=!1,E=!1,S=[],k=[]}async function I(n,a,u){h&&h.abort(),h=null,y=n,x=!0===(u&&u.startUninterruptedRevalidation),function(e,t){if(i&&l&&s){let n=t.map((e=>he(e,v.loaderData))),r=l(e,n)||e.key;i[r]=s()}}(v.location,v.matches),w=!0===(u&&u.preventScrollReset);let c=u&&u.overrideNavigation,d=b(t,a,e.basename);if(!d){let{matches:e,route:n,error:r}=ae(t);return Q(),void A(a,{matches:e,loaderData:{},errors:{[n.id]:r}})}if(g=a,(f=v.location).pathname===g.pathname&&f.search===g.search&&f.hash!==g.hash)return void A(a,{matches:d});var f,g;h=new AbortController;let m,R,I=J(a,h.signal,u&&u.submission);if(u&&u.pendingError)R={[re(d).route.id]:u.pendingError};else if(u&&u.submission){let e=await async function(e,t,n,a,i){let l;z(),B({navigation:o({state:"submitting",location:t},n)});let s=ge(a,t);if(s.route.action){if(l=await Z("action",e,s),e.signal.aborted)return{shortCircuited:!0}}else l=ie(t);if(ce(l)){let e=o({state:"loading",location:p(v.location,l.location)},n);return await L(l,e,i&&i.replace),{shortCircuited:!0}}if(ue(l)){let e=re(a,s.route.id);return!0!==(i&&i.replace)&&(y=r.Push),{pendingActionError:{[e.route.id]:l.error}}}if(se(l))throw new Error("defer() is not supported in actions");return{pendingActionData:{[s.route.id]:l.data}}}(I,a,u.submission,d,{replace:u.replace});if(e.shortCircuited)return;m=e.pendingActionData,R=e.pendingActionError,c=o({state:"loading",location:a},u.submission)}let{shortCircuited:N,loaderData:F,errors:V}=await async function(e,t,n,r,a,i,l,s){let u=r;u||(u={state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[c,d]=X(v,n,a,t,E,S,k,l,s,T);if(Q((e=>!(n&&n.some((t=>t.route.id===e)))||c&&c.some((t=>t.route.id===e)))),0===c.length&&0===d.length)return A(t,{matches:n,loaderData:ne(v.loaderData,{},n),errors:s||null,actionData:l||null}),{shortCircuited:!0};x||(d.forEach((e=>{let[t]=e;const n=v.fetchers.get(t);let r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};v.fetchers.set(t,r)})),B(o({navigation:u,actionData:l||v.actionData||null},d.length>0?{fetchers:new Map(v.fetchers)}:{}))),_=++C,d.forEach((e=>{let[t]=e;return P.set(t,h)}));let{results:f,loaderResults:p,fetcherResults:g}=await j(v.matches,c,d,e);if(e.signal.aborted)return{shortCircuited:!0};d.forEach((e=>{let[t]=e;return P.delete(t)}));let y=oe(f);if(y){let e=Y(v,y);return await L(y,e,i),{shortCircuited:!0}}let{loaderData:m,errors:b}=te(v,n,c,p,s,d,g,M);return M.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&M.delete(t)}))})),function(){let e=[];for(let t of O){let n=v.fetchers.get(t);D(n,"Expected fetcher: "+t),"loading"===n.state&&(O.delete(t),e.push(t))}K(e)}(),o({loaderData:m,errors:b},$(_)||d.length>0?{fetchers:new Map(v.fetchers)}:{})}(I,a,d,c,u&&u.submission,u&&u.replace,m,R);N||(h=null,A(a,{matches:d,loaderData:F,errors:V}))}function N(e){return v.fetchers.get(e)||U}async function L(e,t,n){e.revalidate&&(E=!0),D(t.location,"Expected a location on the redirect navigation"),h=null;let a=!0===n?r.Replace:r.Push;await I(a,t.location,{overrideNavigation:t})}async function j(e,t,n,r){let a=await Promise.all([...t.map((e=>Z("loader",r,e))),...n.map((e=>{let[,t,n]=e;return Z("loader",J(t,r.signal),n)}))]),i=a.slice(0,t.length),o=a.slice(t.length);return await Promise.all([de(e,t,i,r.signal,!1,v.loaderData),de(e,n.map((e=>{let[,,t]=e;return t})),o,r.signal,!0)]),{results:a,loaderResults:i,fetcherResults:o}}function z(){E=!0,S.push(...Q()),T.forEach(((e,t)=>{P.has(t)&&(k.push(t),W(t))}))}function F(e,t,n){let r=re(v.matches,t);V(e),B({errors:{[r.route.id]:n},fetchers:new Map(v.fetchers)})}function V(e){P.has(e)&&W(e),T.delete(e),R.delete(e),O.delete(e),v.fetchers.delete(e)}function W(e){let t=P.get(e);D(t,"Expected fetch controller: "+e),t.abort(),P.delete(e)}function K(e){for(let t of e){let e={state:"idle",data:N(t).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};v.fetchers.set(t,e)}}function $(e){let t=[];for(let[n,r]of R)if(r<e){let e=v.fetchers.get(n);D(e,"Expected fetcher: "+n),"loading"===e.state&&(W(n),R.delete(n),t.push(n))}return K(t),t.length>0}function Q(e){let t=[];return M.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),M.delete(r))})),t}function ee(e,t){if(i&&l&&s){let n=t.map((e=>he(e,v.loaderData))),r=l(e,n)||e.key,a=i[r];if("number"==typeof a)return a}return null}return f={get basename(){return e.basename},get state(){return v},get routes(){return t},initialize:function(){return n=e.history.listen((e=>{let{action:t,location:n}=e;return I(t,n)})),v.initialized||I(r.Pop,v.location),f},subscribe:function(e){return a.add(e),()=>a.delete(e)},enableScrollRestoration:function(e,t,n){if(i=e,s=t,l=n||(e=>e.key),!u&&v.navigation===q){u=!0;let e=ee(v.location,v.matches);null!=e&&B({restoreScrollPosition:e})}return()=>{i=null,s=null,l=null}},navigate:async function(t,n){if("number"==typeof t)return void e.history.go(t);let{path:a,submission:i,error:o}=G(t,n),l=p(v.location,a,n&&n.state),s=!0===(n&&n.replace)||null!=i?r.Replace:r.Push,u=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0;return await I(s,l,{submission:i,pendingError:o,preventScrollReset:u,replace:n&&n.replace})},fetch:function(n,r,a,i){if("undefined"==typeof AbortController)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");P.has(n)&&W(n);let l=b(t,a,e.basename);if(!l)return void F(n,r,new H(404,"Not Found",null));let{path:s,submission:u}=G(a,i,!0),c=ge(l,s);u?async function(n,r,a,i,l){if(z(),T.delete(n),!i.route.action){let{error:e}=ie(a);return void F(n,r,e)}let s=v.fetchers.get(n),u=o({state:"submitting"},l,{data:s&&s.data});v.fetchers.set(n,u),B({fetchers:new Map(v.fetchers)});let c=new AbortController,d=J(a,c.signal,l);P.set(n,c);let f=await Z("action",d,i);if(d.signal.aborted)return void(P.get(n)===c&&P.delete(n));if(ce(f)){P.delete(n),O.add(n);let e=o({state:"loading"},l,{data:void 0});v.fetchers.set(n,e),B({fetchers:new Map(v.fetchers)});let t=o({state:"loading",location:p(v.location,f.location)},l);return void await L(f,t)}if(ue(f))return void F(n,r,f.error);se(f)&&D(!1,"defer() is not supported in actions");let g=v.navigation.location||v.location,m=J(g,c.signal),w="idle"!==v.navigation.state?b(t,v.navigation.location,e.basename):v.matches;D(w,"Didn't find any matches after fetcher action");let x=++C;R.set(n,x);let I=o({state:"loading",data:f.data},l);v.fetchers.set(n,I);let[N,V]=X(v,w,l,g,E,S,k,{[i.route.id]:f.data},void 0,T);V.filter((e=>{let[t]=e;return t!==n})).forEach((e=>{let[t]=e,n=v.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};v.fetchers.set(t,r),P.set(t,c)})),B({fetchers:new Map(v.fetchers)});let{results:H,loaderResults:W,fetcherResults:q}=await j(v.matches,N,V,m);if(c.signal.aborted)return;R.delete(n),P.delete(n),V.forEach((e=>{let[t]=e;return P.delete(t)}));let U=oe(H);if(U){let e=Y(v,U);return void await L(U,e)}let{loaderData:K,errors:G}=te(v,v.matches,N,W,void 0,V,q,M),Q={state:"idle",data:f.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};v.fetchers.set(n,Q);let ee=$(x);"loading"===v.navigation.state&&x>_?(D(y,"Expected pending action"),h&&h.abort(),A(v.navigation.location,{matches:w,loaderData:K,errors:G,fetchers:new Map(v.fetchers)})):(B(o({errors:G,loaderData:ne(v.loaderData,K,w)},ee?{fetchers:new Map(v.fetchers)}:{})),E=!1)}(n,r,s,c,u):(T.set(n,[s,c]),async function(e,t,n,r){let a=v.fetchers.get(e),i={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:a&&a.data};v.fetchers.set(e,i),B({fetchers:new Map(v.fetchers)});let o=new AbortController,l=J(n,o.signal);P.set(e,o);let s=await Z("loader",l,r);if(se(s)&&(s=await fe(s,l.signal,!0)||s),P.get(e)===o&&P.delete(e),l.signal.aborted)return;if(ce(s)){let e=Y(v,s);return void await L(s,e)}if(ue(s)){let n=re(v.matches,t);return v.fetchers.delete(e),void B({fetchers:new Map(v.fetchers),errors:{[n.route.id]:s.error}})}D(!se(s),"Unhandled fetcher deferred data");let u={state:"idle",data:s.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};v.fetchers.set(e,u),B({fetchers:new Map(v.fetchers)})}(n,r,s,c))},revalidate:function(){z(),B({revalidation:"loading"}),"submitting"!==v.navigation.state&&("idle"!==v.navigation.state?I(y||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation}):I(v.historyAction,v.location,{startUninterruptedRevalidation:!0}))},createHref:le,getFetcher:N,deleteFetcher:V,dispose:function(){n&&n(),a.clear(),h&&h.abort(),v.fetchers.forEach(((e,t)=>V(t)))},_internalFetchControllers:P,_internalActiveDeferreds:M},f}function G(e,t,n){void 0===n&&(n=!1);let r="string"==typeof e?e:h(e);if(!t||!("formMethod"in t)&&!("formData"in t))return{path:r};if(null!=t.formMethod&&"get"!==t.formMethod)return{path:r,submission:{formMethod:t.formMethod,formAction:le(g(r)),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}};if(!t.formData)return{path:r};let a=g(r);try{let e=ee(t.formData);n&&a.search&&pe(a.search)&&e.append("index",""),a.search="?"+e}catch(e){return{path:r,error:new H(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:h(a)}}function Y(e,t){let{formMethod:n,formAction:r,formEncType:a,formData:i}=e.navigation;return{state:"loading",location:p(e.location,t.location),formMethod:n||void 0,formAction:r||void 0,formEncType:a||void 0,formData:i||void 0}}function X(e,t,n,r,a,i,o,l,s,u){let c=s?Object.values(s)[0]:l?Object.values(l)[0]:null,d=function(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}(t,s?Object.keys(s)[0]:void 0).filter(((t,o)=>null!=t.route.loader&&(function(e,t,n){let r=!t||n.route.id!==t.route.id,a=void 0===e[n.route.id];return r||a}(e.loaderData,e.matches[o],t)||i.some((e=>e===t.route.id))||Q(e.location,e.matches[o],n,r,t,a,c)))),f=[];return u&&u.forEach(((e,t)=>{let[r,i]=e;(o.includes(t)||a&&Q(r,i,n,r,i,a,c))&&f.push([t,r,i])})),[d,f]}function $(e,t){let n=e.route.path;return e.pathname!==t.pathname||n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Q(e,t,n,r,a,i,l){let s=ve(e),u=t.params,c=ve(r),d=a.params,f=$(t,a)||s.toString()===c.toString()||s.search!==c.search||i;if(a.route.shouldRevalidate){let e=a.route.shouldRevalidate(o({currentUrl:s,currentParams:u,nextUrl:c,nextParams:d},n,{actionResult:l,defaultShouldRevalidate:f}));if("boolean"==typeof e)return e}return f}async function Z(e,t,n,r,a){let i,o,l;void 0===r&&(r=!1),void 0===a&&(a=!1);let s=new Promise(((e,t)=>l=t)),u=()=>l();t.signal.addEventListener("abort",u);try{let r=n.route[e];D(r,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),o=await Promise.race([r({request:t,params:n.params}),s])}catch(e){i=y.error,o=e}finally{t.signal.removeEventListener("abort",u)}if(o instanceof Response){let e,t=o.status,n=o.headers.get("Location");if(a)throw o;if(t>=300&&t<=399&&null!=n){if(r)throw o;return{type:y.redirect,status:t,location:n,revalidate:null!==o.headers.get("X-Remix-Revalidate")}}let l=o.headers.get("Content-Type");return e=l&&l.startsWith("application/json")?await o.json():await o.text(),i===y.error?{type:i,error:new H(t,o.statusText,e),headers:o.headers}:{type:y.data,data:e,statusCode:o.status,headers:o.headers}}return i===y.error?{type:i,error:o}:o instanceof j?{type:y.deferred,deferredData:o}:{type:y.data,data:o}}function J(e,t,n){let r=ve(e).toString(),a={signal:t};if(n){let{formMethod:e,formEncType:t,formData:r}=n;a.method=e.toUpperCase(),a.body="application/x-www-form-urlencoded"===t?ee(r):r}return new Request(r,a)}function ee(e){let t=new URLSearchParams;for(let[n,r]of e.entries())D("string"==typeof r,'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(n,r);return t}function te(e,t,n,r,a,i,l,s){let{loaderData:u,errors:c}=function(e,t,n,r,a){let i,o={},l=null,s=!1,u={};return n.forEach(((n,c)=>{let d=t[c].route.id;if(D(!ce(n),"Cannot handle redirect results in processLoaderData"),ue(n)){let t=re(e,d),a=n.error;r&&(a=Object.values(r)[0],r=void 0),l=Object.assign(l||{},{[t.route.id]:a}),s||(s=!0,i=W(n.error)?n.error.status:500),n.headers&&(u[d]=n.headers)}else se(n)?(a&&a.set(d,n.deferredData),o[d]=n.deferredData.data):(o[d]=n.data,200===n.statusCode||s||(i=n.statusCode),n.headers&&(u[d]=n.headers))})),r&&(l=r),{loaderData:o,errors:l,statusCode:i||200,loaderHeaders:u}}(t,n,r,a,s);for(let t=0;t<i.length;t++){let[n,,r]=i[t];D(void 0!==l&&void 0!==l[t],"Did not find corresponding fetcher result");let a=l[t];if(ue(a)){let t=re(e.matches,r.route.id);c&&c[t.route.id]||(c=o({},c,{[t.route.id]:a.error})),e.fetchers.delete(n)}else{if(ce(a))throw new Error("Unhandled fetcher revalidation redirect");if(se(a))throw new Error("Unhandled fetcher deferred data");{let t={state:"idle",data:a.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};e.fetchers.set(n,t)}}}return{loaderData:u,errors:c}}function ne(e,t,n){let r=o({},t);return n.forEach((n=>{let a=n.route.id;void 0===t[a]&&void 0!==e[a]&&(r[a]=e[a])})),r}function re(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function ae(e){let t=e.find((e=>e.index||""===e.path||"/"===e.path))||{id:"__shim-404-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t,error:new H(404,"Not Found",null)}}function ie(e){let t="string"==typeof e?e:le(e);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for ["+t+"]"),{type:y.error,error:new H(405,"Method Not Allowed","No action found for ["+t+"]")}}function oe(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(ce(n))return n}}function le(e){return(e.pathname||"")+(e.search||"")}function se(e){return e.type===y.deferred}function ue(e){return e.type===y.error}function ce(e){return(e&&e.type)===y.redirect}async function de(e,t,n,r,a,i){for(let o=0;o<n.length;o++){let l=n[o],s=t[o],u=e.find((e=>e.route.id===s.route.id)),c=null!=u&&!$(u,s)&&void 0!==(i&&i[s.route.id]);se(l)&&(a||c)&&await fe(l,r,a).then((e=>{e&&(n[o]=e||n[o])}))}}async function fe(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:y.data,data:e.deferredData.unwrappedData}}catch(e){return{type:y.error,error:e}}return{type:y.data,data:e.deferredData.data}}}function pe(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function he(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function ge(e,t){let n="string"==typeof t?g(t).search:t.search;return e[e.length-1].route.index&&!pe(n||"")?e.slice(-2)[0]:e.slice(-1)[0]}function ve(e){let t="undefined"!=typeof window&&void 0!==window.location?window.location.origin:"unknown://unknown",n="string"==typeof e?e:le(e);return new URL(n,t)}function ye(){return(ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const me="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:be,useEffect:we,useLayoutEffect:xe,useDebugValue:Ee}=i;function Se(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!me(n,e)}catch(e){return!0}}const ke="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t,n){return t()}:function(e,t,n){const r=t(),[{inst:a},i]=be({inst:{value:r,getSnapshot:t}});return xe((()=>{a.value=r,a.getSnapshot=t,Se(a)&&i({inst:a})}),[e,r,t]),we((()=>(Se(a)&&i({inst:a}),e((()=>{Se(a)&&i({inst:a})})))),[e]),Ee(r),r},Pe=a.createContext(null),Ce=a.createContext(null),_e=a.createContext(null),De=a.createContext(null),Re=a.createContext(null),Oe=a.createContext(null),Te=a.createContext({outlet:null,matches:[]}),Me=a.createContext(null);function Be(e,t){let{relative:n}=void 0===t?{}:t;Ae()||D(!1);let{basename:r,navigator:i}=a.useContext(Re),{hash:o,pathname:l,search:s}=qe(e,{relative:n}),u=l;return"/"!==r&&(u="/"===l?r:M([r,l])),i.createHref({pathname:u,search:s,hash:o})}function Ae(){return null!=a.useContext(Oe)}function Ie(){return Ae()||D(!1),a.useContext(Oe).location}function Ne(){return a.useContext(Oe).navigationType}function Le(e){Ae()||D(!1);let{pathname:t}=Ie();return a.useMemo((()=>C(e,t)),[t,e])}function je(e){return e.filter(((t,n)=>0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase))}function ze(){Ae()||D(!1);let{basename:e,navigator:t}=a.useContext(Re),{matches:n}=a.useContext(Te),{pathname:r}=Ie(),i=JSON.stringify(je(n).map((e=>e.pathnameBase))),o=a.useRef(!1);return a.useEffect((()=>{o.current=!0})),a.useCallback((function(n,a){if(void 0===a&&(a={}),!o.current)return;if("number"==typeof n)return void t.go(n);let l=T(n,JSON.parse(i),r,"path"===a.relative);"/"!==e&&(l.pathname="/"===l.pathname?e:M([e,l.pathname])),(a.replace?t.replace:t.push)(l,a.state,a)}),[e,t,i,r])}const Fe=a.createContext(null);function Ve(){return a.useContext(Fe)}function He(e){let t=a.useContext(Te).outlet;return t?a.createElement(Fe.Provider,{value:e},t):t}function We(){let{matches:e}=a.useContext(Te),t=e[e.length-1];return t?t.params:{}}function qe(e,t){let{relative:n}=void 0===t?{}:t,{matches:r}=a.useContext(Te),{pathname:i}=Ie(),o=JSON.stringify(je(r).map((e=>e.pathnameBase)));return a.useMemo((()=>T(e,JSON.parse(o),i,"path"===n)),[e,o,i,n])}function Ue(e,t){Ae()||D(!1);let n=a.useContext(_e),{matches:i}=a.useContext(Te),o=i[i.length-1],l=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,c=Ie();if(t){var d;let e="string"==typeof t?g(t):t;"/"===s||(null==(d=e.pathname)?void 0:d.startsWith(s))||D(!1),u=e}else u=c;let f=u.pathname||"/",p=b(e,{pathname:"/"===s?f:f.slice(s.length)||"/"}),h=Xe(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:M([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:M([s,e.pathnameBase])}))),i,n||void 0);return t?a.createElement(Oe.Provider,{value:{location:ye({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:r.Pop}},h):h}function Ke(){let e=it(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unhandled Thrown Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,a.createElement("p",null," Hey developer "),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",a.createElement("code",{style:o},"errorElement")," props on",a.createElement("code",{style:o},"<Route>")))}class Ge extends a.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?a.createElement(Me.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function Ye(e){let{routeContext:t,match:n,children:r}=e,i=a.useContext(Pe);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),a.createElement(Te.Provider,{value:t},r)}function Xe(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let r=e,i=null==n?void 0:n.errors;if(null!=i){let e=r.findIndex((e=>e.route.id&&(null==i?void 0:i[e.route.id])));e>=0||D(!1),r=r.slice(0,Math.min(r.length,e+1))}return r.reduceRight(((e,o,l)=>{let s=o.route.id?null==i?void 0:i[o.route.id]:null,u=n?o.route.errorElement||a.createElement(Ke,null):null,c=()=>a.createElement(Ye,{match:o,routeContext:{outlet:e,matches:t.concat(r.slice(0,l+1))}},s?u:void 0!==o.route.element?o.route.element:e);return n&&(o.route.errorElement||0===l)?a.createElement(Ge,{location:n.location,component:u,error:s,children:c()}):c()}),null)}var $e,Qe;function Ze(e){let t=a.useContext(_e);return t||D(!1),t}function Je(){return Ze($e.UseNavigation).navigation}function et(){let e=a.useContext(Ce);e||D(!1);let t=Ze($e.UseRevalidator);return{revalidate:e.router.revalidate,state:t.revalidation}}function tt(){let{matches:e,loaderData:t}=Ze($e.UseMatches);return a.useMemo((()=>e.map((e=>{let{pathname:n,params:r}=e;return{id:e.route.id,pathname:n,params:r,data:t[e.route.id],handle:e.route.handle}}))),[e,t])}function nt(){let e=Ze($e.UseLoaderData),t=a.useContext(Te);t||D(!1);let n=t.matches[t.matches.length-1];return n.route.id||D(!1),e.loaderData[n.route.id]}function rt(e){return Ze($e.UseRouteLoaderData).loaderData[e]}function at(){let e=Ze($e.UseActionData);return a.useContext(Te)||D(!1),Object.values((null==e?void 0:e.actionData)||{})[0]}function it(){var e;let t=a.useContext(Me),n=Ze($e.UseRouteError),r=a.useContext(Te),i=r.matches[r.matches.length-1];return t||(r||D(!1),i.route.id||D(!1),null==(e=n.errors)?void 0:e[i.route.id])}function ot(){let e=a.useContext(De);return null==e?void 0:e._data}function lt(){let e=a.useContext(De);return null==e?void 0:e._error}function st(e){let{fallbackElement:t,router:n}=e,r=ke(n.subscribe,(()=>n.state),(()=>n.state)),i=a.useMemo((()=>({createHref:n.createHref,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),o=n.basename||"/";return a.createElement(Ce.Provider,{value:{router:n,navigator:i,static:!1,basename:o}},a.createElement(_e.Provider,{value:r},a.createElement(pt,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?a.createElement(ht,null):t)))}function ut(e){let{basename:t,children:n,initialEntries:r,initialIndex:i}=e,o=a.useRef();null==o.current&&(o.current=s({initialEntries:r,initialIndex:i,v5Compat:!0}));let l=o.current,[u,c]=a.useState({action:l.action,location:l.location});return a.useLayoutEffect((()=>l.listen(c)),[l]),a.createElement(pt,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l})}function ct(e){let{to:t,replace:n,state:r,relative:i}=e;Ae()||D(!1);let o=a.useContext(_e),l=ze();return a.useEffect((()=>{o&&"idle"!==o.navigation.state||l(t,{replace:n,state:r,relative:i})})),null}function dt(e){return He(e.context)}function ft(e){D(!1)}function pt(e){let{basename:t="/",children:n=null,location:i,navigationType:o=r.Pop,navigator:l,static:s=!1}=e;Ae()&&D(!1);let u=t.replace(/^\/*/,"/"),c=a.useMemo((()=>({basename:u,navigator:l,static:s})),[u,l,s]);"string"==typeof i&&(i=g(i));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:v="default"}=i,y=a.useMemo((()=>{let e=_(d,u);return null==e?null:{pathname:e,search:f,hash:p,state:h,key:v}}),[u,d,f,p,h,v]);return null==y?null:a.createElement(Re.Provider,{value:c},a.createElement(Oe.Provider,{children:n,value:{location:y,navigationType:o}}))}function ht(e){let{children:t,location:n}=e,r=a.useContext(Ce);return Ue(r&&!t?r.router.routes:bt(t),n)}function gt(e){let{children:t,errorElement:n,resolve:r}=e;return a.createElement(yt,{resolve:r,errorElement:n},a.createElement(mt,null,t))}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}($e||($e={})),function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Qe||(Qe={}));const vt=new Promise((()=>{}));class yt extends a.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,r=null,i=Qe.pending;if(n instanceof Promise)if(this.state.error){i=Qe.error;let e=this.state.error;r=Promise.reject().catch((()=>{})),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>e})}else n._tracked?(r=n,i=void 0!==r._error?Qe.error:void 0!==r._data?Qe.success:Qe.pending):(i=Qe.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),r=n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else i=Qe.success,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});if(i===Qe.error&&r._error instanceof L)throw vt;if(i===Qe.error&&!t)throw r._error;if(i===Qe.error)return a.createElement(De.Provider,{value:r,children:t});if(i===Qe.success)return a.createElement(De.Provider,{value:r,children:e});throw r}}function mt(e){let{children:t}=e,n=ot();return"function"==typeof t?t(n):a.createElement(a.Fragment,null,t)}function bt(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,r)=>{if(!a.isValidElement(e))return;if(e.type===a.Fragment)return void n.push.apply(n,bt(e.props.children,t));e.type!==ft&&D(!1);let i=[...t,r],o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=bt(e.props.children,i)),n.push(o)})),n}function wt(e){return Xe(e)}function xt(e){return e.map((e=>{let t=ye({},e);return null==t.hasErrorBoundary&&(t.hasErrorBoundary=null!=t.errorElement),t.children&&(t.children=xt(t.children)),t}))}function Et(e,t){return K({basename:null==t?void 0:t.basename,history:s({initialEntries:null==t?void 0:t.initialEntries,initialIndex:null==t?void 0:t.initialIndex}),hydrationData:null==t?void 0:t.hydrationData,routes:xt(e)}).initialize()}function St(){return(St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kt(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}const Pt="get",Ct="application/x-www-form-urlencoded";function _t(e){return null!=e&&"string"==typeof e.tagName}function Dt(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}const Rt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ot=["aria-current","caseSensitive","className","end","style","to","children"],Tt=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative"];function Mt(e,t){var n;return K({basename:null==t?void 0:t.basename,history:u({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||(null==(n=window)?void 0:n.__staticRouterHydrationData),routes:xt(e)}).initialize()}function Bt(e,t){var n;return K({basename:null==t?void 0:t.basename,history:c({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||(null==(n=window)?void 0:n.__staticRouterHydrationData),routes:xt(e)}).initialize()}function At(e){let{basename:t,children:n,window:r}=e,i=a.useRef();null==i.current&&(i.current=u({window:r,v5Compat:!0}));let o=i.current,[l,s]=a.useState({action:o.action,location:o.location});return a.useLayoutEffect((()=>o.listen(s)),[o]),a.createElement(pt,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}function It(e){let{basename:t,children:n,window:r}=e,i=a.useRef();null==i.current&&(i.current=c({window:r,v5Compat:!0}));let o=i.current,[l,s]=a.useState({action:o.action,location:o.location});return a.useLayoutEffect((()=>o.listen(s)),[o]),a.createElement(pt,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}function Nt(e){let{basename:t,children:n,history:r}=e;const[i,o]=a.useState({action:r.action,location:r.location});return a.useLayoutEffect((()=>r.listen(o)),[r]),a.createElement(pt,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:r})}const Lt=a.forwardRef((function(e,t){let{onClick:n,relative:r,reloadDocument:i,replace:o,state:l,target:s,to:u,preventScrollReset:c}=e,d=kt(e,Rt),f=Be(u,{relative:r}),p=Ht(u,{replace:o,state:l,target:s,preventScrollReset:c,relative:r});return a.createElement("a",St({},d,{href:f,onClick:i?n:function(e){n&&n(e),e.defaultPrevented||p(e)},ref:t,target:s}))})),jt=a.forwardRef((function(e,t){let n,{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:s,to:u,children:c}=e,d=kt(e,Ot),f=qe(u),p=Le({path:f.pathname,end:l,caseSensitive:i}),h=a.useContext(_e),g=null==h?void 0:h.navigation.location,v=qe(g||""),y=null!=a.useMemo((()=>g?C({path:f.pathname,end:l,caseSensitive:i},v.pathname):null),[g,f.pathname,i,l,v.pathname]),m=null!=p,b=m?r:void 0;n="function"==typeof o?o({isActive:m,isPending:y}):[o,m?"active":null,y?"pending":null].filter(Boolean).join(" ");let w="function"==typeof s?s({isActive:m,isPending:y}):s;return a.createElement(Lt,St({},d,{"aria-current":b,className:n,ref:t,style:w,to:u}),"function"==typeof c?c({isActive:m,isPending:y}):c)})),zt=a.forwardRef(((e,t)=>a.createElement(Ft,St({},e,{ref:t})))),Ft=a.forwardRef(((e,t)=>{let{reloadDocument:n,replace:r,method:i=Pt,action:o,onSubmit:l,fetcherKey:s,routeId:u,relative:c}=e,d=kt(e,Tt),f=Ut(s,u),p="get"===i.toLowerCase()?"get":"post",h=Kt(o,{relative:c});return a.createElement("form",St({ref:t,method:p,action:h,onSubmit:n?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter;f(t||e.currentTarget,{method:i,replace:r,relative:c})}},d))}));function Vt(e){let{getKey:t,storageKey:n}=e;return function(e){let{getKey:t,storageKey:n}=void 0===e?{}:e,r=Ie(),i=tt(),o=Je(),l=a.useContext(Ce);l||D(!1);let{router:s}=l,u=a.useContext(_e);(null==s||null==u)&&D(!1);let{restoreScrollPosition:c,preventScrollReset:d}=u;var f;a.useEffect((()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"})),[]),f=a.useCallback((()=>{if("idle"===o.state){let e=(t?t(r,i):null)||r.key;Qt[e]=window.scrollY}sessionStorage.setItem(n||$t,JSON.stringify(Qt)),window.history.scrollRestoration="auto"}),[n,t,o.state,r,i]),a.useEffect((()=>(window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)})),[f]),a.useLayoutEffect((()=>{try{let e=sessionStorage.getItem(n||$t);e&&(Qt=JSON.parse(e))}catch(e){}}),[n]),a.useLayoutEffect((()=>{let e=null==s?void 0:s.enableScrollRestoration(Qt,(()=>window.scrollY),t);return()=>e&&e()}),[s,t]),a.useLayoutEffect((()=>{if(!1!==c)if("number"!=typeof c){if(r.hash){let e=document.getElementById(r.hash.slice(1));if(e)return void e.scrollIntoView()}!0!==d&&window.scrollTo(0,0)}else window.scrollTo(0,c)}),[r,c,d])}({getKey:t,storageKey:n}),null}function Ht(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l}=void 0===t?{}:t,s=ze(),u=Ie(),c=qe(e,{relative:l});return a.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:h(u)===h(c);s(e,{replace:n,state:i,preventScrollReset:o,relative:l})}}),[u,s,c,r,i,n,e,o,l])}function Wt(e){let t=a.useRef(Dt(e)),n=Ie(),r=a.useMemo((()=>function(e,t){let n=Dt(e);for(let e of t.keys())n.has(e)||t.getAll(e).forEach((t=>{n.append(e,t)}));return n}(n.search,t.current)),[n.search]),i=ze(),o=a.useCallback(((e,t)=>{const n=Dt("function"==typeof e?e(r):e);i("?"+n,t)}),[i,r]);return[r,o]}function qt(){return Ut()}function Ut(e,t){let n=a.useContext(Ce);n||D(!1);let{router:r}=n,i=Kt();return a.useCallback((function(n,a){if(void 0===a&&(a={}),"undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{method:o,encType:l,formData:s,url:u}=function(e,t,n){let r,a,i,o;if(_t(l=e)&&"form"===l.tagName.toLowerCase()){let l=n.submissionTrigger;r=n.method||e.getAttribute("method")||Pt,a=n.action||e.getAttribute("action")||t,i=n.encType||e.getAttribute("enctype")||Ct,o=new FormData(e),l&&l.name&&o.append(l.name,l.value)}else if(function(e){return _t(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return _t(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let l=e.form;if(null==l)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');r=n.method||e.getAttribute("formmethod")||l.getAttribute("method")||Pt,a=n.action||e.getAttribute("formaction")||l.getAttribute("action")||t,i=n.encType||e.getAttribute("formenctype")||l.getAttribute("enctype")||Ct,o=new FormData(l),e.name&&o.append(e.name,e.value)}else{if(_t(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(r=n.method||Pt,a=n.action||t,i=n.encType||Ct,e instanceof FormData)o=e;else if(o=new FormData,e instanceof URLSearchParams)for(let[t,n]of e)o.append(t,n);else if(null!=e)for(let t of Object.keys(e))o.append(t,e[t])}var l;let{protocol:s,host:u}=window.location;return{url:new URL(a,s+"//"+u),method:r,encType:i,formData:o}}(n,i,a),c=u.pathname+u.search,d={replace:a.replace,formData:s,formMethod:o,formEncType:l};e?(null==t&&D(!1),r.fetch(e,t,c,d)):r.navigate(c,d)}),[i,r,e,t])}function Kt(e,t){let{relative:n}=void 0===t?{}:t,r=a.useContext(Te);r||D(!1);let[i]=r.matches.slice(-1),o=qe(null!=e?e:".",{relative:n}),l=Ie();if(null==e&&(o.search=l.search,o.hash=l.hash,i.route.index)){let e=new URLSearchParams(o.search);e.delete("index"),o.search=e.toString()?"?"+e.toString():""}return e&&"."!==e||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),h(o)}let Gt=0;function Yt(){var e;let t=a.useContext(Ce);t||D(!1);let{router:n}=t,r=a.useContext(Te);r||D(!1);let i=null==(e=r.matches[r.matches.length-1])?void 0:e.route.id;null==i&&D(!1);let[o]=a.useState((()=>String(++Gt))),[l]=a.useState((()=>(i||D(!1),function(e,t){return a.forwardRef(((n,r)=>a.createElement(Ft,St({},n,{ref:r,fetcherKey:e,routeId:t}))))}(o,i)))),[s]=a.useState((()=>e=>{n||D(!1),i||D(!1),n.fetch(o,i,e)})),u=Ut(o,i),c=n.getFetcher(o),d=a.useMemo((()=>St({Form:l,submit:u,load:s},c)),[c,l,u,s]);return a.useEffect((()=>()=>{n?n.deleteFetcher(o):console.warn("No fetcher available to clean up from useFetcher()")}),[n,o]),d}function Xt(){let e=a.useContext(_e);return e||D(!1),[...e.fetchers.values()]}const $t="react-router-scroll-positions";let Qt={}},217:function(e,t,n){!function(e,t){"use strict";function n(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function l(e){n(o,a,i,l,s,"next",e)}function s(e){n(o,a,i,l,s,"throw",e)}l(void 0)}))}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var l={init:"init"},s=function(e){var t=e.value;return void 0===t?"":t},u=function(){return t.createElement(t.Fragment,null,"")},c={Cell:s,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=t.style,r=t.className;return e=a({},e,{},i(t,["style","className"])),n&&(e.style=e.style?a({},e.style||{},{},n||{}):n),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var f=function(e,t){return void 0===t&&(t={}),function(n){return void 0===n&&(n={}),[].concat(e,[n]).reduce((function(e,r){return function e(t,n,r){return"function"==typeof n?e({},n(t,r)):Array.isArray(n)?d.apply(void 0,[t].concat(n)):d(t,n)}(e,r,a({},t,{userProps:n}))}),{})}},p=function(e,t,n,r){return void 0===n&&(n={}),e.reduce((function(e,t){return t(e,n)}),t)},h=function(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){e(t,n)}))};function g(e,t,n,r){e.findIndex((function(e){return e.pluginName===n})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function v(e,t){return"function"==typeof e?e(t):e}function y(e){var n=t.useRef();return n.current=e,t.useCallback((function(){return n.current}),[])}var m="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function b(e,n){var r=t.useRef(!1);m((function(){r.current&&e(),r.current=!0}),n)}function w(e,t,n){return void 0===n&&(n={}),function(r,i){void 0===i&&(i={});var o="string"==typeof r?t[r]:r;if(void 0===o)throw console.info(t),new Error("Renderer Error ");return x(o,a({},e,{column:t},n,{},i))}}function x(e,n){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(r=e)||"function"==typeof r||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?t.createElement(e,n):e;var r}function E(e,t,n){return void 0===n&&(n=0),e.map((function(e){return k(e=a({},e,{parent:t,depth:n})),e.columns&&(e.columns=E(e.columns,e,n+1)),e}))}function S(e){return O(e,"columns")}function k(e){var t=e.id,n=e.accessor,r=e.Header;if("string"==typeof n){t=t||n;var a=n.split(".");n=function(e){return function(e,t,n){if(!t)return e;var r,a="function"==typeof t?t:JSON.stringify(t),i=_.get(a)||function(){var e=function(e){return function e(t,n){if(void 0===n&&(n=[]),Array.isArray(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(N,".").replace(L,"").split(".")}(t);return _.set(a,e),e}();try{r=i.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==r?r:void 0}(e,a)}}if(!t&&"string"==typeof r&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function P(e,t){if(!t)throw new Error;return Object.assign(e,a({Header:u,Footer:u},c,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function C(e,t,n){void 0===n&&(n=function(){return{}});for(var r=[],i=e,o=0,l=function(){return o++},s=function(){var e={headers:[]},o=[],s=i.some((function(e){return e.parent}));i.forEach((function(r){var i,u=[].concat(o).reverse()[0];s&&(i=r.parent?a({},r.parent,{originalId:r.parent.id,id:r.parent.id+"_"+l(),headers:[r]},n(r)):P(a({originalId:r.id+"_placeholder",id:r.id+"_placeholder_"+l(),placeholderOf:r,headers:[r]},n(r)),t),u&&u.originalId===i.originalId?u.headers.push(r):o.push(i)),e.headers.push(r)})),r.push(e),i=o};i.length;)s();return r.reverse()}var _=new Map;function D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(void 0!==t[r])return t[r]}function R(e){if("function"==typeof e)return e}function O(e,t){var n=[];return function e(r){r.forEach((function(r){r[t]?e(r[t]):n.push(r)}))}(e),n}function T(e,t){var n=t.manualExpandedKey,r=t.expanded,a=t.expandSubRows,i=void 0===a||a,o=[];return e.forEach((function(e){return function e(t,a){void 0===a&&(a=!0),t.isExpanded=t.original&&t.original[n]||r[t.id],t.canExpand=t.subRows&&!!t.subRows.length,a&&o.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,i)}))}(e)})),o}function M(e,t,n){return R(e)||t[e]||n[e]||n.text}function B(e,t,n){return e?e(t,n):void 0===t}function A(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var I=null,N=/\[/g,L=/\]/g,j=function(e){return a({role:"table"},e)},z=function(e){return a({role:"rowgroup"},e)},F=function(e,t){var n=t.column;return a({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},V=function(e,t){var n=t.column;return a({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},H=function(e,t){return a({key:"headerGroup_"+t.index,role:"row"},e)},W=function(e,t){return a({key:"footerGroup_"+t.index},e)},q=function(e,t){return a({key:"row_"+t.row.id,role:"row"},e)},U=function(e,t){var n=t.cell;return a({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function K(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[j],getTableBodyProps:[z],getHeaderGroupProps:[H],getFooterGroupProps:[W],getHeaderProps:[F],getFooterProps:[V],getRowProps:[q],getCellProps:[U],useFinalInstance:[]}}l.resetHiddenColumns="resetHiddenColumns",l.toggleHideColumn="toggleHideColumn",l.setHiddenColumns="setHiddenColumns",l.toggleHideAllColumns="toggleHideAllColumns";var G=function(e){e.getToggleHiddenProps=[Y],e.getToggleHideAllColumnsProps=[X],e.stateReducers.push($),e.useInstanceBeforeDimensions.push(Q),e.headerGroupsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.hiddenColumns])})),e.useInstance.push(Z)};G.pluginName="useColumnVisibility";var Y=function(e,t){var n=t.column;return[e,{onChange:function(e){n.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},X=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function $(e,t,n,r){if(t.type===l.init)return a({hiddenColumns:[]},e);if(t.type===l.resetHiddenColumns)return a({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===l.toggleHideColumn){var i=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return a({},e,{hiddenColumns:i})}return t.type===l.setHiddenColumns?a({},e,{hiddenColumns:v(t.value,e.hiddenColumns)}):t.type===l.toggleHideAllColumns?a({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?r.allColumns.map((function(e){return e.id})):[]}):void 0}function Q(e){var n=e.headers,r=e.state.hiddenColumns;t.useRef(!1).current;var a=0;n.forEach((function(e){return a+=function e(t,n){t.isVisible=n&&!r.includes(t.id);var a=0;return t.headers&&t.headers.length?t.headers.forEach((function(n){return a+=e(n,t.isVisible)})):a=t.isVisible?1:0,t.totalVisibleHeaderCount=a,a}(e,!0)}))}function Z(e){var n=e.columns,r=e.flatHeaders,a=e.dispatch,i=e.allColumns,o=e.getHooks,s=e.state.hiddenColumns,u=e.autoResetHiddenColumns,c=void 0===u||u,d=y(e),p=i.length===s.length,h=t.useCallback((function(e,t){return a({type:l.toggleHideColumn,columnId:e,value:t})}),[a]),g=t.useCallback((function(e){return a({type:l.setHiddenColumns,value:e})}),[a]),v=t.useCallback((function(e){return a({type:l.toggleHideAllColumns,value:e})}),[a]),m=f(o().getToggleHideAllColumnsProps,{instance:d()});r.forEach((function(e){e.toggleHidden=function(t){a({type:l.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=f(o().getToggleHiddenProps,{instance:d(),column:e})}));var w=y(c);b((function(){w()&&a({type:l.resetHiddenColumns})}),[a,n]),Object.assign(e,{allColumnsHidden:p,toggleHideColumn:h,setHiddenColumns:g,toggleHideAllColumns:v,getToggleHideAllColumnsProps:m})}var J={},ee={},te=function(e,t,n){return e},ne=function(e,t){return e.subRows||[]},re=function(e,t,n){return""+(n?[n.id,t].join("."):t)},ae=function(e){return e};function ie(e){var t=e.initialState,n=void 0===t?J:t,r=e.defaultColumn,o=void 0===r?ee:r,l=e.getSubRows,s=void 0===l?ne:l,u=e.getRowId,c=void 0===u?re:u,d=e.stateReducer,f=void 0===d?te:d,p=e.useControlledState,h=void 0===p?ae:p;return a({},i(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:o,getSubRows:s,getRowId:c,stateReducer:f,useControlledState:h})}function oe(e,t){void 0===t&&(t=0);var n=0,r=0,a=0,i=0;return e.forEach((function(e){var o=e.headers;if(e.totalLeft=t,o&&o.length){var l=oe(o,t),s=l[0],u=l[1],c=l[2],d=l[3];e.totalMinWidth=s,e.totalWidth=u,e.totalMaxWidth=c,e.totalFlexWidth=d}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,n+=e.totalMinWidth,r+=e.totalWidth,a+=e.totalMaxWidth,i+=e.totalFlexWidth)})),[n,r,a,i]}function le(e){var t=e.data,n=e.rows,r=e.flatRows,a=e.rowsById,i=e.column,o=e.getRowId,l=e.getSubRows,s=e.accessValueHooks,u=e.getInstance;t.forEach((function(e,c){return function e(n,c,d,f,h){void 0===d&&(d=0);var g=n,v=o(n,c,f),y=a[v];if(y)y.subRows&&y.originalSubRows.forEach((function(t,n){return e(t,n,d+1,y)}));else if((y={id:v,original:g,index:c,depth:d,cells:[{}]}).cells.map=A,y.cells.filter=A,y.cells.forEach=A,y.cells[0].getCellProps=A,y.values={},h.push(y),r.push(y),a[v]=y,y.originalSubRows=l(n,c),y.originalSubRows){var m=[];y.originalSubRows.forEach((function(t,n){return e(t,n,d+1,y,m)})),y.subRows=m}i.accessor&&(y.values[i.id]=i.accessor(n,c,y,h,t)),y.values[i.id]=p(s,y.values[i.id],{row:y,column:i,instance:u()})}(e,c,0,void 0,n)}))}l.resetExpanded="resetExpanded",l.toggleRowExpanded="toggleRowExpanded",l.toggleAllRowsExpanded="toggleAllRowsExpanded";var se=function(e){e.getToggleAllRowsExpandedProps=[ue],e.getToggleRowExpandedProps=[ce],e.stateReducers.push(de),e.useInstance.push(fe),e.prepareRow.push(pe)};se.pluginName="useExpanded";var ue=function(e,t){var n=t.instance;return[e,{onClick:function(e){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},ce=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function de(e,t,n,r){if(t.type===l.init)return a({expanded:{}},e);if(t.type===l.resetExpanded)return a({},e,{expanded:r.initialState.expanded||{}});if(t.type===l.toggleAllRowsExpanded){var s=t.value,u=r.isAllRowsExpanded,c=r.rowsById;if(void 0!==s?s:!u){var d={};return Object.keys(c).forEach((function(e){d[e]=!0})),a({},e,{expanded:d})}return a({},e,{expanded:{}})}if(t.type===l.toggleRowExpanded){var f,p=t.id,h=t.value,g=e.expanded[p],v=void 0!==h?h:!g;if(!g&&v)return a({},e,{expanded:a({},e.expanded,(f={},f[p]=!0,f))});if(g&&!v){var y=e.expanded;return y[p],a({},e,{expanded:i(y,[p].map(o))})}return e}}function fe(e){var n=e.data,r=e.rows,a=e.rowsById,i=e.manualExpandedKey,o=void 0===i?"expanded":i,s=e.paginateExpandedRows,u=void 0===s||s,c=e.expandSubRows,d=void 0===c||c,p=e.autoResetExpanded,h=void 0===p||p,v=e.getHooks,m=e.plugins,w=e.state.expanded,x=e.dispatch;g(m,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var E=y(h),S=Boolean(Object.keys(a).length&&Object.keys(w).length);S&&Object.keys(a).some((function(e){return!w[e]}))&&(S=!1),b((function(){E()&&x({type:l.resetExpanded})}),[x,n]);var k=t.useCallback((function(e,t){x({type:l.toggleRowExpanded,id:e,value:t})}),[x]),P=t.useCallback((function(e){return x({type:l.toggleAllRowsExpanded,value:e})}),[x]),C=t.useMemo((function(){return u?T(r,{manualExpandedKey:o,expanded:w,expandSubRows:d}):r}),[u,r,o,w,d]),_=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var n=e.split(".");t=Math.max(t,n.length)})),t}(w)}),[w]),D=y(e),R=f(v().getToggleAllRowsExpandedProps,{instance:D()});Object.assign(e,{preExpandedRows:r,expandedRows:C,rows:C,expandedDepth:_,isAllRowsExpanded:S,toggleRowExpanded:k,toggleAllRowsExpanded:P,getToggleAllRowsExpandedProps:R})}function pe(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(t){return r.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=f(n().getToggleRowExpandedProps,{instance:r,row:e})}var he=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return String(r).toLowerCase().includes(String(n).toLowerCase())}))}))};he.autoRemove=function(e){return!e};var ge=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r).toLowerCase()===String(n).toLowerCase()}))}))};ge.autoRemove=function(e){return!e};var ve=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r)===String(n)}))}))};ve.autoRemove=function(e){return!e};var ye=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(n)}))}))};ye.autoRemove=function(e){return!e||!e.length};var me=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.every((function(e){return r.includes(e)}))}))}))};me.autoRemove=function(e){return!e||!e.length};var be=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.some((function(e){return r.includes(e)}))}))}))};be.autoRemove=function(e){return!e||!e.length};var we=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return n.includes(r)}))}))};we.autoRemove=function(e){return!e||!e.length};var xe=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]===n}))}))};xe.autoRemove=function(e){return void 0===e};var Ee=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]==n}))}))};Ee.autoRemove=function(e){return null==e};var Se=function(e,t,n){var r=n||[],a=r[0],i=r[1];if((a="number"==typeof a?a:-1/0)>(i="number"==typeof i?i:1/0)){var o=a;a=i,i=o}return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n>=a&&n<=i}))}))};Se.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var ke=Object.freeze({__proto__:null,text:he,exactText:ge,exactTextCase:ve,includes:ye,includesAll:me,includesSome:be,includesValue:we,exact:xe,equals:Ee,between:Se});l.resetFilters="resetFilters",l.setFilter="setFilter",l.setAllFilters="setAllFilters";var Pe=function(e){e.stateReducers.push(Ce),e.useInstance.push(_e)};function Ce(e,t,n,r){if(t.type===l.init)return a({filters:[]},e);if(t.type===l.resetFilters)return a({},e,{filters:r.initialState.filters||[]});if(t.type===l.setFilter){var i=t.columnId,o=t.filterValue,s=r.allColumns,u=r.filterTypes,c=s.find((function(e){return e.id===i}));if(!c)throw new Error("React-Table: Could not find a column with id: "+i);var d=M(c.filter,u||{},ke),f=e.filters.find((function(e){return e.id===i})),p=v(o,f&&f.value);return B(d.autoRemove,p,c)?a({},e,{filters:e.filters.filter((function(e){return e.id!==i}))}):a({},e,f?{filters:e.filters.map((function(e){return e.id===i?{id:i,value:p}:e}))}:{filters:[].concat(e.filters,[{id:i,value:p}])})}if(t.type===l.setAllFilters){var h=t.filters,g=r.allColumns,y=r.filterTypes;return a({},e,{filters:v(h,e.filters).filter((function(e){var t=g.find((function(t){return t.id===e.id}));return!B(M(t.filter,y||{},ke).autoRemove,e.value,t)}))})}}function _e(e){var n=e.data,r=e.rows,a=e.flatRows,i=e.rowsById,o=e.allColumns,s=e.filterTypes,u=e.manualFilters,c=e.defaultCanFilter,d=void 0!==c&&c,f=e.disableFilters,p=e.state.filters,h=e.dispatch,g=e.autoResetFilters,v=void 0===g||g,m=t.useCallback((function(e,t){h({type:l.setFilter,columnId:e,filterValue:t})}),[h]),w=t.useCallback((function(e){h({type:l.setAllFilters,filters:e})}),[h]);o.forEach((function(e){var t=e.id,n=e.accessor,r=e.defaultCanFilter,a=e.disableFilters;e.canFilter=n?D(!0!==a&&void 0,!0!==f&&void 0,!0):D(r,d,!1),e.setFilter=function(t){return m(e.id,t)};var i=p.find((function(e){return e.id===t}));e.filterValue=i&&i.value}));var x=t.useMemo((function(){if(u||!p.length)return[r,a,i];var e=[],t={};return[function n(r,a){void 0===a&&(a=0);var i=r;return(i=p.reduce((function(e,t){var n=t.id,r=t.value,i=o.find((function(e){return e.id===n}));if(!i)return e;0===a&&(i.preFilteredRows=e);var l=M(i.filter,s||{},ke);return l?(i.filteredRows=l(e,[n],r),i.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+i.id+"."),e)}),r)).forEach((function(r){e.push(r),t[r.id]=r,r.subRows&&(r.subRows=r.subRows&&r.subRows.length>0?n(r.subRows,a+1):r.subRows)})),i}(r),e,t]}),[u,p,r,a,i,o,s]),E=x[0],S=x[1],k=x[2];t.useMemo((function(){o.filter((function(e){return!p.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=E,e.filteredRows=E}))}),[E,p,o]);var P=y(v);b((function(){P()&&h({type:l.resetFilters})}),[h,u?null:n]),Object.assign(e,{preFilteredRows:r,preFilteredFlatRows:a,preFilteredRowsById:i,filteredRows:E,filteredFlatRows:S,filteredRowsById:k,rows:E,flatRows:S,rowsById:k,setFilter:m,setAllFilters:w})}Pe.pluginName="useFilters",l.resetGlobalFilter="resetGlobalFilter",l.setGlobalFilter="setGlobalFilter";var De=function(e){e.stateReducers.push(Re),e.useInstance.push(Oe)};function Re(e,t,n,r){if(t.type===l.resetGlobalFilter)return a({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===l.setGlobalFilter){var o=t.filterValue,s=r.userFilterTypes,u=M(r.globalFilter,s||{},ke),c=v(o,e.globalFilter);return B(u.autoRemove,c)?(e.globalFilter,i(e,["globalFilter"])):a({},e,{globalFilter:c})}}function Oe(e){var n=e.data,r=e.rows,a=e.flatRows,i=e.rowsById,o=e.allColumns,s=e.filterTypes,u=e.globalFilter,c=e.manualGlobalFilter,d=e.state.globalFilter,f=e.dispatch,p=e.autoResetGlobalFilter,h=void 0===p||p,g=e.disableGlobalFilter,v=t.useCallback((function(e){f({type:l.setGlobalFilter,filterValue:e})}),[f]),m=t.useMemo((function(){if(c||void 0===d)return[r,a,i];var e=[],t={},n=M(u,s||{},ke);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),r;o.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=D(!0!==t&&void 0,!0!==g&&void 0,!0)}));var l=o.filter((function(e){return!0===e.canFilter}));return[function r(a){return(a=n(a,l.map((function(e){return e.id})),d)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows=n.subRows&&n.subRows.length?r(n.subRows):n.subRows})),a}(r),e,t]}),[c,d,u,s,o,r,a,i,g]),w=m[0],x=m[1],E=m[2],S=y(h);b((function(){S()&&f({type:l.resetGlobalFilter})}),[f,c?null:n]),Object.assign(e,{preGlobalFilteredRows:r,preGlobalFilteredFlatRows:a,preGlobalFilteredRowsById:i,globalFilteredRows:w,globalFilteredFlatRows:x,globalFilteredRowsById:E,rows:w,flatRows:x,rowsById:E,setGlobalFilter:v,disableGlobalFilter:g})}function Te(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}De.pluginName="useGlobalFilter";var Me=Object.freeze({__proto__:null,sum:Te,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),n=Math.max(n,e))})),t+".."+n},average:function(e){return Te(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),Be=[],Ae={};l.resetGroupBy="resetGroupBy",l.setGroupBy="setGroupBy",l.toggleGroupBy="toggleGroupBy";var Ie=function(e){e.getGroupByToggleProps=[Ne],e.stateReducers.push(Le),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.groupBy])})),e.visibleColumns.push(je),e.useInstance.push(Fe),e.prepareRow.push(Ve)};Ie.pluginName="useGroupBy";var Ne=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(e){e.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function Le(e,t,n,r){if(t.type===l.init)return a({groupBy:[]},e);if(t.type===l.resetGroupBy)return a({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===l.setGroupBy)return a({},e,{groupBy:t.value});if(t.type===l.toggleGroupBy){var i=t.columnId,o=t.value,s=void 0!==o?o:!e.groupBy.includes(i);return a({},e,s?{groupBy:[].concat(e.groupBy,[i])}:{groupBy:e.groupBy.filter((function(e){return e!==i}))})}}function je(e,t){var n=t.instance.state.groupBy,r=n.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),a=e.filter((function(e){return!n.includes(e.id)}));return(e=[].concat(r,a)).forEach((function(e){e.isGrouped=n.includes(e.id),e.groupedIndex=n.indexOf(e.id)})),e}var ze={};function Fe(e){var n=e.data,r=e.rows,a=e.flatRows,i=e.rowsById,o=e.allColumns,s=e.flatHeaders,u=e.groupByFn,c=void 0===u?He:u,d=e.manualGroupBy,p=e.aggregations,h=void 0===p?ze:p,v=e.plugins,m=e.state.groupBy,w=e.dispatch,x=e.autoResetGroupBy,E=void 0===x||x,S=e.disableGroupBy,k=e.defaultCanGroupBy,P=e.getHooks;g(v,["useColumnOrder","useFilters"],"useGroupBy");var C=y(e);o.forEach((function(t){var n=t.accessor,r=t.defaultGroupBy,a=t.disableGroupBy;t.canGroupBy=n?D(t.canGroupBy,!0!==a&&void 0,!0!==S&&void 0,!0):D(t.canGroupBy,r,k,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var _=t.useCallback((function(e,t){w({type:l.toggleGroupBy,columnId:e,value:t})}),[w]),R=t.useCallback((function(e){w({type:l.setGroupBy,value:e})}),[w]);s.forEach((function(e){e.getGroupByToggleProps=f(P().getGroupByToggleProps,{instance:C(),header:e})}));var T=t.useMemo((function(){if(d||!m.length)return[r,a,i,Be,Ae,a,i];var e=m.filter((function(e){return o.find((function(t){return t.id===e}))})),t=[],n={},l=[],s={},u=[],f={},p=function r(a,i,d){if(void 0===i&&(i=0),i===e.length)return a;var p=e[i],g=c(a,p);return Object.entries(g).map((function(a,c){var g=a[0],v=a[1],y=p+":"+g,m=r(v,i+1,y=d?d+">"+y:y),b=i?O(v,"leafRows"):v,w=function(t,n,r){var a={};return o.forEach((function(i){if(e.includes(i.id))a[i.id]=n[0]?n[0].values[i.id]:null;else{var o="function"==typeof i.aggregate?i.aggregate:h[i.aggregate]||Me[i.aggregate];if(o){var l=n.map((function(e){return e.values[i.id]})),s=t.map((function(e){var t=e.values[i.id];if(!r&&i.aggregateValue){var n="function"==typeof i.aggregateValue?i.aggregateValue:h[i.aggregateValue]||Me[i.aggregateValue];if(!n)throw console.info({column:i}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=n(t,e,i)}return t}));a[i.id]=o(s,l)}else{if(i.aggregate)throw console.info({column:i}),new Error("React Table: Invalid column.aggregate option for column listed above");a[i.id]=null}}})),a}(b,v,i),x={id:y,isGrouped:!0,groupByID:p,groupByVal:g,values:w,subRows:m,leafRows:b,depth:i,index:c};return m.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(l.push(e),s[e.id]=e):(u.push(e),f[e.id]=e)})),x}))}(r);return p.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(l.push(e),s[e.id]=e):(u.push(e),f[e.id]=e)})),[p,t,n,l,s,u,f]}),[d,m,r,a,i,o,h,c]),M=T[0],B=T[1],A=T[2],I=T[3],N=T[4],L=T[5],j=T[6],z=y(E);b((function(){z()&&w({type:l.resetGroupBy})}),[w,d?null:n]),Object.assign(e,{preGroupedRows:r,preGroupedFlatRow:a,preGroupedRowsById:i,groupedRows:M,groupedFlatRows:B,groupedRowsById:A,onlyGroupedFlatRows:I,onlyGroupedRowsById:N,nonGroupedFlatRows:L,nonGroupedRowsById:j,rows:M,flatRows:B,rowsById:A,toggleGroupBy:_,setGroupBy:R})}function Ve(e){e.allCells.forEach((function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(n=e.subRows)?void 0:n.length)}))}function He(e,t){return e.reduce((function(e,n,r){var a=""+n.values[t];return e[a]=Array.isArray(e[a])?e[a]:[],e[a].push(n),e}),{})}var We=/([0-9]+)/gm;function qe(e,t){return e===t?0:e>t?1:-1}function Ue(e,t,n){return[e.values[n],t.values[n]]}function Ke(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var Ge=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=Ue(e,t,n),a=r[0],i=r[1];for(a=Ke(a),i=Ke(i),a=a.split(We).filter(Boolean),i=i.split(We).filter(Boolean);a.length&&i.length;){var o=a.shift(),l=i.shift(),s=parseInt(o,10),u=parseInt(l,10),c=[s,u].sort();if(isNaN(c[0])){if(o>l)return 1;if(l>o)return-1}else{if(isNaN(c[1]))return isNaN(s)?-1:1;if(s>u)return 1;if(u>s)return-1}}return a.length-i.length},datetime:function(e,t,n){var r=Ue(e,t,n),a=r[0],i=r[1];return qe(a=a.getTime(),i=i.getTime())},basic:function(e,t,n){var r=Ue(e,t,n);return qe(r[0],r[1])},string:function(e,t,n){var r=Ue(e,t,n),a=r[0],i=r[1];for(a=a.split("").filter(Boolean),i=i.split("").filter(Boolean);a.length&&i.length;){var o=a.shift(),l=i.shift(),s=o.toLowerCase(),u=l.toLowerCase();if(s>u)return 1;if(u>s)return-1;if(o>l)return 1;if(l>o)return-1}return a.length-i.length},number:function(e,t,n){var r=Ue(e,t,n),a=r[0],i=r[1],o=/[^0-9.]/gi;return qe(a=Number(String(a).replace(o,"")),i=Number(String(i).replace(o,"")))}});l.resetSortBy="resetSortBy",l.setSortBy="setSortBy",l.toggleSortBy="toggleSortBy",l.clearSortBy="clearSortBy",c.sortType="alphanumeric",c.sortDescFirst=!1;var Ye=function(e){e.getSortByToggleProps=[Xe],e.stateReducers.push($e),e.useInstance.push(Qe)};Ye.pluginName="useSortBy";var Xe=function(e,t){var n=t.instance,r=t.column,a=n.isMultiSortEvent,i=void 0===a?function(e){return e.shiftKey}:a;return[e,{onClick:r.canSort?function(e){e.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&i(e))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function $e(e,t,n,r){if(t.type===l.init)return a({sortBy:[]},e);if(t.type===l.resetSortBy)return a({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===l.clearSortBy)return a({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===l.setSortBy)return a({},e,{sortBy:t.sortBy});if(t.type===l.toggleSortBy){var i,o=t.columnId,s=t.desc,u=t.multi,c=r.allColumns,d=r.disableMultiSort,f=r.disableSortRemove,p=r.disableMultiRemove,h=r.maxMultiSortColCount,g=void 0===h?Number.MAX_SAFE_INTEGER:h,v=e.sortBy,y=c.find((function(e){return e.id===o})).sortDescFirst,m=v.find((function(e){return e.id===o})),b=v.findIndex((function(e){return e.id===o})),w=null!=s,x=[];return"toggle"!=(i=!d&&u?m?"toggle":"add":b!==v.length-1||1!==v.length?"replace":m?"toggle":"replace")||f||w||u&&p||!(m&&m.desc&&!y||!m.desc&&y)||(i="remove"),"replace"===i?x=[{id:o,desc:w?s:y}]:"add"===i?(x=[].concat(v,[{id:o,desc:w?s:y}])).splice(0,x.length-g):"toggle"===i?x=v.map((function(e){return e.id===o?a({},e,{desc:w?s:!m.desc}):e})):"remove"===i&&(x=v.filter((function(e){return e.id!==o}))),a({},e,{sortBy:x})}}function Qe(e){var n=e.data,r=e.rows,a=e.flatRows,i=e.allColumns,o=e.orderByFn,s=void 0===o?Ze:o,u=e.sortTypes,c=e.manualSortBy,d=e.defaultCanSort,p=e.disableSortBy,h=e.flatHeaders,v=e.state.sortBy,m=e.dispatch,w=e.plugins,x=e.getHooks,E=e.autoResetSortBy,S=void 0===E||E;g(w,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var k=t.useCallback((function(e){m({type:l.setSortBy,sortBy:e})}),[m]),P=t.useCallback((function(e,t,n){m({type:l.toggleSortBy,columnId:e,desc:t,multi:n})}),[m]),C=y(e);h.forEach((function(e){var t=e.accessor,n=e.canSort,r=e.disableSortBy,a=e.id,i=t?D(!0!==r&&void 0,!0!==p&&void 0,!0):D(d,n,!1);e.canSort=i,e.canSort&&(e.toggleSortBy=function(t,n){return P(e.id,t,n)},e.clearSortBy=function(){m({type:l.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=f(x().getSortByToggleProps,{instance:C(),column:e});var o=v.find((function(e){return e.id===a}));e.isSorted=!!o,e.sortedIndex=v.findIndex((function(e){return e.id===a})),e.isSortedDesc=e.isSorted?o.desc:void 0}));var _=t.useMemo((function(){if(c||!v.length)return[r,a];var e=[],t=v.filter((function(e){return i.find((function(t){return t.id===e.id}))}));return[function n(r){var a=s(r,t.map((function(e){var t=i.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var n=t.sortType,r=R(n)||(u||{})[n]||Ge[n];if(!r)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+e.id+"'.");return function(t,n){return r(t,n,e.id,e.desc)}})),t.map((function(e){var t=i.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return a.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=n(t.subRows))})),a}(r),e]}),[c,v,r,a,i,s,u]),O=_[0],T=_[1],M=y(S);b((function(){M()&&m({type:l.resetSortBy})}),[c?null:n]),Object.assign(e,{preSortedRows:r,preSortedFlatRows:a,sortedRows:O,sortedFlatRows:T,rows:O,flatRows:T,setSortBy:k,toggleSortBy:P})}function Ze(e,t,n){return[].concat(e).sort((function(e,r){for(var a=0;a<t.length;a+=1){var i=t[a],o=!1===n[a]||"desc"===n[a],l=i(e,r);if(0!==l)return o?-l:l}return n[0]?e.index-r.index:r.index-e.index}))}l.resetPage="resetPage",l.gotoPage="gotoPage",l.setPageSize="setPageSize";var Je=function(e){e.stateReducers.push(et),e.useInstance.push(tt)};function et(e,t,n,r){if(t.type===l.init)return a({pageSize:10,pageIndex:0},e);if(t.type===l.resetPage)return a({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===l.gotoPage){var i=r.pageCount,o=r.page,s=v(t.pageIndex,e.pageIndex),u=!1;return s>e.pageIndex?u=-1===i?o.length>=e.pageSize:s<i:s<e.pageIndex&&(u=s>-1),u?a({},e,{pageIndex:s}):e}if(t.type===l.setPageSize){var c=t.pageSize,d=e.pageSize*e.pageIndex;return a({},e,{pageIndex:Math.floor(d/c),pageSize:c})}}function tt(e){var n=e.rows,r=e.autoResetPage,a=void 0===r||r,i=e.manualExpandedKey,o=void 0===i?"expanded":i,s=e.plugins,u=e.pageCount,c=e.paginateExpandedRows,d=void 0===c||c,f=e.expandSubRows,p=void 0===f||f,h=e.state,v=h.pageSize,m=h.pageIndex,w=h.expanded,x=h.globalFilter,E=h.filters,S=h.groupBy,k=h.sortBy,P=e.dispatch,C=e.data,_=e.manualPagination;g(s,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var D=y(a);b((function(){D()&&P({type:l.resetPage})}),[P,_?null:C,x,E,S,k]);var R=_?u:Math.ceil(n.length/v),O=t.useMemo((function(){return R>0?[].concat(new Array(R)).fill(null).map((function(e,t){return t})):[]}),[R]),M=t.useMemo((function(){var e;if(_)e=n;else{var t=v*m,r=t+v;e=n.slice(t,r)}return d?e:T(e,{manualExpandedKey:o,expanded:w,expandSubRows:p})}),[p,w,o,_,m,v,d,n]),B=m>0,A=-1===R?M.length>=v:m<R-1,I=t.useCallback((function(e){P({type:l.gotoPage,pageIndex:e})}),[P]),N=t.useCallback((function(){return I((function(e){return e-1}))}),[I]),L=t.useCallback((function(){return I((function(e){return e+1}))}),[I]),j=t.useCallback((function(e){P({type:l.setPageSize,pageSize:e})}),[P]);Object.assign(e,{pageOptions:O,pageCount:R,page:M,canPreviousPage:B,canNextPage:A,gotoPage:I,previousPage:N,nextPage:L,setPageSize:j})}Je.pluginName="usePagination",l.resetPivot="resetPivot",l.togglePivot="togglePivot";var nt=function(e){e.getPivotToggleProps=[at],e.stateReducers.push(it),e.useInstanceAfterData.push(ot),e.allColumns.push(lt),e.accessValue.push(st),e.materializedColumns.push(ut),e.materializedColumnsDeps.push(ct),e.visibleColumns.push(dt),e.visibleColumnsDeps.push(ft),e.useInstance.push(pt),e.prepareRow.push(ht)};nt.pluginName="usePivotColumns";var rt=[],at=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(e){e.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function it(e,t,n,r){if(t.type===l.init)return a({pivotColumns:rt},e);if(t.type===l.resetPivot)return a({},e,{pivotColumns:r.initialState.pivotColumns||rt});if(t.type===l.togglePivot){var i=t.columnId,o=t.value,s=void 0!==o?o:!e.pivotColumns.includes(i);return a({},e,s?{pivotColumns:[].concat(e.pivotColumns,[i])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==i}))})}}function ot(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function lt(e,t){var n=t.instance;return e.forEach((function(e){e.isPivotSource=n.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function st(e,t){var n=t.column;return n.uniqueValues&&void 0!==e&&n.uniqueValues.add(e),e}function ut(e,t){var n=t.instance,r=n.allColumns,i=n.state;if(!i.pivotColumns.length||!i.groupBy||!i.groupBy.length)return e;var o=i.pivotColumns.map((function(e){return r.find((function(t){return t.id===e}))})).filter(Boolean),l=r.filter((function(e){return!e.isPivotSource&&!i.groupBy.includes(e.id)&&!i.pivotColumns.includes(e.id)})),s=S(function e(t,n,r){void 0===t&&(t=0),void 0===r&&(r=[]);var i=o[t];return i?Array.from(i.uniqueValues).sort().map((function(o){var l=a({},i,{Header:i.PivotHeader||"string"==typeof i.header?i.Header+": "+o:o,isPivotGroup:!0,parent:n,depth:t,id:n?n.id+"."+i.id+"."+o:i.id+"."+o,pivotValue:o});return l.columns=e(t+1,l,[].concat(r,[function(e){return e.values[i.id]===o}])),l})):l.map((function(e){return a({},e,{canPivot:!1,isPivoted:!0,parent:n,depth:t,id:""+(n?n.id+"."+e.id:e.id),accessor:function(t,n,a){if(r.every((function(e){return e(a)})))return a.values[e.id]}})}))}());return[].concat(e,s)}function ct(e,t){var n=t.instance.state,r=n.pivotColumns,a=n.groupBy;return[].concat(e,[r,a])}function dt(e,t){var n=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function ft(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function pt(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,a=e.getHooks,i=e.plugins,o=e.dispatch,s=e.autoResetPivot,u=void 0===s||s,c=e.manaulPivot,d=e.disablePivot,p=e.defaultCanPivot;g(i,["useGroupBy"],"usePivotColumns");var h=y(e);n.forEach((function(t){var n=t.accessor,r=t.defaultPivot,a=t.disablePivot;t.canPivot=n?D(t.canPivot,!0!==a&&void 0,!0!==d&&void 0,!0):D(t.canPivot,r,p,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),r.forEach((function(e){e.getPivotToggleProps=f(a().getPivotToggleProps,{instance:h(),header:e})}));var v=y(u);b((function(){v()&&o({type:l.resetPivot})}),[o,c?null:t]),Object.assign(e,{togglePivot:function(e,t){o({type:l.togglePivot,columnId:e,value:t})}})}function ht(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}l.resetSelectedRows="resetSelectedRows",l.toggleAllRowsSelected="toggleAllRowsSelected",l.toggleRowSelected="toggleRowSelected",l.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var gt=function(e){e.getToggleRowSelectedProps=[vt],e.getToggleAllRowsSelectedProps=[yt],e.getToggleAllPageRowsSelectedProps=[mt],e.stateReducers.push(bt),e.useInstance.push(wt),e.prepareRow.push(xt)};gt.pluginName="useRowSelect";var vt=function(e,t){var n=t.instance,r=t.row,a=n.manualRowSelectedKey,i=void 0===a?"isSelected":a;return[e,{onChange:function(e){r.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[i])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},yt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},mt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]};function bt(e,t,n,r){if(t.type===l.init)return a({selectedRowIds:{}},e);if(t.type===l.resetSelectedRows)return a({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===l.toggleAllRowsSelected){var i=t.value,o=r.isAllRowsSelected,s=r.rowsById,u=r.nonGroupedRowsById,c=void 0===u?s:u,d=void 0!==i?i:!o,f=Object.assign({},e.selectedRowIds);return d?Object.keys(c).forEach((function(e){f[e]=!0})):Object.keys(c).forEach((function(e){delete f[e]})),a({},e,{selectedRowIds:f})}if(t.type===l.toggleRowSelected){var p=t.id,h=t.value,g=r.rowsById,v=r.selectSubRows,y=void 0===v||v,m=r.getSubRows,b=e.selectedRowIds[p],w=void 0!==h?h:!b;if(b===w)return e;var x=a({},e.selectedRowIds);return function e(t){var n=g[t];if(n.isGrouped||(w?x[t]=!0:delete x[t]),y&&m(n))return m(n).forEach((function(t){return e(t.id)}))}(p),a({},e,{selectedRowIds:x})}if(t.type===l.toggleAllPageRowsSelected){var E=t.value,S=r.page,k=r.rowsById,P=r.selectSubRows,C=void 0===P||P,_=r.isAllPageRowsSelected,D=r.getSubRows,R=void 0!==E?E:!_,O=a({},e.selectedRowIds);return S.forEach((function(e){return function e(t){var n=k[t];if(n.isGrouped||(R?O[t]=!0:delete O[t]),C&&D(n))return D(n).forEach((function(t){return e(t.id)}))}(e.id)})),a({},e,{selectedRowIds:O})}return e}function wt(e){var n=e.data,r=e.rows,a=e.getHooks,i=e.plugins,o=e.rowsById,s=e.nonGroupedRowsById,u=void 0===s?o:s,c=e.autoResetSelectedRows,d=void 0===c||c,p=e.state.selectedRowIds,h=e.selectSubRows,v=void 0===h||h,m=e.dispatch,w=e.page,x=e.getSubRows;g(i,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var E=t.useMemo((function(){var e=[];return r.forEach((function(t){var n=v?function e(t,n,r){if(n[t.id])return!0;var a=r(t);if(a&&a.length){var i=!0,o=!1;return a.forEach((function(t){o&&!i||(e(t,n,r)?o=!0:i=!1)})),!!i||!!o&&null}return!1}(t,p,x):!!p[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[r,v,p,x]),S=Boolean(Object.keys(u).length&&Object.keys(p).length),k=S;S&&Object.keys(u).some((function(e){return!p[e]}))&&(S=!1),S||w&&w.length&&w.some((function(e){var t=e.id;return!p[t]}))&&(k=!1);var P=y(d);b((function(){P()&&m({type:l.resetSelectedRows})}),[m,n]);var C=t.useCallback((function(e){return m({type:l.toggleAllRowsSelected,value:e})}),[m]),_=t.useCallback((function(e){return m({type:l.toggleAllPageRowsSelected,value:e})}),[m]),D=t.useCallback((function(e,t){return m({type:l.toggleRowSelected,id:e,value:t})}),[m]),R=y(e),O=f(a().getToggleAllRowsSelectedProps,{instance:R()}),T=f(a().getToggleAllPageRowsSelectedProps,{instance:R()});Object.assign(e,{selectedFlatRows:E,isAllRowsSelected:S,isAllPageRowsSelected:k,toggleRowSelected:D,toggleAllRowsSelected:C,getToggleAllRowsSelectedProps:O,getToggleAllPageRowsSelectedProps:T,toggleAllPageRowsSelected:_})}function xt(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=f(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var Et=function(e){return{}},St=function(e){return{}};l.setRowState="setRowState",l.setCellState="setCellState",l.resetRowState="resetRowState";var kt=function(e){e.stateReducers.push(Pt),e.useInstance.push(Ct),e.prepareRow.push(_t)};function Pt(e,t,n,r){var i=r.initialRowStateAccessor,o=void 0===i?Et:i,s=r.initialCellStateAccessor,u=void 0===s?St:s,c=r.rowsById;if(t.type===l.init)return a({rowState:{}},e);if(t.type===l.resetRowState)return a({},e,{rowState:r.initialState.rowState||{}});if(t.type===l.setRowState){var d,f=t.rowId,p=t.value,h=void 0!==e.rowState[f]?e.rowState[f]:o(c[f]);return a({},e,{rowState:a({},e.rowState,(d={},d[f]=v(p,h),d))})}if(t.type===l.setCellState){var g,y,m,b,w,x=t.rowId,E=t.columnId,S=t.value,k=void 0!==e.rowState[x]?e.rowState[x]:o(c[x]),P=void 0!==(null==k||null==(g=k.cellState)?void 0:g[E])?k.cellState[E]:u(null==(y=c[x])||null==(m=y.cells)?void 0:m.find((function(e){return e.column.id===E})));return a({},e,{rowState:a({},e.rowState,(w={},w[x]=a({},k,{cellState:a({},k.cellState||{},(b={},b[E]=v(S,P),b))}),w))})}}function Ct(e){var n=e.autoResetRowState,r=void 0===n||n,a=e.data,i=e.dispatch,o=t.useCallback((function(e,t){return i({type:l.setRowState,rowId:e,value:t})}),[i]),s=t.useCallback((function(e,t,n){return i({type:l.setCellState,rowId:e,columnId:t,value:n})}),[i]),u=y(r);b((function(){u()&&i({type:l.resetRowState})}),[a]),Object.assign(e,{setRowState:o,setCellState:s})}function _t(e,t){var n=t.instance,r=n.initialRowStateAccessor,a=void 0===r?Et:r,i=n.initialCellStateAccessor,o=void 0===i?St:i,l=n.state.rowState;e&&(e.state=void 0!==l[e.id]?l[e.id]:a(e),e.setState=function(t){return n.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:o(t),t.setState=function(r){return n.setCellState(e.id,t.column.id,r)}})))}kt.pluginName="useRowState",l.resetColumnOrder="resetColumnOrder",l.setColumnOrder="setColumnOrder";var Dt=function(e){e.stateReducers.push(Rt),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.columnOrder])})),e.visibleColumns.push(Ot),e.useInstance.push(Tt)};function Rt(e,t,n,r){return t.type===l.init?a({columnOrder:[]},e):t.type===l.resetColumnOrder?a({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===l.setColumnOrder?a({},e,{columnOrder:v(t.columnOrder,e.columnOrder)}):void 0}function Ot(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),a=[].concat(e),i=[],o=function(){var e=r.shift(),t=a.findIndex((function(t){return t.id===e}));t>-1&&i.push(a.splice(t,1)[0])};a.length&&r.length;)o();return[].concat(i,a)}function Tt(e){var n=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return n({type:l.setColumnOrder,columnOrder:e})}),[n])}Dt.pluginName="useColumnOrder",c.canResize=!0,l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize";var Mt=function(e){e.getResizerProps=[Bt],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(At),e.useInstance.push(Nt),e.useInstanceBeforeDimensions.push(It)},Bt=function(e,t){var n=t.instance,r=t.header,a=n.dispatch,i=function(e,t){var n=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;n=!0}var r=function(e){var t=[];return function e(n){n.columns&&n.columns.length&&n.columns.map(e),t.push(n)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),i=n?Math.round(e.touches[0].clientX):e.clientX,o=function(e){a({type:l.columnResizing,clientX:e})},s=function(){return a({type:l.columnDoneResizing})},u={mouse:{moveEvent:"mousemove",moveHandler:function(e){return o(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",u.mouse.moveHandler),document.removeEventListener("mouseup",u.mouse.upHandler),s()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),o(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(u.touch.moveEvent,u.touch.moveHandler),document.removeEventListener(u.touch.upEvent,u.touch.moveHandler),s()}}},c=n?u.touch:u.mouse,d=!!function(){if("boolean"==typeof I)return I;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return I=e}()&&{passive:!1};document.addEventListener(c.moveEvent,c.moveHandler,d),document.addEventListener(c.upEvent,c.upHandler,d),a({type:l.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:r,clientX:i})};return[e,{onMouseDown:function(e){return e.persist()||i(e,r)},onTouchStart:function(e){return e.persist()||i(e,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function At(e,t){if(t.type===l.init)return a({columnResizing:{columnWidths:{}}},e);if(t.type===l.resetResize)return a({},e,{columnResizing:{columnWidths:{}}});if(t.type===l.columnStartResizing){var n=t.clientX,r=t.columnId,i=t.columnWidth,o=t.headerIdWidths;return a({},e,{columnResizing:a({},e.columnResizing,{startX:n,headerIdWidths:o,columnWidth:i,isResizingColumn:r})})}if(t.type===l.columnResizing){var s=t.clientX,u=e.columnResizing,c=u.startX,d=u.columnWidth,f=u.headerIdWidths,p=(s-c)/d,h={};return(void 0===f?[]:f).forEach((function(e){var t=e[0],n=e[1];h[t]=Math.max(n+n*p,0)})),a({},e,{columnResizing:a({},e.columnResizing,{columnWidths:a({},e.columnResizing.columnWidths,{},h)})})}return t.type===l.columnDoneResizing?a({},e,{columnResizing:a({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Mt.pluginName="useResizeColumns";var It=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,a=e.state.columnResizing,i=y(e);t.forEach((function(e){var t=D(!0!==e.disableResizing&&void 0,!0!==n&&void 0,!0);e.canResize=t,e.width=a.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=a.isResizingColumn===e.id,t&&(e.getResizerProps=f(r().getResizerProps,{instance:i(),header:e}))}))};function Nt(e){var n=e.plugins,r=e.dispatch,a=e.autoResetResize,i=void 0===a||a,o=e.columns;g(n,["useAbsoluteLayout"],"useResizeColumns");var s=y(i);b((function(){s()&&r({type:l.resetResize})}),[o]);var u=t.useCallback((function(){return r({type:l.resetResize})}),[r]);Object.assign(e,{resetResizing:u})}var Lt={position:"absolute",top:0},jt=function(e){e.getTableBodyProps.push(zt),e.getRowProps.push(zt),e.getHeaderGroupProps.push(zt),e.getFooterGroupProps.push(zt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:a({},Lt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:a({},Lt,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:a({},Lt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};jt.pluginName="useAbsoluteLayout";var zt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Ft={display:"inline-block",boxSizing:"border-box"},Vt=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Ht=function(e){e.getRowProps.push(Vt),e.getHeaderGroupProps.push(Vt),e.getFooterGroupProps.push(Vt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:a({},Ft,{width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:a({},Ft,{width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:a({},Ft,{width:n.totalWidth+"px"})}]}))};function Wt(e){e.getTableProps.push(qt),e.getRowProps.push(Ut),e.getHeaderGroupProps.push(Ut),e.getFooterGroupProps.push(Ut),e.getHeaderProps.push(Kt),e.getCellProps.push(Gt),e.getFooterProps.push(Yt)}Ht.pluginName="useBlockLayout",Wt.pluginName="useFlexLayout";var qt=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Ut=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Kt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},Gt=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Yt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Xt(e){e.stateReducers.push(Zt),e.getTableProps.push($t),e.getHeaderProps.push(Qt)}Xt.pluginName="useGridLayout";var $t=function(e,t){return[e,{style:{display:"grid",gridTemplateColumns:t.instance.state.gridLayout.columnWidths.map((function(e){return e})).join(" ")}}]},Qt=function(e,t){return[e,{id:"header-cell-"+t.column.id,style:{position:"sticky"}}]};function Zt(e,t,n,r){if("init"===t.type)return a({gridLayout:{columnWidths:r.columns.map((function(){return"auto"}))}},e);if("columnStartResizing"===t.type){var i=t.columnId,o=r.visibleColumns.findIndex((function(e){return e.id===i})),l=function(e){var t,n=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==n)return n}(i);return void 0!==l?a({},e,{gridLayout:a({},e.gridLayout,{columnId:i,columnIndex:o,startingWidth:l})}):e}if("columnResizing"===t.type){var s=e.gridLayout,u=s.columnIndex,c=s.startingWidth,d=s.columnWidths,f=c-(e.columnResizing.startX-t.clientX),p=[].concat(d);return p[u]=f+"px",a({},e,{gridLayout:a({},e.gridLayout,{columnWidths:p})})}}e._UNSTABLE_usePivotColumns=nt,e.actions=l,e.defaultColumn=c,e.defaultGroupByFn=He,e.defaultOrderByFn=Ze,e.defaultRenderer=s,e.emptyRenderer=u,e.ensurePluginOrder=g,e.flexRender=x,e.functionalUpdate=v,e.loopHooks=h,e.makePropGetter=f,e.makeRenderer=w,e.reduceHooks=p,e.safeUseLayoutEffect=m,e.useAbsoluteLayout=jt,e.useAsyncDebounce=function(e,n){void 0===n&&(n=0);var a=t.useRef({}),i=y(e),o=y(n);return t.useCallback(function(){var e=r(regeneratorRuntime.mark((function e(){var t,n,l,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.length,n=new Array(t),l=0;l<t;l++)n[l]=s[l];return a.current.promise||(a.current.promise=new Promise((function(e,t){a.current.resolve=e,a.current.reject=t}))),a.current.timeout&&clearTimeout(a.current.timeout),a.current.timeout=setTimeout(r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete a.current.timeout,e.prev=1,e.t0=a.current,e.next=5,i().apply(void 0,n);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),a.current.reject(e.t2);case 12:return e.prev=12,delete a.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),o()),e.abrupt("return",a.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[i,o])},e.useBlockLayout=Ht,e.useColumnOrder=Dt,e.useExpanded=se,e.useFilters=Pe,e.useFlexLayout=Wt,e.useGetLatest=y,e.useGlobalFilter=De,e.useGridLayout=Xt,e.useGroupBy=Ie,e.useMountedLayoutEffect=b,e.usePagination=Je,e.useResizeColumns=Mt,e.useRowSelect=gt,e.useRowState=kt,e.useSortBy=Ye,e.useTable=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e=ie(e),r=[G].concat(r);var o=y(t.useRef({}).current);Object.assign(o(),a({},e,{plugins:r,hooks:K()})),r.filter(Boolean).forEach((function(e){e(o().hooks)}));var s=y(o().hooks);o().getHooks=s,delete o().hooks,Object.assign(o(),p(s().useOptions,ie(e)));var u=o(),c=u.data,d=u.columns,g=u.initialState,v=u.defaultColumn,m=u.getSubRows,b=u.getRowId,x=u.stateReducer,_=u.useControlledState,D=y(x),R=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action ");return[].concat(s().stateReducers,Array.isArray(D())?D():[D()]).reduce((function(n,r){return r(n,t,e,o())||n}),e)}),[s,D,o]),O=t.useReducer(R,void 0,(function(){return R(g,{type:l.init})})),T=O[0],M=O[1],B=p([].concat(s().useControlledState,[_]),T,{instance:o()});Object.assign(o(),{state:B,dispatch:M});var A=t.useMemo((function(){return E(p(s().columns,d,{instance:o()}))}),[s,o,d].concat(p(s().columnsDeps,[],{instance:o()})));o().columns=A;var I=t.useMemo((function(){return p(s().allColumns,S(A),{instance:o()}).map(k)}),[A,s,o].concat(p(s().allColumnsDeps,[],{instance:o()})));o().allColumns=I;var N=t.useMemo((function(){for(var e=[],t=[],n={},r=[].concat(I);r.length;){var a=r.shift();le({data:c,rows:e,flatRows:t,rowsById:n,column:a,getRowId:b,getSubRows:m,accessValueHooks:s().accessValue,getInstance:o})}return[e,t,n]}),[I,c,b,m,s,o]),L=N[0],j=N[1],z=N[2];Object.assign(o(),{rows:L,initialRows:[].concat(L),flatRows:j,rowsById:z}),h(s().useInstanceAfterData,o());var F=t.useMemo((function(){return p(s().visibleColumns,I,{instance:o()}).map((function(e){return P(e,v)}))}),[s,I,o,v].concat(p(s().visibleColumnsDeps,[],{instance:o()})));I=t.useMemo((function(){var e=[].concat(F);return I.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[I,F]),o().allColumns=I;var V=t.useMemo((function(){return p(s().headerGroups,C(F,v),o())}),[s,F,v,o].concat(p(s().headerGroupsDeps,[],{instance:o()})));o().headerGroups=V;var H=t.useMemo((function(){return V.length?V[0].headers:[]}),[V]);o().headers=H,o().flatHeaders=V.reduce((function(e,t){return[].concat(e,t.headers)}),[]),h(s().useInstanceBeforeDimensions,o());var W=F.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");F=t.useMemo((function(){return F.filter((function(e){return e.isVisible}))}),[F,W]),o().visibleColumns=F;var q=oe(H),U=q[0],Y=q[1],X=q[2];return o().totalColumnsMinWidth=U,o().totalColumnsWidth=Y,o().totalColumnsMaxWidth=X,h(s().useInstance,o()),[].concat(o().flatHeaders,o().allColumns).forEach((function(e){e.render=w(o(),e),e.getHeaderProps=f(s().getHeaderProps,{instance:o(),column:e}),e.getFooterProps=f(s().getFooterProps,{instance:o(),column:e})})),o().headerGroups=t.useMemo((function(){return V.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=f(s().getHeaderGroupProps,{instance:o(),headerGroup:e,index:t}),e.getFooterGroupProps=f(s().getFooterGroupProps,{instance:o(),headerGroup:e,index:t}),!0)}))}),[V,o,s]),o().footerGroups=[].concat(o().headerGroups).reverse(),o().prepareRow=t.useCallback((function(e){e.getRowProps=f(s().getRowProps,{instance:o(),row:e}),e.allCells=I.map((function(t){var n=e.values[t.id],r={column:t,row:e,value:n};return r.getCellProps=f(s().getCellProps,{instance:o(),cell:r}),r.render=w(o(),t,{row:e,cell:r,value:n}),r})),e.cells=F.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),h(s().prepareRow,e,{instance:o()})}),[s,o,I,F]),o().getTableProps=f(s().getTableProps,{instance:o()}),o().getTableBodyProps=f(s().getTableBodyProps,{instance:o()}),h(s().useFinalInstance,o()),o()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(7294))},9521:(e,t,n)=>{e.exports=n(217)},2408:(e,t,n)=>{"use strict";var r=n(7418),a=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,l=60110,s=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),i=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),l=d("react.context"),s=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=m.prototype=new y;b.constructor=m,r(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,i={},o=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:l,props:i,_owner:w.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var P=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,n,r,o){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case i:s=!0}}if(s)return o=o(s=e),e=""===r?"."+C(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),_(o,t,n,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+C(l=e[u],u);s+=_(l,t,n,c,o)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),u=0;!(l=e.next()).done;)s+=_(l=l.value,t,n,c=r+C(l,u++),o);else if("object"===l)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function D(e,t,n){if(null==e)return e;var r=[],a=0;return _(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function R(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function T(){var e=O.current;if(null===e)throw Error(p(321));return e}var M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var i=r({},e.props),o=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:a,type:e.type,key:o,ref:l,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return T().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,n){return T().useReducer(e,t,n)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.2"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},53:(e,t)=>{"use strict";var n,r,a,i;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,d=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},a=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,y=-1,m=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+m;try{v(!0,e)?x.postMessage(null):(g=!1,v=null)}catch(e){throw x.postMessage(null),e}}else g=!1},n=function(e){v=e,g||(g=!0,x.postMessage(null))},r=function(e,n){y=f((function(){e(t.unstable_now())}),n)},a=function(){p(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<P(a,t)))break e;e[r]=t,e[n]=a,n=r}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],l=i+1,s=e[l];if(void 0!==o&&0>P(o,n))void 0!==s&&0>P(s,o)?(e[r]=s,e[l]=n,r=l):(e[r]=o,e[i]=n,r=i);else{if(!(void 0!==s&&0>P(s,n)))break e;e[r]=s,e[l]=n,r=l}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],_=[],D=1,R=null,O=3,T=!1,M=!1,B=!1;function A(e){for(var t=S(_);null!==t;){if(null===t.callback)k(_);else{if(!(t.startTime<=e))break;k(_),t.sortIndex=t.expirationTime,E(C,t)}t=S(_)}}function I(e){if(B=!1,A(e),!M)if(null!==S(C))M=!0,n(N);else{var t=S(_);null!==t&&r(I,t.startTime-e)}}function N(e,n){M=!1,B&&(B=!1,a()),T=!0;var i=O;try{for(A(n),R=S(C);null!==R&&(!(R.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=R.callback;if("function"==typeof o){R.callback=null,O=R.priorityLevel;var l=o(R.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?R.callback=l:R===S(C)&&k(C),A(n)}else k(C);R=S(C)}if(null!==R)var s=!0;else{var u=S(_);null!==u&&r(I,u.startTime-n),s=!1}return s}finally{R=null,O=i,T=!1}}var L=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||T||(M=!0,n(N))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return S(C)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,i,o){var l=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?l+o:l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:D++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>l?(e.sortIndex=o,E(_,e),null===S(C)&&e===S(_)&&(B?a():B=!0,r(I,o-l))):(e.sortIndex=s,E(C,e),M||T||(M=!0,n(N))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},502:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.App=t.ScrollToTop=void 0;var o=i(n(7294)),l=n(4022),s=n(8872),u=n(5357),c=n(9183);t.ScrollToTop=function(){var e=l.useLocation().pathname;return o.useEffect((function(){window.scrollTo(0,0)}),[e]),null},t.App=function(){var e=o.useState({}),n=e[0],r=e[1],a=o.useState(s.getDefaultCasinoRues()),i=a[0],d=a[1],f=o.useState(!0),p=f[0],h=f[1],g=o.useState(s.getDefaultPlayerStrategy()),v=g[0],y=g[1],m=o.useState(),b=m[0],w=m[1],x=o.useState(),E=x[0],S=x[1],k=o.useState(),P=k[0],C=k[1];return o.useEffect((function(){h(!0)}),[n,i,v]),o.useEffect((function(){if(p){var e=s.getAllRepresentativeHands(i),t=s.getDealerFacts(e),r=s.getPlayerFacts(e,t,i,v,n),a=s.getPlayerAverageData(r),o=s.groupPlayerFacts(r);w(t),S(a),C(o),h(!1)}}),[p]),o.default.createElement("div",null,o.default.createElement(l.BrowserRouter,{basename:"/blackjack-odds"},o.default.createElement(t.ScrollToTop,null),o.default.createElement(c.NavBar,null),o.default.createElement(l.Routes,null,o.default.createElement(l.Route,{path:u.Paths.playerDecisions,element:o.default.createElement(c.PlayerDecisionsAll,{actionOverrides:n,actionOverridesSetter:r,playerBaseData:null==E?void 0:E.vsDealerCards,playerFacts:P,dealerFacts:b,processing:p})}),o.default.createElement(l.Route,{path:u.Paths.playerDecisionsDealerCard,element:o.default.createElement(c.PlayerDecisionsDealerCard,{dealerFacts:b,playerFacts:P,processing:p})}),o.default.createElement(l.Route,{path:u.Paths.playerDecisionsScore,element:o.default.createElement(c.PlayerDecisionsScore,{actionOverrides:n,actionOverridesSetter:r,dealerFacts:b,playerFacts:P,processing:p})}),o.default.createElement(l.Route,{path:u.Paths.strategyAndRules,element:o.default.createElement(c.StrategyAndRules,{casinoRules:i,casinoRulesSetter:d,playerBaseData:null==E?void 0:E.vsDealerCards,playerStrategy:v,playerStrategySetter:y,processing:p})}),o.default.createElement(l.Route,{path:"*",element:o.default.createElement(l.Navigate,{to:u.Paths.playerDecisions})}))))}},378:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CasinoRulesComponent=void 0;var i=a(n(7294)),o=n(5357);t.CasinoRulesComponent=function(e){return i.default.createElement(i.default.Fragment,null,i.default.createElement("h3",null,"Casino rules"),i.default.createElement("ul",null,i.default.createElement("li",null," ","Doubling mode:"," ",i.default.createElement("select",{disabled:e.processing,onChange:function(t){var n=t.target.value;e.casinoRulesSetter(r(r({},e.casinoRules),{doublingMode:n}))},value:e.casinoRules.doublingMode},Object.values(o.DoublingMode).map((function(e){return i.default.createElement("option",{key:e,value:e},o.displayDoublingModes[e])}))),i.default.createElement("br",null),i.default.createElement("br",null)),i.default.createElement("li",null,i.default.createElement("input",{checked:e.casinoRules.splitOptions.allowed,disabled:e.processing,onChange:function(t){var n=t.target.checked;e.casinoRulesSetter(r(r({},e.casinoRules),{splitOptions:{allowed:n,blackjackAfterSplit:!!n&&e.casinoRules.splitOptions.blackjackAfterSplit,doubleAfterSplit:!!n&&e.casinoRules.splitOptions.doubleAfterSplit,hitSplitAces:!!n&&e.casinoRules.splitOptions.hitSplitAces}}))},type:"checkbox"}),"Split",i.default.createElement("br",null),i.default.createElement("br",null),i.default.createElement("input",{checked:e.casinoRules.splitOptions.doubleAfterSplit,disabled:e.processing||!e.casinoRules.splitOptions.allowed,onChange:function(t){e.casinoRulesSetter(r(r({},e.casinoRules),{splitOptions:r(r({},e.casinoRules.splitOptions),{doubleAfterSplit:t.target.checked})}))},type:"checkbox"}),"Doubling after split",i.default.createElement("br",null),i.default.createElement("input",{checked:e.casinoRules.splitOptions.blackjackAfterSplit,disabled:e.processing||!e.casinoRules.splitOptions.allowed,onChange:function(t){e.casinoRulesSetter(r(r({},e.casinoRules),{splitOptions:r(r({},e.casinoRules.splitOptions),{blackjackAfterSplit:t.target.checked})}))},type:"checkbox"}),"Blackjack after split allowed (considered 21 otherwise)",i.default.createElement("br",null),i.default.createElement("input",{checked:e.casinoRules.splitOptions.hitSplitAces,disabled:e.processing||!e.casinoRules.splitOptions.allowed,onChange:function(t){e.casinoRulesSetter(r(r({},e.casinoRules),{splitOptions:r(r({},e.casinoRules.splitOptions),{hitSplitAces:t.target.checked})}))},type:"checkbox"}),"Hit split Aces allowed (limiting to Stand or Split otherwise)",i.default.createElement("br",null),i.default.createElement("br",null)),i.default.createElement("li",null,i.default.createElement("input",{checked:e.casinoRules.blackjackPayout,disabled:e.processing,onChange:function(t){e.casinoRulesSetter(r(r({},e.casinoRules),{blackjackPayout:t.target.checked}))},type:"checkbox"}),"Blackjack pays 3 to 2")))}},8876:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomTable=void 0;var l=o(n(7294)),s=n(9521),u={borderColor:n(8396).colors.border.regular,borderWidth:1,borderStyle:"solid",textAlign:"center"};t.CustomTable=function(e){var t,n=void 0===e.direction?"horizontal":e.direction,a=(t={columns:e.columns,data:e.data},s.useTable(t)),i=a.getTableProps,o=a.getTableBodyProps,c=a.headerGroups,d=a.rows,f=a.prepareRow,p=l.useMemo((function(){var t,a,i=c.map((function(e){return{cells:e.headers.map((function(e){var t=e.getHeaderProps();return l.default.createElement("th",r({},e.getHeaderProps(),{style:r(r(r({},t.style),u),{fontWeight:"bold",padding:"2px 4px"}),key:e.id}),e.render("Header"))})),rowProps:e.getHeaderGroupProps()}})),o=d.map((function(t){return f(t),{cells:t.cells.map((function(n){var a=n.getCellProps(),i=r(r(r(r({},a.style),u),{padding:0}),e.cellStyle?e.cellStyle(n):{});return l.default.createElement("td",r({},a,{style:i,key:t.id+"-"+n.column.id}),n.render("Cell"))})),rowProps:t.getRowProps()}})),s=(t=i.map((function(e){return e.cells})),a=Math.max.apply(Math,t.map((function(e){return e.length}))),Array(a).fill(void 0).map((function(e,n){return t.map((function(e){return e[n]})).filter((function(e){return void 0!==e}))})));return"horizontal"===n?{headers:i,data:o}:{headers:[],data:s.map((function(e,t){return{cells:e.concat(o.map((function(e){return e.cells[t]}))),rowProps:void 0}}))}}),[n,c,d]),h=p.headers,g=p.data;return l.default.createElement("table",r({width:e.width},i()),h.length>0&&l.default.createElement("thead",null,h.map((function(e,t){return l.default.createElement("tr",r({},e.rowProps,{key:"header-row-"+t}),e.cells)}))),l.default.createElement("tbody",r({},o()),g.map((function(e,t){return l.default.createElement("tr",r({},e.rowProps,{key:"row-"+t}),e.cells)}))))}},9461:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DecisionsProbabilityBreakdown=void 0;var l=o(n(7294)),s=n(1852),u=n(8396),c=n(8876),d=n(7507),f={padding:"4px"};t.DecisionsProbabilityBreakdown=function(e){var t=e.playerFact.hand.effectiveScore,n=s.useMediaQuery({minWidth:u.desktopBreakpoint}),a=e.playerFact.hand.allScores.length>1,i=u.probabilityLabels.playerLessThanCurrent(t),o=n?"500px":"100%",p=l.useMemo((function(){var t=[{Cell:function(e){return l.default.createElement("div",{style:f},e.row.original.action)},Header:"Action",id:"action"},{Cell:function(e){return l.default.createElement("div",{style:r(r({},f),u.colors.loss)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerBreakdown.playerBusting}))},Header:u.probabilityLabels.playerBusting,id:"playerBusting"},{Cell:function(e){return l.default.createElement("div",{style:r(r({},f),u.colors.loss)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerBreakdown.playerLessThanDealer}))},Header:u.probabilityLabels.playerLessThanDealer,id:"playerLessThanDealer"},{Cell:function(e){return l.default.createElement("div",{style:r(r({},f),u.colors.push)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerBreakdown.playerEqualToDealer}))},Header:u.probabilityLabels.playerEqualToDealer,id:"playerEqualToDealer"},{Cell:function(e){return l.default.createElement("div",{style:r(r({},f),u.colors.win)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerBreakdown.playerMoreThanDealer}))},Header:u.probabilityLabels.playerMoreThanDealer,id:"playerMoreThanDealer"},{Cell:function(e){return l.default.createElement("div",{style:r(r({},f),u.colors.win)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerBreakdown.dealerBusting}))},Header:u.probabilityLabels.dealerBusting,id:"dealerBusting"}];u.displayProbabilityTotals&&t.push({Cell:function(e){return l.default.createElement("div",{style:r({},f)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerBreakdown.total}))},Header:"Total",id:"breakdownTotal"}),a&&t.push({Cell:function(e){return l.default.createElement("div",{style:r({},f)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerBreakdown.playerLessThanCurrent}))},Header:i,id:"playerLessThanCurrent"});var n=[{Cell:function(e){return l.default.createElement("div",{style:f},e.row.original.action)},Header:"Action",id:"action"},{Cell:function(e){return l.default.createElement("div",{style:r(r({},f),u.colors.loss)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerOutcome.lossProbability}))},Header:"Loss",id:"lossProbability"},{Cell:function(e){return l.default.createElement("div",{style:r(r({},f),u.colors.push)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerOutcome.pushProbability}))},Header:"Push",id:"pushProbability"},{Cell:function(e){return l.default.createElement("div",{style:r(r({},f),u.colors.win)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerOutcome.winProbability}))},Header:"Win",id:"winProbability"}];return u.displayProbabilityTotals&&n.push({Cell:function(e){return l.default.createElement("div",{style:f},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerOutcome.totalProbability}))},Header:"Total",id:"outcomeTotal"}),n.push({Cell:function(e){return l.default.createElement("div",{style:r(r({},f),u.colors.advantage)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerOutcome.playerAdvantage.hands}))},Header:"Advantage",id:"playerAdvantageHands"},{Cell:function(e){return l.default.createElement("div",{style:r(r({},f),u.colors.payout)},l.default.createElement(d.RoundedFloat,{displayPercent:!1,value:e.row.original.vsDealerOutcome.playerAdvantage.payout}))},Header:"Payout",id:"playerAdvantagePayout"}),{breakdownColumns:t,data:e.dealerCardKey?e.playerFact.vsDealerCard[e.dealerCardKey].preferences:e.playerFact.vsDealerAverage.preferences,outcomeColumns:n}}),[e.playerFact,e.dealerCardKey]),h=p.breakdownColumns,g=p.data,v=p.outcomeColumns,y=function(e){return{borderColor:0===e.row.index?u.colors.border.highlight:u.colors.border.regular,borderWidth:0===e.row.index?2:1}};return l.default.createElement(l.default.Fragment,null,l.default.createElement("h4",null,"Hand outcome probability"),l.default.createElement(c.CustomTable,{cellStyle:y,columns:v,data:g,width:o}),l.default.createElement("h4",null,"Hand probability breakdown"),l.default.createElement(c.CustomTable,{cellStyle:y,columns:h,data:g,width:o}),l.default.createElement("p",null,u.probabilityLabels.playerBusting," = probability of player busting"),l.default.createElement("p",null,u.probabilityLabels.playerLessThanDealer," = probability of player getting a score lower than dealer's score"),l.default.createElement("p",null,u.probabilityLabels.playerEqualToDealer," = probability of player getting the same score as dealer's score"),l.default.createElement("p",null,u.probabilityLabels.playerMoreThanDealer," = probability of player getting a score higher than dealer's score"),l.default.createElement("p",null,u.probabilityLabels.dealerBusting," = probability of dealer busting (when player hand is not bust)"),a&&l.default.createElement("p",null,i," = probability of player getting a score lower than"," ",t))}},2834:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FinalScoresGraph=void 0;var l=o(n(9058)),s=i(n(7294)),u=n(8396),c=n(7507);t.FinalScoresGraph=function(e){var t=s.useRef(null);return s.useEffect((function(){if(t.current){var n={nodes:Object.keys(e.finalScores).concat(e.handDisplayKey).map((function(t){var n=e.playerFacts.find((function(e){return e.hand.displayKey===t})),r=n&&n.hand.isBust;return{data:{id:t,nodeColor:r?u.colors.loss.backgroundColor:u.colors.payout.backgroundColor}}})),edges:Object.keys(e.finalScores).map((function(t){var n=e.playerFacts.find((function(e){return e.hand.displayKey===t}));return{data:{edgeColor:n&&n.hand.isBust?u.colors.loss.backgroundColor:u.colors.payout.backgroundColor,source:e.handDisplayKey,target:t,label:c.getRoundedFloat(e.finalScores[t].weight)}}}))};l.default({container:t.current,layout:{name:"concentric",transform:function(e,t){return{x:2*t.x,y:2*t.y}}},userZoomingEnabled:!1,userPanningEnabled:!1,style:[{selector:"node",style:{content:"data(id)","text-valign":"center","text-halign":"center","background-color":"white",color:"data(nodeColor)","border-color":"data(nodeColor)","border-width":1,"font-size":16}},{selector:"edge",style:{"curve-style":"bezier",width:1,"target-arrow-shape":"triangle","line-color":"data(edgeColor)","target-arrow-color":"data(edgeColor)",label:"data(label)"}},{selector:"edge[label]",style:{color:"data(edgeColor)","text-background-opacity":1,"text-background-color":"white","font-size":14}}],elements:n})}}),[t,e.finalScores,e.handDisplayKey,e.playerFacts]),s.default.createElement("div",{ref:t,style:{border:"1px solid black",height:"min(80vh, 80vw)",width:"min(80vh, 80vw)"}})}},6789:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(378),t),a(n(8876),t),a(n(9461),t),a(n(2834),t),a(n(1513),t),a(n(3995),t),a(n(4414),t),a(n(8357),t),a(n(4466),t),a(n(5785),t),a(n(5184),t),a(n(7507),t)},1513:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InitialHandProbability=void 0;var a=r(n(7294)),i=n(7507);t.InitialHandProbability=function(e){var t,n=void 0===typeof e.displayPercent||e.displayPercent,r=(null===(t=e.playerFact)||void 0===t?void 0:t.weight)||0;return a.default.createElement(i.RoundedFloat,{displayPercent:n,value:r})}},4414:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OutcomeBadge=void 0;var a=r(n(7294)),i=n(1852),o=n(8396),l=n(7507);t.OutcomeBadge=function(e){var t=i.useMediaQuery({minWidth:o.desktopBreakpoint});return a.default.createElement("div",{style:{backgroundColor:e.backgroundColor,border:"1px solid "+e.color,borderRadius:8,color:e.color,flexGrow:1,marginBottom:t?8:4,marginRight:t?8:4,paddingBottom:8,paddingLeft:4,paddingRight:4,paddingTop:8,textAlign:"center"}},a.default.createElement("div",null,e.name),a.default.createElement("div",null,a.default.createElement("span",{style:{fontSize:24}},a.default.createElement(l.RoundedFloat,{displayPercent:!1,value:e.value}))," ","%"))}},3995:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OutcomeComponent=void 0;var i=a(n(7294)),o=n(1852),l=n(8396),s=n(4414),u=n(7507);t.OutcomeComponent=function(e){var t,n,a,c,d,f,p=o.useMediaQuery({minWidth:l.desktopBreakpoint});return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{style:{display:"grid",gridTemplateColumns:p?"repeat(5, 1fr)":"repeat(2, 1fr)"}},i.default.createElement(s.OutcomeBadge,r({},l.colors.payout,{name:"payout ()",value:(null===(t=e.outcome)||void 0===t?void 0:t.playerAdvantage.payout)||0})),i.default.createElement(s.OutcomeBadge,r({},l.colors.advantage,{name:"advantage (win - loss)",value:(null===(n=e.outcome)||void 0===n?void 0:n.playerAdvantage.hands)||0})),i.default.createElement(s.OutcomeBadge,r({},l.colors.win,{name:"winning hands",value:(null===(a=e.outcome)||void 0===a?void 0:a.winProbability)||0})),i.default.createElement(s.OutcomeBadge,r({},l.colors.loss,{name:"losing hands",value:(null===(c=e.outcome)||void 0===c?void 0:c.lossProbability)||0})),i.default.createElement(s.OutcomeBadge,r({},l.colors.push,{name:"pushing hands",value:(null===(d=e.outcome)||void 0===d?void 0:d.pushProbability)||0}))),l.displayProbabilityTotals&&i.default.createElement("p",null,l.probabilityLabels.playerTotal,":"," ",i.default.createElement(u.RoundedFloat,{value:(null===(f=e.outcome)||void 0===f?void 0:f.totalProbability)||0})))}},8357:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerDecisionsEdit=void 0;var i=a(n(7294));t.PlayerDecisionsEdit=function(e){return i.default.createElement(i.default.Fragment,null," ",i.default.createElement("input",{checked:e.playerDecisionsEdit,disabled:e.processing,onChange:function(t){return e.playerDecisionsEditSetter(t.target.checked)},type:"checkbox"}),"Edit player decisions"," ",i.default.createElement("button",{disabled:e.processing||0===Object.keys(e.actionOverrides).length,onClick:function(){var t=e.handKey?Object.keys(e.actionOverrides).reduce((function(t,n){var a;return r(r({},t),((a={})[n]=r({},Object.keys(e.actionOverrides[n]).filter((function(t){return t!==e.handKey})).reduce((function(t,a){var i;return r(r({},t),((i={})[a]=e.actionOverrides[n][a],i))}),{})),a))}),{}):{};e.actionOverridesSetter(t)},type:"button"},"Clear ",e.handKey?"this":"all"," edits"))}},5785:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerDecisionsTableCell=void 0;var i=a(n(7294)),o=n(4022),l=n(8872),s={padding:"4px 0"};t.PlayerDecisionsTableCell=function(e){return function(t){var n=t.row.original,a=n.hand,u=n.vsDealerCard[e.dealerFact.hand.key].preferences,c=u.map((function(e){return e.action})),d=l.getDisplayActions(c,{abbreviate:e.abbreviate}),f=d.actionStyles,p=d.displayActions;return i.default.createElement("div",{style:r(r({},s),f),key:e.dealerFact.hand.key},i.default.createElement("div",null,!e.processing&&e.playerDecisionsEdit?i.default.createElement("select",{onChange:function(t){var n,i,o=t.target.value.split(" / ");e.actionOverridesSetter(r(r({},e.actionOverrides),((n={})[e.dealerFact.hand.key]=r(r({},e.actionOverrides[e.dealerFact.hand.key]),((i={})[a.key]=o,i)),n)))},value:p},l.getOverrideActions(u.map((function(e){return e.action}))).map((function(e){var t=e.join(" / ");return i.default.createElement("option",{key:t,value:t},t)}))):i.default.createElement(o.Link,{to:l.getPlayerDecisionDealerCardPath(t.row.original.hand.displayKey,e.dealerFact.hand.displayKey),style:{color:"inherit",textDecoration:"none"}},p)))}}},4466:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerDecisionsTable=void 0;var l=i(n(7294)),s=n(1852),u=n(8396),c=n(8876),d=n(8357),f=n(5785),p=n(7507);t.PlayerDecisionsTable=function(e){var t=l.useState(!1),n=t[0],r=t[1],a=s.useMediaQuery({minWidth:u.desktopBreakpoint}),i=l.useMemo((function(){var t=!a&&"vertical"!==e.direction,r=Object.values(e.dealerFacts.byCard).reverse();return o(o([],e.additionalColumns||[]),r.map((function(r){return{Cell:f.PlayerDecisionsTableCell({abbreviate:t,actionOverrides:e.actionOverrides,actionOverridesSetter:e.actionOverridesSetter,dealerFact:r,playerDecisionsEdit:n,processing:e.processing}),Header:function(){return l.default.createElement(l.default.Fragment,null,r.hand.displayKey,!t&&l.default.createElement("span",{style:{fontSize:12,fontStyle:"italic",fontWeight:"normal"}}," ","(",l.default.createElement(p.RoundedFloat,{value:r.weight}),")"))},id:r.hand.key,dealerCardKey:r.hand.key}})))}),[a,n,e.actionOverrides,e.additionalColumns]);return l.default.createElement(l.default.Fragment,null,l.default.createElement(c.CustomTable,{cellStyle:function(e){var t=e.row.original,n=e.column.dealerCardKey,r=n&&t.vsDealerCard[n].hasOverride;return{borderColor:r?u.colors.border.highlight:u.colors.border.regular,opacity:r?.7:void 0}},columns:i,data:e.data,direction:e.direction,width:"100%"}),l.default.createElement("br",null),l.default.createElement(d.PlayerDecisionsEdit,{actionOverrides:e.actionOverrides,actionOverridesSetter:e.actionOverridesSetter,playerDecisionsEdit:n,playerDecisionsEditSetter:r,processing:e.processing,handKey:e.handKey}),l.default.createElement("br",null),l.default.createElement("br",null))}},5184:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerStrategyComponent=void 0;var l=o(n(7294)),s=n(8396),u=n(5357),c=function(e){var t=parseInt(e);return Math.min(s.maximumScore,Math.max(4,t))};t.PlayerStrategyComponent=function(e){var t=String(e.playerStrategy.standThreshold.value),n=l.useState(t),a=n[0],i=n[1];return l.useEffect((function(){t!==a&&i(t)}),[e.playerStrategy]),l.default.createElement(l.default.Fragment,null,l.default.createElement("h3",null,"Player strategy"),l.default.createElement("ul",null,l.default.createElement("li",null,"Decision criteria",l.default.createElement("br",null),Object.values(u.PlayerStrategy).map((function(t){return l.default.createElement(l.default.Fragment,{key:t},l.default.createElement("input",{checked:e.playerStrategy.strategy===t,disabled:e.processing,name:"player-strategy",onChange:function(t){e.playerStrategySetter(r(r({},e.playerStrategy),{strategy:t.target.value}))},type:"radio",value:t}),t===u.PlayerStrategy.maximumAdvantageHands?"Maximize advantage":t===u.PlayerStrategy.maximumAdvantagePayout?"Maximize payout":t===u.PlayerStrategy.maximumWin?"Maximize winning":t===u.PlayerStrategy.minimumLoss?"Minimize losing":"-",l.default.createElement("br",null))})),l.default.createElement("br",null)),l.default.createElement("li",null,"Optional actions",l.default.createElement("br",null),Object.keys(e.playerStrategy.optionalActions).map((function(t){return l.default.createElement(l.default.Fragment,{key:t},l.default.createElement("input",{checked:e.playerStrategy.optionalActions[t],disabled:e.processing,onChange:function(){var n;e.playerStrategySetter(r(r({},e.playerStrategy),{optionalActions:r(r({},e.playerStrategy.optionalActions),(n={},n[t]=!e.playerStrategy.optionalActions[t],n))}))},type:"checkbox"}),t,l.default.createElement("br",null))})),l.default.createElement("br",null)),l.default.createElement("li",null,l.default.createElement("input",{checked:e.playerStrategy.standThreshold.active,disabled:e.processing,onChange:function(){e.playerStrategySetter(r(r({},e.playerStrategy),{standThreshold:r(r({},e.playerStrategy.standThreshold),{active:!e.playerStrategy.standThreshold.active})}))},type:"checkbox"})," ","Stand threshold",l.default.createElement("br",null),"Always stand from"," ",l.default.createElement("input",{disabled:e.processing||!e.playerStrategy.standThreshold.active,onBlur:function(){e.playerStrategySetter(r(r({},e.playerStrategy),{standThreshold:r(r({},e.playerStrategy.standThreshold),{value:c(a)})}))},onChange:function(e){i(e.target.value)},type:"number",value:a,style:{width:40}})," ",a!==t&&" ","onwards",l.default.createElement("br",null),l.default.createElement("input",{checked:e.playerStrategy.standThreshold.useInSoftHands,disabled:e.processing||!e.playerStrategy.standThreshold.active,onChange:function(){e.playerStrategySetter(r(r({},e.playerStrategy),{standThreshold:r(r({},e.playerStrategy.standThreshold),{useInSoftHands:!e.playerStrategy.standThreshold.useInSoftHands})}))},type:"checkbox"})," ","Apply to soft hands")))}},7507:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoundedFloat=t.getRoundedFloat=void 0;var a=r(n(7294)),i=n(8396);t.getRoundedFloat=function(e,t,n,r){void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=i.decimalsNumber);var a=Math.pow(10,r),o=Math.round(e*a*(t?100:1))/a;return(e>0&&0===o?"~":"")+o+(n&&t?"%":"")},t.RoundedFloat=function(e){var n=void 0===e.displayPercent||e.displayPercent,r=void 0===e.isPercentage||e.isPercentage,i=t.getRoundedFloat(e.value,r,n,e.decimalsNumber);return a.default.createElement(a.default.Fragment,null,i)}},8396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scoreKeySeparator=t.probabilityLabels=t.blackjackScore=t.maximumScore=t.displayProbabilityTotals=t.desktopBreakpoint=t.decimalsNumber=t.dealerStandThreshold=t.colors=void 0,t.colors={border:{highlight:"coral",regular:"black"},link:{default:"black"},advantage:{backgroundColor:"white",color:"black"},loss:{backgroundColor:"#d9534f",color:"white"},payout:{backgroundColor:"#428bca",color:"white"},push:{backgroundColor:"#f0ad4e",color:"white"},win:{backgroundColor:"#5cb85c",color:"white"},doubleHit:{backgroundColor:"#daa520",color:"black"},doubleStand:{backgroundColor:"#b8860b",color:"black"},hit:{backgroundColor:"#428bca",color:"white"},splitHit:{backgroundColor:"#9a6f93",color:"white"},splitStand:{backgroundColor:"#80567a",color:"white"},stand:{backgroundColor:"#5cb85c",color:"black"}},t.dealerStandThreshold=17,t.decimalsNumber=2,t.desktopBreakpoint=768,t.displayProbabilityTotals=!1,t.maximumScore=21,t.blackjackScore=t.maximumScore+.5,t.probabilityLabels={dealerBusting:"D > "+t.maximumScore,playerAdvantageHands:"PA (hands)",playerAdvantagePayout:"PA (payout)",playerBusting:"P > "+t.maximumScore,playerEqualToDealer:"P = D",playerLessThanCurrent:function(e){return"P < "+e},playerLessThanDealer:"P < D",playerLoss:"P (loss)",playerMoreThanDealer:"P > D",playerPush:"P (push)",playerWin:"P (win)",playerTotal:"P (total)"},t.scoreKeySeparator="/"},7927:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(7294)),i=r(n(3935)),o=n(502),l=document.getElementById("app-placeholder");i.default.render(a.default.createElement(o.App,null),l)},1564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOverrideActions=t.getDisplayActions=void 0;var r=n(8396),a=n(5357);t.getDisplayActions=function(e,t){void 0===t&&(t={});var n=e[0]===a.Action.split||e[0]===a.Action.double?e.slice(0,2):[e[0]],i=n.join(" / "),o=i===a.Action.double+" / "+a.Action.hit?r.colors.doubleHit:i===a.Action.double+" / "+a.Action.stand?r.colors.doubleStand:i===a.Action.hit?r.colors.hit:i===a.Action.split+" / "+a.Action.hit?r.colors.splitHit:i===a.Action.split+" / "+a.Action.stand?r.colors.splitStand:i===a.Action.stand?r.colors.stand:{},l=i;if(void 0!==t.abbreviate&&t.abbreviate){var s=n.map((function(e){return e.substring(0,1)}));l=""+s[0]+s.slice(1).map((function(e){return e.toLowerCase()})).join("")}return{actionStyles:o,displayActions:l}},t.getOverrideActions=function(e){return e.map((function(e){return e===a.Action.double?[[a.Action.double,a.Action.hit],[a.Action.double,a.Action.stand]]:e===a.Action.split?[[a.Action.split,a.Action.hit],[a.Action.split,a.Action.stand]]:[[e]]})).flat().sort()}},1633:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCardSet=void 0;var r,a=n(5357);t.getCardSet=function(){if(!r){var e=[{symbol:a.CardSymbol.ace,values:[1,11],weight:1},{symbol:a.CardSymbol.figure,values:[10],weight:4},{symbol:a.CardSymbol.nine,values:[9],weight:1},{symbol:a.CardSymbol.eight,values:[8],weight:1},{symbol:a.CardSymbol.seven,values:[7],weight:1},{symbol:a.CardSymbol.six,values:[6],weight:1},{symbol:a.CardSymbol.five,values:[5],weight:1},{symbol:a.CardSymbol.four,values:[4],weight:1},{symbol:a.CardSymbol.three,values:[3],weight:1},{symbol:a.CardSymbol.two,values:[2],weight:1}],t=e.reduce((function(e,t){return e+t.weight}),0);r={cards:e,weight:t}}return r}},8937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultCasinoRues=void 0;var r=n(5357),a=n(942);t.getDefaultCasinoRues=function(){return{blackjackPayout:!0,doublingMode:r.DoublingMode.nine_ten_eleven_plus_soft,splitOptions:a.getDefaultSplitOptions()}}},1039:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getDealerFacts=void 0;var a=n(8396),i=n(5357),o=n(1633),l=n(9898),s=n(7173),u=function(e,t,n){var r,o;if(void 0!==e[n])return e[n];var s=t[n],c=((r={})[i.Action.stand]={action:i.Action.stand,finalScores:(o={},o[s.effectiveScore]={score:s.effectiveScore,weight:1},o)},r),d=[c[i.Action.stand]];s.isActive&&(s.nextHands.forEach((function(n){u(e,t,n.key)})),c[i.Action.hit]={action:i.Action.hit,finalScores:l.aggregateFinalScores(s.nextHands.map((function(t){return{finalScores:e[t.key].preferences[0].finalScores,weight:t.weight}})))},s.effectiveScore<a.dealerStandThreshold&&(d=[c[i.Action.hit]]));var f={allActions:c,preferences:d};return e[n]=f,f};t.getDealerFacts=function(e){var t=o.getCardSet(),n={},a=t.cards.reduce((function(a,i){var o,l=s.getHandKey([i]),c=u(n,e,l);return r(r({},a),((o={})[l]={decision:c,hand:e[l],weight:i.weight/t.weight},o))}),{});return{byCard:a,byCard_average:{finalScores:l.aggregateFinalScores(Object.values(a).map((function(e){return{finalScores:e.decision.preferences[0].finalScores,weight:e.weight}})))}}}},9898:function(e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.aggregateFinalScores=void 0,t.aggregateFinalScores=function(e){return e.map((function(e){return i(e.finalScores,e.weight)})).reduce(a,{})};var a=function(e,t){return Array.from(new Set(r(r([],Object.keys(e)),Object.keys(t)))).reduce((function(r,a){var i,o,l,s={score:parseFloat(a),weight:((null===(o=e[a])||void 0===o?void 0:o.weight)||0)+((null===(l=t[a])||void 0===l?void 0:l.weight)||0)};return n(n({},r),((i={})[a]=s,i))}),{})},i=function(e,t){return Object.values(e).reduce((function(e,r){var a,i={score:r.score,weight:r.weight*t};return n(n({},e),((a={})[r.score]=i,a))}),{})}},8872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVsDealerOutcome=t.aggregateOutcomes=t.getVsDealerBreakdown=t.aggregateBreakdowns=t.getDefaultSplitOptions=t.getAllRepresentativeHands=t.getDefaultPlayerStrategy=t.groupPlayerFacts=t.getPlayerFacts=t.getPlayerAverageData=t.getPlayerDecisionScorePath=t.getPlayerDecisionScoreParams=t.getPlayerDecisionDealerCardPath=t.getPlayerDecisionDealerCardParams=t.getDealerFacts=t.getDefaultCasinoRues=t.getCardSet=t.getOverrideActions=t.getDisplayActions=void 0;var r=n(1564);Object.defineProperty(t,"getDisplayActions",{enumerable:!0,get:function(){return r.getDisplayActions}}),Object.defineProperty(t,"getOverrideActions",{enumerable:!0,get:function(){return r.getOverrideActions}});var a=n(1633);Object.defineProperty(t,"getCardSet",{enumerable:!0,get:function(){return a.getCardSet}});var i=n(8937);Object.defineProperty(t,"getDefaultCasinoRues",{enumerable:!0,get:function(){return i.getDefaultCasinoRues}});var o=n(1039);Object.defineProperty(t,"getDealerFacts",{enumerable:!0,get:function(){return o.getDealerFacts}});var l=n(4443);Object.defineProperty(t,"getPlayerDecisionDealerCardParams",{enumerable:!0,get:function(){return l.getPlayerDecisionDealerCardParams}}),Object.defineProperty(t,"getPlayerDecisionDealerCardPath",{enumerable:!0,get:function(){return l.getPlayerDecisionDealerCardPath}}),Object.defineProperty(t,"getPlayerDecisionScoreParams",{enumerable:!0,get:function(){return l.getPlayerDecisionScoreParams}}),Object.defineProperty(t,"getPlayerDecisionScorePath",{enumerable:!0,get:function(){return l.getPlayerDecisionScorePath}});var s=n(1013);Object.defineProperty(t,"getPlayerAverageData",{enumerable:!0,get:function(){return s.getPlayerAverageData}}),Object.defineProperty(t,"getPlayerFacts",{enumerable:!0,get:function(){return s.getPlayerFacts}}),Object.defineProperty(t,"groupPlayerFacts",{enumerable:!0,get:function(){return s.groupPlayerFacts}});var u=n(5244);Object.defineProperty(t,"getDefaultPlayerStrategy",{enumerable:!0,get:function(){return u.getDefaultPlayerStrategy}});var c=n(7173);Object.defineProperty(t,"getAllRepresentativeHands",{enumerable:!0,get:function(){return c.getAllRepresentativeHands}});var d=n(942);Object.defineProperty(t,"getDefaultSplitOptions",{enumerable:!0,get:function(){return d.getDefaultSplitOptions}});var f=n(6704);Object.defineProperty(t,"aggregateBreakdowns",{enumerable:!0,get:function(){return f.aggregateBreakdowns}}),Object.defineProperty(t,"getVsDealerBreakdown",{enumerable:!0,get:function(){return f.getVsDealerBreakdown}});var p=n(5099);Object.defineProperty(t,"aggregateOutcomes",{enumerable:!0,get:function(){return p.aggregateOutcomes}}),Object.defineProperty(t,"getVsDealerOutcome",{enumerable:!0,get:function(){return p.getVsDealerOutcome}})},4443:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.prerenderingRoutes=t.getPlayerDecisionScoreParams=t.getPlayerDecisionScorePath=t.getPlayerDecisionDealerCardParams=t.getPlayerDecisionDealerCardPath=void 0;var a=n(8396),i=n(5357),o=n(6680),l=n(8937),s=n(7173),u="-";t.getPlayerDecisionDealerCardPath=function(e,t){return i.Paths.playerDecisionsDealerCard.replace(":"+o.playerDisplayKeyParam,e.replace(a.scoreKeySeparator,u)).replace(":"+o.dealerDisplayKeyParam,t)},t.getPlayerDecisionDealerCardParams=function(e){var t,n;return(t={})[o.dealerDisplayKeyParam]=e[o.dealerDisplayKeyParam],t[o.playerDisplayKeyParam]=null===(n=e[o.playerDisplayKeyParam])||void 0===n?void 0:n.replace(u,a.scoreKeySeparator),t},t.getPlayerDecisionScorePath=function(e){return i.Paths.playerDecisionsScore.replace(":"+o.playerDisplayKeyParam,e.replace(a.scoreKeySeparator,u))},t.getPlayerDecisionScoreParams=function(e){var t,n;return(t={})[o.playerDisplayKeyParam]=null===(n=e[o.playerDisplayKeyParam])||void 0===n?void 0:n.replace(u,a.scoreKeySeparator),t};var c=s.getAllRepresentativeHands(l.getDefaultCasinoRues()),d=Object.values(c).filter((function(e){return e.initialHand.isInitial})).map((function(e){return e.displayKey})),f=Object.values(c).filter((function(e){return e.isSingleCard})).map((function(e){return e.displayKey})),p=((r={})[i.Paths.playerDecisions]=[i.Paths.playerDecisions],r[i.Paths.playerDecisionsDealerCard]=d.map((function(e){return f.map((function(n){return t.getPlayerDecisionDealerCardPath(e,n)}))})).flat(),r[i.Paths.playerDecisionsScore]=d.map((function(e){return t.getPlayerDecisionScorePath(e)})),r[i.Paths.strategyAndRules]=[i.Paths.strategyAndRules],r);t.prerenderingRoutes=Object.values(p).flat()},1013:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.groupPlayerFacts=t.getPlayerFacts=t.getPlayerAverageData=void 0;var a=n(8396),i=n(5357),o=n(9898),l=n(7173),s=n(5099),u=n(6704),c=function(e,t){var n=e.map((function(e){return r(r({},t(e)),{weight:e.weight})}));return{finalScores:o.aggregateFinalScores(n),vsDealerBreakdown:u.aggregateBreakdowns(n),vsDealerOutcome:s.aggregateOutcomes(n)}},d=function(e,t,n,r,a){var i=void 0===a?{}:a,o=i.lossPayout,l=void 0===o?1:o,c=i.winPayout,d=void 0===c?1:c,f=u.getVsDealerBreakdown({dealerFinalScores:n,playerFinalScores:t,playerScore:r});return{action:e,finalScores:t,overrideIndex:-1,vsDealerBreakdown:f,vsDealerOutcome:s.getVsDealerOutcome({vsDealerBreakdown:f,lossPayout:l,winPayout:d})}};t.getPlayerAverageData=function(e){var t=Object.values(e).filter((function(e){return e.hand.initialHand.isInitial}));return{vsDealerAverage:c(t,(function(e){return e.vsDealerAverage.preferences[0]})),vsDealerCards:c(t,(function(e){return e.vsDealerCard_average}))}},t.getPlayerFacts=function(e,t,n,a,i){var o,l=r(((o={}).averageData={},o),Object.keys(t.byCard).reduce((function(e,t){var n;return r(r({},e),((n={})[t]={},n))}),{}));return Object.values(e).filter((function(e){return!e.isSingleCard})).reduce((function(o,s){var u;return r(r({},o),((u={})[s.key]=function(e,t,n,a,i,o,l,s){var u=f(n.averageData,a,e.key,i.byCard_average.finalScores,o,l),d=Object.keys(i.byCard).reduce((function(t,u){var c;return r(r({},t),((c={})[u]=r(r({},f(n[u],a,e.key,i.byCard[u].decision.preferences[0].finalScores,o,l,s[u]||{})),{weight:i.byCard[u].weight}),c))}),{}),p=c(Object.values(d),(function(e){return e.preferences[0]}));return{hand:e,weight:t,vsDealerAverage:u,vsDealerCard:d,vsDealerCard_average:p}}(s,s.initialHand.weight,l,e,t,n,a,i),u))}),{})},t.groupPlayerFacts=function(e){var t=Object.values(e).filter((function(e){return!e.hand.isSingleCard&&e.hand.effectiveScore<=a.blackjackScore})).reduce((function(e,t){var n,a,i,o=t.hand.codes.all.concat((null===(a=e[t.hand.displayKey])||void 0===a?void 0:a.hand.codes.all)||[]);o.sort(l.sortHandCodes);var s=r(r({},t),{hand:r(r({},t.hand),{codes:{all:o,representative:t.hand.codes.representative}}),weight:t.weight+((null===(i=e[t.hand.displayKey])||void 0===i?void 0:i.weight)||0)});return r(r({},e),((n={})[t.hand.displayKey]=s,n))}),{});return Object.values(t).sort((function(e,t){var n=e.hand.canSplit,r=t.hand.canSplit,a=n!==r,o=e.hand.allScores.length>1,s=t.hand.allScores.length>1,u=o!==s,c=e.hand.isBlackjack,d=t.hand.isBlackjack,f=c!==d,p=l.getHandDisplayKeyFromSymbols([i.CardSymbol.ace,i.CardSymbol.ace],!0);return a?+r-+n:e.hand.displayKey===p?1:t.hand.displayKey===p?-1:u?+s-+o:f?+c-+d:e.hand.effectiveScore-t.hand.effectiveScore}))};var f=function(e,t,n,r,a,l,s){if(void 0!==e[n])return e[n];var u=t[n],c={};!function(e,t,n,r){var a,o=((a={})[e.effectiveScore]={score:e.effectiveScore,weight:1},a);t[i.Action.stand]=d(i.Action.stand,o,n,e.effectiveScore,{winPayout:e.isBlackjack&&r.blackjackPayout?1.5:1})}(u,c,r,a),u.isActive&&(u.nextHands.forEach((function(n){f(e,t,n.key,r,a,l,s)})),function(e,t,n,r){var a=o.aggregateFinalScores(e.nextHands.map((function(e){return{finalScores:r[e.key].preferences[0].finalScores,weight:e.weight}})));t[i.Action.hit]=d(i.Action.hit,a,n,e.effectiveScore)}(u,c,r,e),u.canDouble&&function(e,t,n,r){var a=o.aggregateFinalScores(e.nextHands.map((function(e){return{finalScores:r[e.key].allActions[i.Action.stand].finalScores,weight:e.weight}})));t[i.Action.double]=d(i.Action.double,a,n,e.effectiveScore,{lossPayout:2,winPayout:2})}(u,c,r,e),u.canSplit&&(u.splitNextHands.forEach((function(n){f(e,t,n.key,r,a,l,s)})),function(e,t,n,r){var a=o.aggregateFinalScores(e.splitNextHands.map((function(e){return{finalScores:r[e.key].preferences[0].finalScores,weight:e.weight}}))),l=e.splitNextHands.map((function(e){return{lossPayout:r[e.key].preferences[0].vsDealerOutcome.lossPayout,winPayout:r[e.key].preferences[0].vsDealerOutcome.winPayout,weight:e.weight}})).reduce((function(e,t){return{lossPayout:e.lossPayout+t.lossPayout*t.weight,winPayout:e.winPayout+t.winPayout*t.weight}}),{lossPayout:0,winPayout:0});t[i.Action.split]=d(i.Action.split,a,n,e.effectiveScore,{lossPayout:2*l.lossPayout,winPayout:2*l.winPayout})}(u,c,r,e)));var h=s&&s[n],g=s&&!h&&s["special"+n];g&&(h=[g[g.length-1]],console.log("Secondary overrides",n,g)),h&&h.forEach((function(e,t){Object.values(c).find((function(t){return t.action===e})).overrideIndex=t}));var v=Object.values(c).sort((function(e,t){return e.overrideIndex>-1&&t.overrideIndex>-1?e.overrideIndex-t.overrideIndex:e.overrideIndex>-1&&-1===t.overrideIndex?-1:-1===e.overrideIndex&&t.overrideIndex>-1?1:p(u,l,e,t)})),y={allActions:c,hasOverride:v.some((function(e){return-1!==e.overrideIndex})),preferences:v};return e[n]=y,y},p=function(e,t,n,r){var a=n.action===i.Action.stand,o=r.action===i.Action.stand;if(t.standThreshold.active&&e.effectiveScore>=t.standThreshold.value&&(1===e.allScores.length||t.standThreshold.useInSoftHands)&&(a||o))return a?-1:1;var l=n.action===i.Action.hit||n.action===i.Action.stand||t.optionalActions[n.action],s=r.action===i.Action.hit||r.action===i.Action.stand||t.optionalActions[r.action];return l!==s?+s-+s:t.strategy===i.PlayerStrategy.maximumAdvantageHands?r.vsDealerOutcome.playerAdvantage.hands-n.vsDealerOutcome.playerAdvantage.hands:t.strategy===i.PlayerStrategy.maximumAdvantagePayout?r.vsDealerOutcome.playerAdvantage.payout-n.vsDealerOutcome.playerAdvantage.payout:t.strategy===i.PlayerStrategy.maximumWin?r.vsDealerOutcome.winProbability-n.vsDealerOutcome.winProbability:n.vsDealerOutcome.lossProbability-r.vsDealerOutcome.lossProbability}},5244:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultPlayerStrategy=void 0;var r=n(5357);t.getDefaultPlayerStrategy=function(){var e;return{optionalActions:(e={},e[r.Action.double]=!0,e[r.Action.split]=!0,e),standThreshold:{active:!1,value:16,useInSoftHands:!1},strategy:r.PlayerStrategy.maximumAdvantagePayout}}},7173:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.sortHandCodes=t.isBustScore=t.isBlackjack=t.getHandKey=t.getHandDisplayKeyFromSymbols=t.getAllRepresentativeHands=void 0;var a=n(8396),i=n(5357),o=n(3147),l=n(1633),s=function(e,n,o){void 0===o&&(o={});var s=g(e,o),v=u(e),y=f(s),m=y<a.maximumScore&&!o.forbiddenHit,b=t.isBlackjack(e,o),w=t.isBustScore(y),x=t.getHandKey(e,o),E=function(e,t,n){if((void 0===n?{}:n).forbiddenDouble||2!==e.length)return!1;var a=JSON.stringify(g(e)),o=[[9],[10],[11]].map((function(e){return JSON.stringify(e)})),l=[[9,19],[10,20]].map((function(e){return JSON.stringify(e)})),s=r(r([],o),l);return t===i.DoublingMode.any_pair||t===i.DoublingMode.nine_ten_eleven_plus_soft&&s.includes(a)||t===i.DoublingMode.nine_ten_eleven&&o.includes(a)}(e,n.doublingMode,o),S=function(e,t,n){return void 0===n&&(n={}),t.allowed&&h(e,n)}(e,n.splitOptions,o),k=d(e,S,o),P=l.getCardSet(),C=m?P.cards.map((function(n){var r=e.concat([n]);return{cards:r,key:t.getHandKey(r),representativeCode:p(r),weight:n.weight/P.weight}})):[],_=m&&S?P.cards.map((function(r){var a=[e[0],r],o=u(a),l={forbiddenBlackjack:!n.splitOptions.blackjackAfterSplit,forbiddenDouble:!n.splitOptions.doubleAfterSplit,forbiddenHit:o===c([i.CardSymbol.ace,i.CardSymbol.ace])&&!n.splitOptions.hitSplitAces,forbiddenSplit:!0};return{cards:a,key:t.getHandKey(a,l),representativeCode:p(a,l),splitRestrictions:l,weight:r.weight/P.weight}})):[];return{allScores:s,canDouble:E,canSplit:S,codes:{all:w?[]:[v],representative:p(e,o)},displayKey:k,effectiveScore:y,initialHand:{isInitial:!1,weight:0},isActive:m,isBlackjack:b,isSingleCard:1===e.length,isBust:w,key:x,nextHands:C,splitNextHands:_}};t.getAllRepresentativeHands=function(e){for(var n=l.getCardSet(),r=n.cards.map((function(e){return{cards:[e],key:t.getHandKey([e])}})),a={},i={},o={};r.length>0;){var c=r.shift(),d=c.cards,p=c.key,h=c.splitRestrictions,v=u(d);void 0===i[p]?i[p]=s(d,e,h):i[p].codes.all.includes(v)||(i[p].codes.all.push(v),i[p].codes.all.sort(t.sortHandCodes)),i[p].isActive&&(i[p].nextHands.forEach((function(l){var u=g(l.cards),c=f(u),d=t.isBustScore(c);d&&void 0===i[l.key]?i[l.key]=s(l.cards,e):d||(a[l.representativeCode]||(r.push(l),a[l.representativeCode]=!0),2===l.cards.length&&(o[l.key]=(o[l.key]||0)+l.cards[0].weight*l.cards[1].weight/Math.pow(n.weight,2)))})),i[p].canSplit&&i[p].splitNextHands.forEach((function(e){a[e.representativeCode]||(r.push(e),a[e.representativeCode]=!0)})))}return Object.keys(o).forEach((function(e){i[e].initialHand={isInitial:!0,weight:o[e]}})),i};var u=function(e){return e.map((function(e){return e.symbol})).sort((function(e,t){var n=parseInt(e),r=parseInt(t);return isNaN(n)&&isNaN(r)?0:isNaN(n)?-1:isNaN(r)?1:r-n})).join(",")},c=function(e){var t=l.getCardSet(),n=e.map((function(e){return t.cards.find((function(t){return t.symbol===e}))}));return u(n)},d=function(e,n,r){void 0===r&&(r={});var i=u(e),o=t.isBlackjack(e,r),l=g(e,r);return 1===e.length?e[0].symbol:n?i:o?"BJ":l.join(a.scoreKeySeparator)};t.getHandDisplayKeyFromSymbols=function(e,t,n){void 0===n&&(n={});var r=l.getCardSet(),a=e.map((function(e){return r.cards.find((function(t){return t.symbol===e}))}));return d(a,t,n)};var f=function(e){return r([],e).reverse()[0]};t.getHandKey=function(e,t){void 0===t&&(t={});var n=g(e,t).join(a.scoreKeySeparator);return 1===e.length?"dealer"+e[0].symbol:2===e.length?"special"+(h(e,t)?e.map((function(e){return e.symbol})).join(","):n):n};var p=function(e,t){var n=(void 0===t?{}:t).forbiddenSplit;return u(e)+(n?" (postSplit)":"")};t.isBlackjack=function(e,t){return!(void 0===t?{}:t).forbiddenBlackjack&&2===e.length&&u(e)===c([i.CardSymbol.ace,i.CardSymbol.figure])},t.isBustScore=function(e){return e>a.blackjackScore};var h=function(e,t){return!(void 0===t?{}:t).forbiddenSplit&&2===e.length&&e[0].symbol===e[1].symbol},g=function(e,n){return void 0===n&&(n={}),t.isBlackjack(e,n)?[a.blackjackScore]:e.map((function(e){return e.values})).reduce((function(e,n){if(0===e.length)return n;var r=o.cartesianProduct(e,n,(function(e,t){return e+t})).sort((function(e,t){return e-t}));o.removeDuplicates(r);var a=r.filter((function(e){return!t.isBustScore(e)}));return a.length>0?a:[r[0]]}),[])};t.sortHandCodes=function(e,t){for(var n=e.split(","),r=t.split(","),a=Math.max(n.length,r.length),o=0;o<a;++o){var l=n[o],s=r[o];if(l===s&&n.length!==r.length)return n.length-r.length;if(l===i.CardSymbol.ace&&s!==i.CardSymbol.ace)return 1;if(l!==i.CardSymbol.ace&&s===i.CardSymbol.ace)return-1;if(l!==i.CardSymbol.ace&&s!==i.CardSymbol.ace){var u=parseInt(l),c=parseInt(s);if(u!==c)return c-u}}return 0}},942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSplitOptions=void 0,t.getDefaultSplitOptions=function(){return{allowed:!0,blackjackAfterSplit:!1,doubleAfterSplit:!0,hitSplitAces:!1}}},6704:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getVsDealerBreakdown=t.aggregateBreakdowns=void 0;var a=n(8396),i=n(7173);t.aggregateBreakdowns=function(e){return e.map((function(e){return u(e.vsDealerBreakdown,e.weight)})).reduce(s,void 0)};var o=function(e){return Object.values(e).filter((function(e){return i.isBustScore(e.score)})).reduce((function(e,t){return e+t.weight}),0)},l=function(e,t,n){return Object.values(e).filter((function(e){return e.score>=t&&e.score<=n})).reduce((function(e,t){return e+t.weight}),0)};t.getVsDealerBreakdown=function(e){var t=e.dealerFinalScores,n=e.playerFinalScores,s=e.playerScore,u=r({playerBusting:o(n),playerLessThanCurrent:l(n,0,s-1),total:0},Object.values(n).filter((function(e){return!i.isBustScore(e.score)})).reduce((function(e,n){return{dealerBusting:e.dealerBusting+n.weight*o(t),playerEqualToDealer:e.playerEqualToDealer+n.weight*l(t,n.score,n.score),playerLessThanDealer:e.playerLessThanDealer+n.weight*l(t,n.score+(n.score===a.maximumScore?.5:1),a.blackjackScore),playerMoreThanDealer:e.playerMoreThanDealer+n.weight*l(t,0,n.score-(n.score===a.blackjackScore?.5:1))}}),{dealerBusting:0,playerEqualToDealer:0,playerLessThanDealer:0,playerMoreThanDealer:0}));return u.total=u.playerBusting+u.dealerBusting+u.playerEqualToDealer+u.playerLessThanDealer+u.playerMoreThanDealer,u};var s=function(e,t){return e?{dealerBusting:e.dealerBusting+t.dealerBusting,playerBusting:e.playerBusting+t.playerBusting,playerEqualToDealer:e.playerEqualToDealer+t.playerEqualToDealer,playerLessThanCurrent:e.playerLessThanCurrent+t.playerLessThanCurrent,playerLessThanDealer:e.playerLessThanDealer+t.playerLessThanDealer,playerMoreThanDealer:e.playerMoreThanDealer+t.playerMoreThanDealer,total:e.total+t.total}:t},u=function(e,t){return{dealerBusting:e.dealerBusting*t,playerBusting:e.playerBusting*t,playerEqualToDealer:e.playerEqualToDealer*t,playerLessThanCurrent:e.playerLessThanCurrent*t,playerLessThanDealer:e.playerLessThanDealer*t,playerMoreThanDealer:e.playerMoreThanDealer*t,total:e.total*t}}},5099:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVsDealerOutcome=t.aggregateOutcomes=void 0,t.aggregateOutcomes=function(e){return e.map((function(e){return r(e.vsDealerOutcome,e.weight)})).reduce(n,void 0)},t.getVsDealerOutcome=function(e){var t=e.vsDealerBreakdown,n=e.lossPayout,r=e.winPayout,a=t.playerBusting+t.playerLessThanDealer,i=t.playerMoreThanDealer+t.dealerBusting,o={lossPayout:n,lossProbability:a,playerAdvantage:{hands:i-a,payout:i*r-a*n},pushProbability:t.playerEqualToDealer,totalProbability:0,winPayout:r,winProbability:i};return o.totalProbability=o.lossProbability+o.pushProbability+o.winProbability,o};var n=function(e,t){return e?{lossPayout:e.lossPayout+t.lossPayout,lossProbability:e.lossProbability+t.lossProbability,playerAdvantage:{hands:e.playerAdvantage.hands+t.playerAdvantage.hands,payout:e.playerAdvantage.payout+t.playerAdvantage.payout},pushProbability:e.pushProbability+t.pushProbability,totalProbability:e.totalProbability+t.totalProbability,winPayout:e.winPayout+t.winPayout,winProbability:e.winProbability+t.winProbability}:t},r=function(e,t){return{lossPayout:e.lossPayout*t,lossProbability:e.lossProbability*t,playerAdvantage:{hands:e.playerAdvantage.hands*t,payout:e.playerAdvantage.payout*t},pushProbability:e.pushProbability*t,totalProbability:e.totalProbability*t,winPayout:e.winPayout*t,winProbability:e.winProbability*t}}},4292:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0,(n=t.Action||(t.Action={})).double="Double",n.hit="Hit",n.split="Split",n.stand="Stand"},8617:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CardSymbol=void 0,(n=t.CardSymbol||(t.CardSymbol={})).two="2",n.three="3",n.four="4",n.five="5",n.six="6",n.seven="7",n.eight="8",n.nine="9",n.figure="10",n.ace="A"},9650:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.displayDoublingModes=t.DoublingMode=void 0;var a,i=n(8396);!function(e){e.none="none",e.nine_ten_eleven="nine_ten_eleven",e.nine_ten_eleven_plus_soft="nine_ten_eleven_plus_soft",e.any_pair="any_pair"}(a=t.DoublingMode||(t.DoublingMode={})),t.displayDoublingModes=((r={})[a.none]="None",r[a.nine_ten_eleven]="9, 10, 11",r[a.nine_ten_eleven_plus_soft]="9, 10, 11, 9"+i.scoreKeySeparator+"19, 10"+i.scoreKeySeparator+"20",r[a.any_pair]="Any pair",r)},5357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerStrategy=t.Paths=t.DoublingMode=t.displayDoublingModes=t.CardSymbol=t.Action=void 0;var r=n(4292);Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return r.Action}});var a=n(8617);Object.defineProperty(t,"CardSymbol",{enumerable:!0,get:function(){return a.CardSymbol}});var i=n(9650);Object.defineProperty(t,"displayDoublingModes",{enumerable:!0,get:function(){return i.displayDoublingModes}}),Object.defineProperty(t,"DoublingMode",{enumerable:!0,get:function(){return i.DoublingMode}});var o=n(6680);Object.defineProperty(t,"Paths",{enumerable:!0,get:function(){return o.Paths}});var l=n(6490);Object.defineProperty(t,"PlayerStrategy",{enumerable:!0,get:function(){return l.PlayerStrategy}})},6680:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Paths=t.playerDisplayKeyParam=t.dealerDisplayKeyParam=void 0,t.dealerDisplayKeyParam="dealerDisplayKey",t.playerDisplayKeyParam="playerDisplayKey",(n=t.Paths||(t.Paths={})).playerDecisions="/player-decisions",n.playerDecisionsDealerCard="/player-decisions/:playerDisplayKey/:dealerDisplayKey",n.playerDecisionsScore="/player-decisions/:playerDisplayKey",n.strategyAndRules="/strategy-and-rules"},6490:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerStrategy=void 0,(n=t.PlayerStrategy||(t.PlayerStrategy={})).maximumAdvantageHands="maximumAdvantageHands",n.maximumAdvantagePayout="maximumAdvantagePayout",n.maximumWin="maximumWin",n.minimumLoss="minimumLoss"},3147:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeDuplicates=t.cartesianProduct=void 0,t.cartesianProduct=function(e,t,n){return e.reduce((function(e,r){return e.concat(t.map((function(e){return n(r,e)})))}),[])},t.removeDuplicates=function(e){for(var t=e.length;t>0;--t)e[t]===e[t-1]&&e.splice(t,1)}},9183:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(2286),t),a(n(7726),t),a(n(9322),t),a(n(8530),t),a(n(1876),t)},2286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NavBar=void 0;var a=r(n(7294)),i=n(4022),o=n(8396),l=n(5357),s=function(e){return a.default.createElement(i.Link,{style:{color:o.colors.link.default,fontWeight:e.location.pathname===e.to?"bold":void 0,paddingRight:16,textDecoration:e.location.pathname===e.to?"unset":"underline"},to:e.to},e.children)};t.NavBar=function(){var e=i.useLocation();return a.default.createElement("nav",null,a.default.createElement(s,{location:e,to:l.Paths.playerDecisions},"Player decisions"),a.default.createElement(s,{location:e,to:l.Paths.strategyAndRules},"Strategy/Rules"))}},7726:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerDecisionsAll=void 0;var l=o(n(7294)),s=n(1852),u=n(4022),c=n(6789),d=n(8396),f=n(8872);t.PlayerDecisionsAll=function(e){var t,n=s.useMediaQuery({minWidth:d.desktopBreakpoint}),a=l.useMemo((function(){return[{accessor:"hand",Cell:function(e){return l.default.createElement("div",null,l.default.createElement(u.Link,{to:f.getPlayerDecisionScorePath(e.value.displayKey),style:{color:d.colors.link.default,textDecoration:"none"}},e.value.displayKey))},id:"score"},{Cell:function(e){return l.default.createElement("div",null,l.default.createElement(c.InitialHandProbability,{displayPercent:!1,playerFact:e.row.original}))},Header:"%",id:"initialHandProbability"}]}),[n,e.playerFacts]);return l.default.createElement("div",null,l.default.createElement("h3",null,"Player decisions"),l.default.createElement(c.OutcomeComponent,{outcome:null===(t=e.playerBaseData)||void 0===t?void 0:t.vsDealerOutcome}),void 0!==e.dealerFacts&&void 0!==e.playerFacts?l.default.createElement(c.PlayerDecisionsTable,r({},e,{additionalColumns:a,data:e.playerFacts,dealerFacts:e.dealerFacts})):"Processing...")}},9322:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerDecisionsDealerCard=void 0;var a=r(n(7294)),i=n(4022),o=n(6789),l=n(8872),s=n(5357);t.PlayerDecisionsDealerCard=function(e){var t,n=l.getPlayerDecisionDealerCardParams(i.useParams()),r=n.dealerDisplayKey,u=n.playerDisplayKey,c=null===(t=e.playerFacts)||void 0===t?void 0:t.find((function(e){return e.hand.displayKey===u})),d=e.dealerFacts&&Object.values(e.dealerFacts.byCard).find((function(e){return e.hand.displayKey===r}));return a.default.createElement("div",null,a.default.createElement("h3",null,u," vs ",r," player decisions"),a.default.createElement(o.OutcomeComponent,{outcome:d&&(null==c?void 0:c.vsDealerCard[d.hand.key].preferences[0].vsDealerOutcome)}),c&&d&&a.default.createElement(a.default.Fragment,null,a.default.createElement(o.DecisionsProbabilityBreakdown,{dealerCardKey:d.hand.key,playerFact:c}),a.default.createElement("br",null),a.default.createElement("br",null)),void 0!==c&&void 0!==d&&c.vsDealerCard[d.hand.key].preferences.filter((function(e){return e.action!==s.Action.stand})).map((function(t){return a.default.createElement(a.default.Fragment,{key:t.action},a.default.createElement("h4",null,t.action," final score probabilities"),a.default.createElement(o.FinalScoresGraph,{finalScores:t.finalScores,handDisplayKey:u,playerFacts:e.playerFacts}),a.default.createElement("br",null),a.default.createElement("br",null))})))}},8530:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerDecisionsScore=void 0;var l=o(n(7294)),s=n(1852),u=n(4022),c=n(6789),d=n(8396),f=n(8872);t.PlayerDecisionsScore=function(e){var t,n=f.getPlayerDecisionScoreParams(u.useParams()).playerDisplayKey,a=null===(t=e.playerFacts)||void 0===t?void 0:t.find((function(e){return e.hand.displayKey===n})),i=s.useMediaQuery({minWidth:d.desktopBreakpoint}),o=l.useState(!1),p=o[0],h=o[1];return l.default.createElement("div",null,l.default.createElement("h3",null,n," player decisions"),l.default.createElement(c.OutcomeComponent,{outcome:null==a?void 0:a.vsDealerCard_average.vsDealerOutcome}),l.default.createElement("h4",null,"Dealer card based decisions"),n&&void 0!==a&&void 0!==e.dealerFacts?l.default.createElement(c.PlayerDecisionsTable,r({},e,{data:[a],direction:i?"horizontal":"vertical",handKey:a.hand.key,dealerFacts:e.dealerFacts})):"Processing...",l.default.createElement("p",null,"Initial hand probability:"," ",l.default.createElement("span",{style:{fontWeight:"bold"}},l.default.createElement(c.InitialHandProbability,{playerFact:a}))),l.default.createElement("p",null,l.default.createElement("span",{onClick:function(){h(!p)},style:{cursor:"pointer"}},p?"":"")," ","Card combinations (",(null==a?void 0:a.hand.codes.all.length)||"-",")"),a&&p&&l.default.createElement("ul",null,a.hand.codes.all.map((function(e){return l.default.createElement("li",{key:e},e)}))))}},1876:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StrategyAndRules=void 0;var a=r(n(7294)),i=n(6789);t.StrategyAndRules=function(e){var t;return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.CasinoRulesComponent,{casinoRules:e.casinoRules,casinoRulesSetter:e.casinoRulesSetter,processing:e.processing}),a.default.createElement(i.PlayerStrategyComponent,{playerStrategy:e.playerStrategy,playerStrategySetter:e.playerStrategySetter,processing:e.processing}),a.default.createElement("br",null),a.default.createElement(i.OutcomeComponent,{outcome:null===(t=e.playerBaseData)||void 0===t?void 0:t.vsDealerOutcome}))}}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e].call(i.exports,i,i.exports,a),i.exports}t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,a.d(i,o),i},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a(7927)})();